var __awaiter=this&&this.__awaiter||function(e,t,o,i){return new(o||(o=Promise))(function(n,s){function r(e){try{l(i.next(e))}catch(e){s(e)}}function a(e){try{l(i["throw"](e))}catch(e){s(e)}}function l(e){e.done?n(e.value):new o(function(t){t(e.value)}).then(r,a)}l((i=i.apply(e,t||[])).next())})};var __generator=this&&this.__generator||function(e,t){var o={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},i,n,s,r;return r={next:a(0),throw:a(1),return:a(2)},typeof Symbol==="function"&&(r[Symbol.iterator]=function(){return this}),r;function a(e){return function(t){return l([e,t])}}function l(r){if(i)throw new TypeError("Generator is already executing.");while(o)try{if(i=1,n&&(s=r[0]&2?n["return"]:r[0]?n["throw"]||((s=n["return"])&&s.call(n),0):n.next)&&!(s=s.call(n,r[1])).done)return s;if(n=0,s)r=[r[0]&2,s.value];switch(r[0]){case 0:case 1:s=r;break;case 4:o.label++;return{value:r[1],done:false};case 5:o.label++;n=r[1];r=[0];continue;case 7:r=o.ops.pop();o.trys.pop();continue;default:if(!(s=o.trys,s=s.length>0&&s[s.length-1])&&(r[0]===6||r[0]===2)){o=0;continue}if(r[0]===3&&(!s||r[1]>s[0]&&r[1]<s[3])){o.label=r[1];break}if(r[0]===6&&o.label<s[1]){o.label=s[1];s=r;break}if(s&&o.label<s[2]){o.label=s[2];o.ops.push(r);break}if(s[2])o.ops.pop();o.trys.pop();continue}r=t.call(e,o)}catch(e){r=[6,e];n=0}finally{i=s=0}if(r[0]&5)throw r[1];return{value:r[0]?r[1]:void 0,done:true}}};System.register(["./p-651ecf64.system.js"],function(t){"use strict";var o,i,n;return{setters:[function(e){o=e.r;i=e.c;n=e.h}],execute:function(){var s=typeof globalThis!=="undefined"?globalThis:typeof window!=="undefined"?window:typeof global!=="undefined"?global:typeof self!=="undefined"?self:{};function r(e,t){return t={exports:{}},e(t,t.exports),t.exports}var a=r(function(t,o){var i=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol==="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};(function(e,n){if(i(o)==="object"&&"object"!=="undefined"){t.exports=n()}else{e.Tabulator=n()}})(s,function(){if(!Array.prototype.findIndex){Object.defineProperty(Array.prototype,"findIndex",{value:function e(t){if(this==null){throw new TypeError('"this" is null or not defined')}var o=Object(this);var i=o.length>>>0;if(typeof t!=="function"){throw new TypeError("predicate must be a function")}var n=arguments[1];var s=0;while(s<i){var r=o[s];if(t.call(n,r,s,o)){return s}s++}return-1}})}if(!Array.prototype.find){Object.defineProperty(Array.prototype,"find",{value:function e(t){if(this==null){throw new TypeError('"this" is null or not defined')}var o=Object(this);var i=o.length>>>0;if(typeof t!=="function"){throw new TypeError("predicate must be a function")}var n=arguments[1];var s=0;while(s<i){var r=o[s];if(t.call(n,r,s,o)){return r}s++}return undefined}})}var t=function e(t){this.table=t;this.blockHozScrollEvent=false;this.headersElement=this.createHeadersElement();this.element=this.createHeaderElement();this.rowManager=null;this.columns=[];this.columnsByIndex=[];this.columnsByField={};this.scrollLeft=0;this.scrollCount=0;this.element.insertBefore(this.headersElement,this.element.firstChild)};t.prototype.createHeadersElement=function(){var e=document.createElement("div");e.classList.add("tabulator-headers");return e};t.prototype.createHeaderElement=function(){var e=document.createElement("div");e.classList.add("tabulator-header");return e};t.prototype.initialize=function(){};t.prototype.setRowManager=function(e){this.rowManager=e};t.prototype.getElement=function(){return this.element};t.prototype.getHeadersElement=function(){return this.headersElement};t.prototype.scrollHorizontal=function(e){var t=0,o=this.element.scrollWidth-this.table.element.clientWidth;this.element.scrollLeft=e;if(e>o){t=e-o;this.element.style.marginLeft=-t+"px"}else{this.element.style.marginLeft=0}this.scrollLeft=e;if(this.table.modExists("frozenColumns")){this.table.modules.frozenColumns.scrollHorizontal()}};t.prototype.generateColumnsFromRowData=function(e){var t=[],o,n;if(e&&e.length){o=e[0];for(var s in o){var r={field:s,title:s};var a=o[s];switch(typeof a==="undefined"?"undefined":i(a)){case"undefined":n="string";break;case"boolean":n="boolean";break;case"object":if(Array.isArray(a)){n="array"}else{n="string"}break;default:if(!isNaN(a)&&a!==""){n="number"}else{if(a.match(/((^[0-9]+[a-z]+)|(^[a-z]+[0-9]+))+$/i)){n="alphanum"}else{n="string"}}break}r.sorter=n;t.push(r)}this.table.options.columns=t;this.setColumns(this.table.options.columns)}};t.prototype.setColumns=function(e,t){var o=this;while(o.headersElement.firstChild){o.headersElement.removeChild(o.headersElement.firstChild)}o.columns=[];o.columnsByIndex=[];o.columnsByField={};if(o.table.modExists("frozenColumns")){o.table.modules.frozenColumns.reset()}e.forEach(function(e,t){o._addColumn(e)});o._reIndexColumns();if(o.table.options.responsiveLayout&&o.table.modExists("responsiveLayout",true)){o.table.modules.responsiveLayout.initialize()}o.redraw(true)};t.prototype._addColumn=function(e,t,o){var i=new n(e,this),s=i.getElement(),r=o?this.findColumnIndex(o):o;if(o&&r>-1){var a=this.columns.indexOf(o.getTopColumn());var l=o.getElement();if(t){this.columns.splice(a,0,i);l.parentNode.insertBefore(s,l)}else{this.columns.splice(a+1,0,i);l.parentNode.insertBefore(s,l.nextSibling)}}else{if(t){this.columns.unshift(i);this.headersElement.insertBefore(i.getElement(),this.headersElement.firstChild)}else{this.columns.push(i);this.headersElement.appendChild(i.getElement())}}return i};t.prototype.registerColumnField=function(e){if(e.definition.field){this.columnsByField[e.definition.field]=e}};t.prototype.registerColumnPosition=function(e){this.columnsByIndex.push(e)};t.prototype._reIndexColumns=function(){this.columnsByIndex=[];this.columns.forEach(function(e){e.reRegisterPosition()})};t.prototype._verticalAlignHeaders=function(){var e=this,t=0;e.columns.forEach(function(e){var o;e.clearVerticalAlign();o=e.getHeight();if(o>t){t=o}});e.columns.forEach(function(o){o.verticalAlign(e.table.options.columnVertAlign,t)});e.rowManager.adjustTableSize()};t.prototype.findColumn=function(e){var t=this;if((typeof e==="undefined"?"undefined":i(e))=="object"){if(e instanceof n){return e}else if(e instanceof o){return e._getSelf()||false}else if(typeof HTMLElement!=="undefined"&&e instanceof HTMLElement){var s=t.columns.find(function(t){return t.element===e});return s||false}}else{return this.columnsByField[e]||false}return false};t.prototype.getColumnByField=function(e){return this.columnsByField[e]};t.prototype.getColumnByIndex=function(e){return this.columnsByIndex[e]};t.prototype.getFirstVisibileColumn=function(e){var e=this.columnsByIndex.findIndex(function(e){return e.visible});return e>-1?this.columnsByIndex[e]:false};t.prototype.getColumns=function(){return this.columns};t.prototype.findColumnIndex=function(e){return this.columnsByIndex.findIndex(function(t){return e===t})};t.prototype.getRealColumns=function(){return this.columnsByIndex};t.prototype.traverse=function(e){var t=this;t.columnsByIndex.forEach(function(t,o){e(t,o)})};t.prototype.getDefinitions=function(e){var t=this,o=[];t.columnsByIndex.forEach(function(t){if(!e||e&&t.visible){o.push(t.getDefinition())}});return o};t.prototype.getDefinitionTree=function(){var e=this,t=[];e.columns.forEach(function(e){t.push(e.getDefinition(true))});return t};t.prototype.getComponents=function(e){var t=this,o=[],i=e?t.columns:t.columnsByIndex;i.forEach(function(e){o.push(e.getComponent())});return o};t.prototype.getWidth=function(){var e=0;this.columnsByIndex.forEach(function(t){if(t.visible){e+=t.getWidth()}});return e};t.prototype.moveColumn=function(e,t,o){this._moveColumnInArray(this.columns,e,t,o);this._moveColumnInArray(this.columnsByIndex,e,t,o,true);if(this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",true)){this.table.modules.responsiveLayout.initialize()}if(this.table.options.columnMoved){this.table.options.columnMoved.call(this.table,e.getComponent(),this.table.columnManager.getComponents())}if(this.table.options.persistentLayout&&this.table.modExists("persistence",true)){this.table.modules.persistence.save("columns")}};t.prototype._moveColumnInArray=function(e,t,o,i,n){var s=e.indexOf(t),r;if(s>-1){e.splice(s,1);r=e.indexOf(o);if(r>-1){if(i){r=r+1}}else{r=s}e.splice(r,0,t);if(n){this.table.rowManager.rows.forEach(function(e){if(e.cells.length){var t=e.cells.splice(s,1)[0];e.cells.splice(r,0,t)}})}}};t.prototype.scrollToColumn=function(e,t,o){var i=this;var n=0,s=0,r=0,a=e.getElement();return new Promise(function(l,u){if(typeof t==="undefined"){t=i.table.options.scrollToColumnPosition}if(typeof o==="undefined"){o=i.table.options.scrollToColumnIfVisible}if(e.visible){switch(t){case"middle":case"center":r=-i.element.clientWidth/2;break;case"right":r=a.clientWidth-i.headersElement.clientWidth;break}if(!o){s=a.offsetLeft;if(s>0&&s+a.offsetWidth<i.element.clientWidth){return false}}n=a.offsetLeft+i.element.scrollLeft+r;n=Math.max(Math.min(n,i.table.rowManager.element.scrollWidth-i.table.rowManager.element.clientWidth),0);i.table.rowManager.scrollHorizontal(n);i.scrollHorizontal(n);l()}else{console.warn("Scroll Error - Column not visible");u("Scroll Error - Column not visible")}})};t.prototype.generateCells=function(e){var t=this;var o=[];t.columnsByIndex.forEach(function(t){o.push(t.generateCell(e))});return o};t.prototype.getFlexBaseWidth=function(){var e=this,t=e.table.element.clientWidth,o=0;if(e.rowManager.element.scrollHeight>e.rowManager.element.clientHeight){t-=e.rowManager.element.offsetWidth-e.rowManager.element.clientWidth}this.columnsByIndex.forEach(function(i){var n,s,r;if(i.visible){n=i.definition.width||0;s=typeof i.minWidth=="undefined"?e.table.options.columnMinWidth:parseInt(i.minWidth);if(typeof n=="string"){if(n.indexOf("%")>-1){r=t/100*parseInt(n)}else{r=parseInt(n)}}else{r=n}o+=r>s?r:s}});return o};t.prototype.addColumn=function(e,t,o){var i=this._addColumn(e,t,o);this._reIndexColumns();if(this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",true)){this.table.modules.responsiveLayout.initialize()}if(this.table.modExists("columnCalcs")){this.table.modules.columnCalcs.recalc(this.table.rowManager.activeRows)}this.redraw();if(this.table.modules.layout.getMode()!="fitColumns"){i.reinitializeWidth()}this._verticalAlignHeaders();this.table.rowManager.reinitialize()};t.prototype.deregisterColumn=function(e){var t=e.getField(),o;if(t){delete this.columnsByField[t]}o=this.columnsByIndex.indexOf(e);if(o>-1){this.columnsByIndex.splice(o,1)}o=this.columns.indexOf(e);if(o>-1){this.columns.splice(o,1)}if(this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",true)){this.table.modules.responsiveLayout.initialize()}this.redraw()};t.prototype.redraw=function(e){if(e){if(f.prototype.helpers.elVisible(this.element)){this._verticalAlignHeaders()}this.table.rowManager.resetScroll();this.table.rowManager.reinitialize()}if(this.table.modules.layout.getMode()=="fitColumns"){this.table.modules.layout.layout()}else{if(e){this.table.modules.layout.layout()}else{if(this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",true)){this.table.modules.responsiveLayout.update()}}}if(this.table.modExists("frozenColumns")){this.table.modules.frozenColumns.layout()}if(this.table.modExists("columnCalcs")){this.table.modules.columnCalcs.recalc(this.table.rowManager.activeRows)}if(e){if(this.table.options.persistentLayout&&this.table.modExists("persistence",true)){this.table.modules.persistence.save("columns")}if(this.table.modExists("columnCalcs")){this.table.modules.columnCalcs.redraw()}}this.table.footerManager.redraw()};var o=function e(t){this._column=t;this.type="ColumnComponent"};o.prototype.getElement=function(){return this._column.getElement()};o.prototype.getDefinition=function(){return this._column.getDefinition()};o.prototype.getField=function(){return this._column.getField()};o.prototype.getCells=function(){var e=[];this._column.cells.forEach(function(t){e.push(t.getComponent())});return e};o.prototype.getVisibility=function(){return this._column.visible};o.prototype.show=function(){if(this._column.isGroup){this._column.columns.forEach(function(e){e.show()})}else{this._column.show()}};o.prototype.hide=function(){if(this._column.isGroup){this._column.columns.forEach(function(e){e.hide()})}else{this._column.hide()}};o.prototype.toggle=function(){if(this._column.visible){this.hide()}else{this.show()}};o.prototype.delete=function(){this._column.delete()};o.prototype.getSubColumns=function(){var e=[];if(this._column.columns.length){this._column.columns.forEach(function(t){e.push(t.getComponent())})}return e};o.prototype.getParentColumn=function(){return this._column.parent instanceof n?this._column.parent.getComponent():false};o.prototype._getSelf=function(){return this._column};o.prototype.scrollTo=function(){return this._column.table.columnManager.scrollToColumn(this._column)};o.prototype.getTable=function(){return this._column.table};o.prototype.headerFilterFocus=function(){if(this._column.table.modExists("filter",true)){this._column.table.modules.filter.setHeaderFilterFocus(this._column)}};o.prototype.reloadHeaderFilter=function(){if(this._column.table.modExists("filter",true)){this._column.table.modules.filter.reloadHeaderFilter(this._column)}};o.prototype.setHeaderFilterValue=function(e){if(this._column.table.modExists("filter",true)){this._column.table.modules.filter.setHeaderFilterValue(this._column,e)}};o.prototype.getNextColumn=function(){return this._column.nextColumn().getComponent()};o.prototype.getPrevColumn=function(){return this._column.prevColumn().getComponent()};var n=function e(t,o){var i=this;this.table=o.table;this.definition=t;this.parent=o;this.type="column";this.columns=[];this.cells=[];this.element=this.createElement();this.contentElement=false;this.groupElement=this.createGroupElement();this.isGroup=false;this.tooltip=false;this.hozAlign="";this.field="";this.fieldStructure="";this.getFieldValue="";this.setFieldValue="";this.setField(this.definition.field);this.modules={};this.cellEvents={cellClick:false,cellDblClick:false,cellContext:false,cellTap:false,cellDblTap:false,cellTapHold:false,cellMouseEnter:false,cellMouseLeave:false,cellMouseOver:false,cellMouseOut:false,cellMouseMove:false};this.width=null;this.widthStyled="";this.minWidth=null;this.minWidthStyled="";this.widthFixed=false;this.visible=true;if(t.columns){this.isGroup=true;t.columns.forEach(function(t,o){var n=new e(t,i);i.attachColumn(n)});i.checkColumnVisibility()}else{o.registerColumnField(this)}if(t.rowHandle&&this.table.options.movableRows!==false&&this.table.modExists("moveRow")){this.table.modules.moveRow.setHandle(true)}this._buildHeader()};n.prototype.createElement=function(){var e=document.createElement("div");e.classList.add("tabulator-col");e.setAttribute("role","columnheader");e.setAttribute("aria-sort","none");return e};n.prototype.createGroupElement=function(){var e=document.createElement("div");e.classList.add("tabulator-col-group-cols");return e};n.prototype.setField=function(e){this.field=e;this.fieldStructure=e?this.table.options.nestedFieldSeparator?e.split(this.table.options.nestedFieldSeparator):[e]:[];this.getFieldValue=this.fieldStructure.length>1?this._getNestedData:this._getFlatData;this.setFieldValue=this.fieldStructure.length>1?this._setNesteData:this._setFlatData};n.prototype.registerColumnPosition=function(e){this.parent.registerColumnPosition(e)};n.prototype.registerColumnField=function(e){this.parent.registerColumnField(e)};n.prototype.reRegisterPosition=function(){if(this.isGroup){this.columns.forEach(function(e){e.reRegisterPosition()})}else{this.registerColumnPosition(this)}};n.prototype.setTooltip=function(){var e=this,t=e.definition;var o=t.headerTooltip||t.tooltip===false?t.headerTooltip:e.table.options.tooltipsHeader;if(o){if(o===true){if(t.field){e.table.modules.localize.bind("columns|"+t.field,function(o){e.element.setAttribute("title",o||t.title)})}else{e.element.setAttribute("title",t.title)}}else{if(typeof o=="function"){o=o(e.getComponent());if(o===false){o=""}}e.element.setAttribute("title",o)}}else{e.element.setAttribute("title","")}};n.prototype._buildHeader=function(){var e=this,t=e.definition;while(e.element.firstChild){e.element.removeChild(e.element.firstChild)}if(t.headerVertical){e.element.classList.add("tabulator-col-vertical");if(t.headerVertical==="flip"){e.element.classList.add("tabulator-col-vertical-flip")}}e.contentElement=e._bindEvents();e.contentElement=e._buildColumnHeaderContent();e.element.appendChild(e.contentElement);if(e.isGroup){e._buildGroupHeader()}else{e._buildColumnHeader()}e.setTooltip();if(e.table.options.resizableColumns&&e.table.modExists("resizeColumns")){e.table.modules.resizeColumns.initializeColumn("header",e,e.element)}if(t.headerFilter&&e.table.modExists("filter")&&e.table.modExists("edit")){if(typeof t.headerFilterPlaceholder!=="undefined"&&t.field){e.table.modules.localize.setHeaderFilterColumnPlaceholder(t.field,t.headerFilterPlaceholder)}e.table.modules.filter.initializeColumn(e)}if(e.table.modExists("frozenColumns")){e.table.modules.frozenColumns.initializeColumn(e)}if(e.table.options.movableColumns&&!e.isGroup&&e.table.modExists("moveColumn")){e.table.modules.moveColumn.initializeColumn(e)}if((t.topCalc||t.bottomCalc)&&e.table.modExists("columnCalcs")){e.table.modules.columnCalcs.initializeColumn(e)}e.element.addEventListener("mouseenter",function(t){e.setTooltip()})};n.prototype._bindEvents=function(){var e=this,t=e.definition,o,i,n;if(typeof t.headerClick=="function"){e.element.addEventListener("click",function(o){t.headerClick(o,e.getComponent())})}if(typeof t.headerDblClick=="function"){e.element.addEventListener("dblclick",function(o){t.headerDblClick(o,e.getComponent())})}if(typeof t.headerContext=="function"){e.element.addEventListener("contextmenu",function(o){t.headerContext(o,e.getComponent())})}if(typeof t.headerTap=="function"){n=false;e.element.addEventListener("touchstart",function(e){n=true});e.element.addEventListener("touchend",function(o){if(n){t.headerTap(o,e.getComponent())}n=false})}if(typeof t.headerDblTap=="function"){o=null;e.element.addEventListener("touchend",function(i){if(o){clearTimeout(o);o=null;t.headerDblTap(i,e.getComponent())}else{o=setTimeout(function(){clearTimeout(o);o=null},300)}})}if(typeof t.headerTapHold=="function"){i=null;e.element.addEventListener("touchstart",function(o){clearTimeout(i);i=setTimeout(function(){clearTimeout(i);i=null;n=false;t.headerTapHold(o,e.getComponent())},1e3)});e.element.addEventListener("touchend",function(e){clearTimeout(i);i=null})}if(typeof t.cellClick=="function"){e.cellEvents.cellClick=t.cellClick}if(typeof t.cellDblClick=="function"){e.cellEvents.cellDblClick=t.cellDblClick}if(typeof t.cellContext=="function"){e.cellEvents.cellContext=t.cellContext}if(typeof t.cellMouseEnter=="function"){e.cellEvents.cellMouseEnter=t.cellMouseEnter}if(typeof t.cellMouseLeave=="function"){e.cellEvents.cellMouseLeave=t.cellMouseLeave}if(typeof t.cellMouseOver=="function"){e.cellEvents.cellMouseOver=t.cellMouseOver}if(typeof t.cellMouseOut=="function"){e.cellEvents.cellMouseOut=t.cellMouseOut}if(typeof t.cellMouseMove=="function"){e.cellEvents.cellMouseMove=t.cellMouseMove}if(typeof t.cellTap=="function"){e.cellEvents.cellTap=t.cellTap}if(typeof t.cellDblTap=="function"){e.cellEvents.cellDblTap=t.cellDblTap}if(typeof t.cellTapHold=="function"){e.cellEvents.cellTapHold=t.cellTapHold}if(typeof t.cellEdited=="function"){e.cellEvents.cellEdited=t.cellEdited}if(typeof t.cellEditing=="function"){e.cellEvents.cellEditing=t.cellEditing}if(typeof t.cellEditCancelled=="function"){e.cellEvents.cellEditCancelled=t.cellEditCancelled}};n.prototype._buildColumnHeader=function(){var e=this,t=e.definition,o=e.table;if(o.modExists("sort")){o.modules.sort.initializeColumn(e,e.contentElement)}if(o.modExists("format")){o.modules.format.initializeColumn(e)}if(typeof t.editor!="undefined"&&o.modExists("edit")){o.modules.edit.initializeColumn(e)}if(typeof t.validator!="undefined"&&o.modExists("validate")){o.modules.validate.initializeColumn(e)}if(o.modExists("mutator")){o.modules.mutator.initializeColumn(e)}if(o.modExists("accessor")){o.modules.accessor.initializeColumn(e)}if(i(o.options.responsiveLayout)&&o.modExists("responsiveLayout")){o.modules.responsiveLayout.initializeColumn(e)}if(typeof t.visible!="undefined"){if(t.visible){e.show(true)}else{e.hide(true)}}if(t.cssClass){var n=t.cssClass.split(" ");n.forEach(function(t){e.element.classList.add(t)})}if(t.field){this.element.setAttribute("tabulator-field",t.field)}e.setMinWidth(typeof t.minWidth=="undefined"?e.table.options.columnMinWidth:parseInt(t.minWidth));e.reinitializeWidth();e.tooltip=e.definition.tooltip||e.definition.tooltip===false?e.definition.tooltip:e.table.options.tooltips;e.hozAlign=typeof e.definition.align=="undefined"?"":e.definition.align};n.prototype._buildColumnHeaderContent=function(){var e=this,t=e.definition,o=e.table;var i=document.createElement("div");i.classList.add("tabulator-col-content");i.appendChild(e._buildColumnHeaderTitle());return i};n.prototype._buildColumnHeaderTitle=function(){var e=this,t=e.definition,o=e.table;var i=document.createElement("div");i.classList.add("tabulator-col-title");if(t.editableTitle){var n=document.createElement("input");n.classList.add("tabulator-title-editor");n.addEventListener("click",function(e){e.stopPropagation();n.focus()});n.addEventListener("change",function(){t.title=n.value;o.options.columnTitleChanged.call(e.table,e.getComponent())});i.appendChild(n);if(t.field){o.modules.localize.bind("columns|"+t.field,function(e){n.value=e||t.title||"&nbsp"})}else{n.value=t.title||"&nbsp"}}else{if(t.field){o.modules.localize.bind("columns|"+t.field,function(o){e._formatColumnHeaderTitle(i,o||t.title||"&nbsp")})}else{e._formatColumnHeaderTitle(i,t.title||"&nbsp")}}return i};n.prototype._formatColumnHeaderTitle=function(e,t){var o,n,s,r;if(this.definition.titleFormatter&&this.table.modExists("format")){o=this.table.modules.format.getFormatter(this.definition.titleFormatter);r={getValue:function e(){return t},getElement:function t(){return e}};s=this.definition.titleFormatterParams||{};s=typeof s==="function"?s():s;n=o.call(this.table.modules.format,r,s);switch(typeof n==="undefined"?"undefined":i(n)){case"object":if(n instanceof Node){e.appendChild(n)}else{e.innerHTML="";console.warn("Format Error - Title formatter has returned a type of object, the only valid formatter object return is an instance of Node, the formatter returned:",n)}break;case"undefined":case"null":e.innerHTML="";break;default:e.innerHTML=n}}else{e.innerHTML=t}};n.prototype._buildGroupHeader=function(){this.element.classList.add("tabulator-col-group");this.element.setAttribute("role","columngroup");this.element.setAttribute("aria-title",this.definition.title);this.element.appendChild(this.groupElement)};n.prototype._getFlatData=function(e){return e[this.field]};n.prototype._getNestedData=function(e){var t=e,o=this.fieldStructure,i=o.length,n;for(var s=0;s<i;s++){t=t[o[s]];n=t;if(!t){break}}return n};n.prototype._setFlatData=function(e,t){if(this.field){e[this.field]=t}};n.prototype._setNesteData=function(e,t){var o=e,i=this.fieldStructure,n=i.length;for(var s=0;s<n;s++){if(s==n-1){o[i[s]]=t}else{if(!o[i[s]]){o[i[s]]={}}o=o[i[s]]}}};n.prototype.attachColumn=function(e){var t=this;if(t.groupElement){t.columns.push(e);t.groupElement.appendChild(e.getElement())}else{console.warn("Column Warning - Column being attached to another column instead of column group")}};n.prototype.verticalAlign=function(e,t){var o=this.parent.isGroup?this.parent.getGroupElement().clientHeight:t||this.parent.getHeadersElement().clientHeight;this.element.style.height=o+"px";if(this.isGroup){this.groupElement.style.minHeight=o-this.contentElement.offsetHeight+"px"}if(!this.isGroup&&e!=="top"){if(e==="bottom"){this.element.style.paddingTop=this.element.clientHeight-this.contentElement.offsetHeight+"px"}else{this.element.style.paddingTop=(this.element.clientHeight-this.contentElement.offsetHeight)/2+"px"}}this.columns.forEach(function(t){t.verticalAlign(e)})};n.prototype.clearVerticalAlign=function(){this.element.style.paddingTop="";this.element.style.height="";this.element.style.minHeight="";this.groupElement.style.minHeight="";this.columns.forEach(function(e){e.clearVerticalAlign()})};n.prototype.getElement=function(){return this.element};n.prototype.getGroupElement=function(){return this.groupElement};n.prototype.getField=function(){return this.field};n.prototype.getFirstColumn=function(){if(!this.isGroup){return this}else{if(this.columns.length){return this.columns[0].getFirstColumn()}else{return false}}};n.prototype.getLastColumn=function(){if(!this.isGroup){return this}else{if(this.columns.length){return this.columns[this.columns.length-1].getLastColumn()}else{return false}}};n.prototype.getColumns=function(){return this.columns};n.prototype.getCells=function(){return this.cells};n.prototype.getTopColumn=function(){if(this.parent.isGroup){return this.parent.getTopColumn()}else{return this}};n.prototype.getDefinition=function(e){var t=[];if(this.isGroup&&e){this.columns.forEach(function(e){t.push(e.getDefinition(true))});this.definition.columns=t}return this.definition};n.prototype.checkColumnVisibility=function(){var e=false;this.columns.forEach(function(t){if(t.visible){e=true}});if(e){this.show();this.parent.table.options.columnVisibilityChanged.call(this.table,this.getComponent(),false)}else{this.hide()}};n.prototype.show=function(e,t){if(!this.visible){this.visible=true;this.element.style.display="";if(this.parent.isGroup){this.parent.checkColumnVisibility()}this.cells.forEach(function(e){e.show()});if(!this.isGroup&&this.width===null){this.reinitializeWidth()}this.table.columnManager._verticalAlignHeaders();if(this.table.options.persistentLayout&&this.table.modExists("responsiveLayout",true)){this.table.modules.persistence.save("columns")}if(!t&&this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",true)){this.table.modules.responsiveLayout.updateColumnVisibility(this,this.visible)}if(!e){this.table.options.columnVisibilityChanged.call(this.table,this.getComponent(),true)}if(this.parent.isGroup){this.parent.matchChildWidths()}}};n.prototype.hide=function(e,t){if(this.visible){this.visible=false;this.element.style.display="none";this.table.columnManager._verticalAlignHeaders();if(this.parent.isGroup){this.parent.checkColumnVisibility()}this.cells.forEach(function(e){e.hide()});if(this.table.options.persistentLayout&&this.table.modExists("persistence",true)){this.table.modules.persistence.save("columns")}if(!t&&this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",true)){this.table.modules.responsiveLayout.updateColumnVisibility(this,this.visible)}if(!e){this.table.options.columnVisibilityChanged.call(this.table,this.getComponent(),false)}if(this.parent.isGroup){this.parent.matchChildWidths()}}};n.prototype.matchChildWidths=function(){var e=0;if(this.contentElement&&this.columns.length){this.columns.forEach(function(t){if(t.visible){e+=t.getWidth()}});this.contentElement.style.maxWidth=e-1+"px"}};n.prototype.setWidth=function(e){this.widthFixed=true;this.setWidthActual(e)};n.prototype.setWidthActual=function(e){if(isNaN(e)){e=Math.floor(this.table.element.clientWidth/100*parseInt(e))}e=Math.max(this.minWidth,e);this.width=e;this.widthStyled=e?e+"px":"";this.element.style.width=this.widthStyled;if(!this.isGroup){this.cells.forEach(function(e){e.setWidth()})}if(this.parent.isGroup){this.parent.matchChildWidths()}if(this.table.modExists("frozenColumns")){this.table.modules.frozenColumns.layout()}};n.prototype.checkCellHeights=function(){var e=[];this.cells.forEach(function(t){if(t.row.heightInitialized){if(t.row.getElement().offsetParent!==null){e.push(t.row);t.row.clearCellHeight()}else{t.row.heightInitialized=false}}});e.forEach(function(e){e.calcHeight()});e.forEach(function(e){e.setCellHeight()})};n.prototype.getWidth=function(){return this.width};n.prototype.getHeight=function(){return this.element.offsetHeight};n.prototype.setMinWidth=function(e){this.minWidth=e;this.minWidthStyled=e?e+"px":"";this.element.style.minWidth=this.minWidthStyled;this.cells.forEach(function(e){e.setMinWidth()})};n.prototype.delete=function(){if(this.isGroup){this.columns.forEach(function(e){e.delete()})}var e=this.cells.length;for(var t=0;t<e;t++){this.cells[0].delete()}this.element.parentNode.removeChild(this.element);this.table.columnManager.deregisterColumn(this)};n.prototype.generateCell=function(e){var t=this;var o=new u(t,e);this.cells.push(o);return o};n.prototype.nextColumn=function(){var e=this.table.columnManager.findColumnIndex(this);return e>-1?this.table.columnManager.getColumnByIndex(e+1):false};n.prototype.prevColumn=function(){var e=this.table.columnManager.findColumnIndex(this);return e>-1?this.table.columnManager.getColumnByIndex(e-1):false};n.prototype.reinitializeWidth=function(e){this.widthFixed=false;if(typeof this.definition.width!=="undefined"&&!e){this.setWidth(this.definition.width)}if(this.table.modExists("filter")){this.table.modules.filter.hideHeaderFilterElements()}this.fitToData();if(this.table.modExists("filter")){this.table.modules.filter.showHeaderFilterElements()}};n.prototype.fitToData=function(){var e=this;if(!this.widthFixed){this.element.style.width="";e.cells.forEach(function(e){e.clearWidth()})}var t=this.element.offsetWidth;if(!e.width||!this.widthFixed){e.cells.forEach(function(e){var o=e.getWidth();if(o>t){t=o}});if(t){e.setWidthActual(t+1)}}};n.prototype.deleteCell=function(e){var t=this.cells.indexOf(e);if(t>-1){this.cells.splice(t,1)}};n.prototype.defaultOptionList=["title","field","visible","align","width","minWidth","widthGrow","widthShrink","resizable","frozen","responsive","tooltip","cssClass","rowHandle","hideInHtml","sorter","sorterParams","formatter","formatterParams","variableHeight","editable","editor","editorParams","validator","mutator","mutatorParams","mutatorData","mutatorDataParams","mutatorEdit","mutatorEditParams","mutatorClipboard","mutatorClipboardParams","accessor","accessorParams","accessorData","accessorDataParams","accessorDownload","accessorDownloadParams","accessorClipboard","accessorClipboardParams","download","downloadTitle","topCalc","topCalcParams","topCalcFormatter","topCalcFormatterParams","bottomCalc","bottomCalcParams","bottomCalcFormatter","bottomCalcFormatterParams","cellClick","cellDblClick","cellContext","cellTap","cellDblTap","cellTapHold","cellMouseEnter","cellMouseLeave","cellMouseOver","cellMouseOut","cellMouseMove","cellEditing","cellEdited","cellEditCancelled","headerSort","headerSortStartingDir","headerSortTristate","headerClick","headerDblClick","headerContext","headerTap","headerDblTap","headerTapHold","headerTooltip","headerVertical","editableTitle","titleFormatter","titleFormatterParams","headerFilter","headerFilterPlaceholder","headerFilterParams","headerFilterEmptyCheck","headerFilterFunc","headerFilterFuncParams","headerFilterLiveFilter"];n.prototype.getComponent=function(){return new o(this)};var s=function e(t){this.table=t;this.element=this.createHolderElement();this.tableElement=this.createTableElement();this.columnManager=null;this.height=0;this.firstRender=false;this.renderMode="classic";this.rows=[];this.activeRows=[];this.activeRowsCount=0;this.displayRows=[];this.displayRowsCount=0;this.scrollTop=0;this.scrollLeft=0;this.vDomRowHeight=20;this.vDomTop=0;this.vDomBottom=0;this.vDomScrollPosTop=0;this.vDomScrollPosBottom=0;this.vDomTopPad=0;this.vDomBottomPad=0;this.vDomMaxRenderChain=90;this.vDomWindowBuffer=0;this.vDomWindowMinTotalRows=20;this.vDomWindowMinMarginRows=5;this.vDomTopNewRows=[];this.vDomBottomNewRows=[]};s.prototype.createHolderElement=function(){var e=document.createElement("div");e.classList.add("tabulator-tableHolder");e.setAttribute("tabindex",0);return e};s.prototype.createTableElement=function(){var e=document.createElement("div");e.classList.add("tabulator-table");return e};s.prototype.getElement=function(){return this.element};s.prototype.getTableElement=function(){return this.tableElement};s.prototype.getRowPosition=function(e,t){if(t){return this.activeRows.indexOf(e)}else{return this.rows.indexOf(e)}};s.prototype.setColumnManager=function(e){this.columnManager=e};s.prototype.initialize=function(){var e=this;e.setRenderMode();e.element.appendChild(e.tableElement);e.firstRender=true;e.element.addEventListener("scroll",function(){var t=e.element.scrollLeft;if(e.scrollLeft!=t){e.columnManager.scrollHorizontal(t);if(e.table.options.groupBy){e.table.modules.groupRows.scrollHeaders(t)}if(e.table.modExists("columnCalcs")){e.table.modules.columnCalcs.scrollHorizontal(t)}}e.scrollLeft=t});if(this.renderMode==="virtual"){e.element.addEventListener("scroll",function(){var t=e.element.scrollTop;var o=e.scrollTop>t;if(e.scrollTop!=t){e.scrollTop=t;e.scrollVertical(o);if(e.table.options.ajaxProgressiveLoad=="scroll"){e.table.modules.ajax.nextPage(e.element.scrollHeight-e.element.clientHeight-t)}}else{e.scrollTop=t}})}};s.prototype.findRow=function(e){var t=this;if((typeof e==="undefined"?"undefined":i(e))=="object"){if(e instanceof a){return e}else if(e instanceof r){return e._getSelf()||false}else if(typeof HTMLElement!=="undefined"&&e instanceof HTMLElement){var o=t.rows.find(function(t){return t.element===e});return o||false}}else if(typeof e=="undefined"||e===null){return false}else{var n=t.rows.find(function(o){return o.data[t.table.options.index]==e});return n||false}return false};s.prototype.getRowFromDataObject=function(e){var t=this.rows.find(function(t){return t.data===e});return t||false};s.prototype.getRowFromPosition=function(e,t){if(t){return this.activeRows[e]}else{return this.rows[e]}};s.prototype.scrollToRow=function(e,t,o){var i=this;var n=this.getDisplayRows().indexOf(e),s=e.getElement(),r,a=0;return new Promise(function(e,l){if(n>-1){if(typeof t==="undefined"){t=i.table.options.scrollToRowPosition}if(typeof o==="undefined"){o=i.table.options.scrollToRowIfVisible}if(t==="nearest"){switch(i.renderMode){case"classic":r=f.prototype.helpers.elOffset(s).top;t=Math.abs(i.element.scrollTop-r)>Math.abs(i.element.scrollTop+i.element.clientHeight-r)?"bottom":"top";break;case"virtual":t=Math.abs(i.vDomTop-n)>Math.abs(i.vDomBottom-n)?"bottom":"top";break}}if(!o){if(f.prototype.helpers.elVisible(s)){a=f.prototype.helpers.elOffset(s).top-f.prototype.helpers.elOffset(i.element).top;if(a>0&&a<i.element.clientHeight-s.offsetHeight){return false}}}switch(i.renderMode){case"classic":i.element.scrollTop=f.prototype.helpers.elOffset(s).top-f.prototype.helpers.elOffset(i.element).top+i.element.scrollTop;break;case"virtual":i._virtualRenderFill(n,true);break}switch(t){case"middle":case"center":i.element.scrollTop=i.element.scrollTop-i.element.clientHeight/2;break;case"bottom":i.element.scrollTop=i.element.scrollTop-i.element.clientHeight+s.offsetHeight;break}e()}else{console.warn("Scroll Error - Row not visible");l("Scroll Error - Row not visible")}})};s.prototype.setData=function(e,t){var o=this;var i=this;return new Promise(function(n,s){if(t&&o.getDisplayRows().length){if(i.table.options.pagination){i._setDataActual(e,true)}else{o.reRenderInPosition(function(){i._setDataActual(e)})}}else{if(o.table.options.autoColumns){o.table.columnManager.generateColumnsFromRowData(e)}o.resetScroll();o._setDataActual(e)}n()})};s.prototype._setDataActual=function(e,t){var o=this;o.table.options.dataLoading.call(this.table,e);this._wipeElements();if(this.table.options.history&&this.table.modExists("history")){this.table.modules.history.clear()}if(Array.isArray(e)){if(this.table.modExists("selectRow")){this.table.modules.selectRow.clearSelectionData()}if(this.table.options.reactiveData&&this.table.modExists("reactiveData",true)){this.table.modules.reactiveData.watchData(e)}e.forEach(function(e,t){if(e&&(typeof e==="undefined"?"undefined":i(e))==="object"){var n=new a(e,o);o.rows.push(n)}else{console.warn("Data Loading Warning - Invalid row data detected and ignored, expecting object but received:",e)}});o.table.options.dataLoaded.call(this.table,e);o.refreshActiveData(false,false,t)}else{console.error("Data Loading Error - Unable to process data due to invalid data type \nExpecting: array \nReceived: ",typeof e==="undefined"?"undefined":i(e),"\nData:     ",e)}};s.prototype._wipeElements=function(){this.rows.forEach(function(e){e.wipe()});if(this.table.options.groupBy&&this.table.modExists("groupRows")){this.table.modules.groupRows.wipe()}this.rows=[]};s.prototype.deleteRow=function(e,t){var o=this.rows.indexOf(e),i=this.activeRows.indexOf(e);if(i>-1){this.activeRows.splice(i,1)}if(o>-1){this.rows.splice(o,1)}this.setActiveRows(this.activeRows);this.displayRowIterator(function(t){var o=t.indexOf(e);if(o>-1){t.splice(o,1)}});if(!t){this.reRenderInPosition()}this.table.options.rowDeleted.call(this.table,e.getComponent());this.table.options.dataEdited.call(this.table,this.getData());if(this.table.options.groupBy&&this.table.modExists("groupRows")){this.table.modules.groupRows.updateGroupRows(true)}else if(this.table.options.pagination&&this.table.modExists("page")){this.refreshActiveData(false,false,true)}else{if(this.table.options.pagination&&this.table.modExists("page")){this.refreshActiveData("page")}}};s.prototype.addRow=function(e,t,o,i){var n=this.addRowActual(e,t,o,i);if(this.table.options.history&&this.table.modExists("history")){this.table.modules.history.action("rowAdd",n,{data:e,pos:t,index:o})}return n};s.prototype.addRows=function(e,t,o){var i=this;var n=this,s=0,r=[];return new Promise(function(a,l){t=i.findAddRowPos(t);if(!Array.isArray(e)){e=[e]}s=e.length-1;if(typeof o=="undefined"&&t||typeof o!=="undefined"&&!t){e.reverse()}e.forEach(function(e,i){var s=n.addRow(e,t,o,true);r.push(s)});if(i.table.options.groupBy&&i.table.modExists("groupRows")){i.table.modules.groupRows.updateGroupRows(true)}else if(i.table.options.pagination&&i.table.modExists("page")){i.refreshActiveData(false,false,true)}else{i.reRenderInPosition()}if(i.table.modExists("columnCalcs")){i.table.modules.columnCalcs.recalc(i.table.rowManager.activeRows)}a(r)})};s.prototype.findAddRowPos=function(e){if(typeof e==="undefined"){e=this.table.options.addRowPos}if(e==="pos"){e=true}if(e==="bottom"){e=false}return e};s.prototype.addRowActual=function(e,t,o,i){var n=e instanceof a?e:new a(e||{},this),s=this.findAddRowPos(t),r;if(!o&&this.table.options.pagination&&this.table.options.paginationAddRow=="page"){r=this.getDisplayRows();if(s){if(r.length){o=r[0]}else{if(this.activeRows.length){o=this.activeRows[this.activeRows.length-1];s=false}}}else{if(r.length){o=r[r.length-1];s=r.length<this.table.modules.page.getPageSize()?false:true}}}if(o){o=this.findRow(o)}if(this.table.options.groupBy&&this.table.modExists("groupRows")){this.table.modules.groupRows.assignRowToGroup(n);var l=n.getGroup().rows;if(l.length>1){if(!o||o&&l.indexOf(o)==-1){if(s){if(l[0]!==n){o=l[0];this._moveRowInArray(n.getGroup().rows,n,o,s)}}else{if(l[l.length-1]!==n){o=l[l.length-1];this._moveRowInArray(n.getGroup().rows,n,o,s)}}}else{this._moveRowInArray(n.getGroup().rows,n,o,s)}}}if(o){var u=this.rows.indexOf(o),c=this.activeRows.indexOf(o);this.displayRowIterator(function(e){var t=e.indexOf(o);if(t>-1){e.splice(s?t:t+1,0,n)}});if(c>-1){this.activeRows.splice(s?c:c+1,0,n)}if(u>-1){this.rows.splice(s?u:u+1,0,n)}}else{if(s){this.displayRowIterator(function(e){e.unshift(n)});this.activeRows.unshift(n);this.rows.unshift(n)}else{this.displayRowIterator(function(e){e.push(n)});this.activeRows.push(n);this.rows.push(n)}}this.setActiveRows(this.activeRows);this.table.options.rowAdded.call(this.table,n.getComponent());this.table.options.dataEdited.call(this.table,this.getData());if(!i){this.reRenderInPosition()}return n};s.prototype.moveRow=function(e,t,o){if(this.table.options.history&&this.table.modExists("history")){this.table.modules.history.action("rowMove",e,{pos:this.getRowPosition(e),to:t,after:o})}this.moveRowActual(e,t,o);this.table.options.rowMoved.call(this.table,e.getComponent())};s.prototype.moveRowActual=function(e,t,o){var i=this;this._moveRowInArray(this.rows,e,t,o);this._moveRowInArray(this.activeRows,e,t,o);this.displayRowIterator(function(n){i._moveRowInArray(n,e,t,o)});if(this.table.options.groupBy&&this.table.modExists("groupRows")){var n=t.getGroup();var s=e.getGroup();if(n===s){this._moveRowInArray(n.rows,e,t,o)}else{if(s){s.removeRow(e)}n.insertRow(e,t,o)}}};s.prototype._moveRowInArray=function(e,t,o,i){var n,s,r,a;if(t!==o){n=e.indexOf(t);if(n>-1){e.splice(n,1);s=e.indexOf(o);if(s>-1){if(i){e.splice(s+1,0,t)}else{e.splice(s,0,t)}}else{e.splice(n,0,t)}}if(e===this.getDisplayRows()){r=n<s?n:s;a=s>n?s:n+1;for(var l=r;l<=a;l++){if(e[l]){this.styleRow(e[l],l)}}}}};s.prototype.clearData=function(){this.setData([])};s.prototype.getRowIndex=function(e){return this.findRowIndex(e,this.rows)};s.prototype.getDisplayRowIndex=function(e){var t=this.getDisplayRows().indexOf(e);return t>-1?t:false};s.prototype.nextDisplayRow=function(e,t){var o=this.getDisplayRowIndex(e),i=false;if(o!==false&&o<this.displayRowsCount-1){i=this.getDisplayRows()[o+1]}if(i&&(!(i instanceof a)||i.type!="row")){return this.nextDisplayRow(i,t)}return i};s.prototype.prevDisplayRow=function(e,t){var o=this.getDisplayRowIndex(e),i=false;if(o){i=this.getDisplayRows()[o-1]}if(i&&(!(i instanceof a)||i.type!="row")){return this.prevDisplayRow(i,t)}return i};s.prototype.findRowIndex=function(e,t){var o;e=this.findRow(e);if(e){o=t.indexOf(e);if(o>-1){return o}}return false};s.prototype.getData=function(e,t){var o=this,i=[];var n=e?o.activeRows:o.rows;n.forEach(function(e){i.push(e.getData(t||"data"))});return i};s.prototype.getHtml=function(e){var t=this.getData(e),o=[],i="",n="",s="";this.table.columnManager.getColumns().forEach(function(e){var t=e.getDefinition();if(e.visible&&!t.hideInHtml){i+="<th>"+(t.title||"")+"</th>";o.push(e)}});t.forEach(function(e){var t="";o.forEach(function(o){var i=o.getFieldValue(e);if(typeof i==="undefined"||i===null){i=":"}t+="<td>"+i+"</td>"});n+="<tr>"+t+"</tr>"});s="<table>\n\n\t\t\t<thead>\n\n\t\t\t<tr>"+i+"</tr>\n\n\t\t\t</thead>\n\n\t\t\t<tbody>"+n+"</tbody>\n\n\t\t\t</table>";return s};s.prototype.getComponents=function(e){var t=this,o=[];var i=e?t.activeRows:t.rows;i.forEach(function(e){o.push(e.getComponent())});return o};s.prototype.getDataCount=function(e){return e?this.rows.length:this.activeRows.length};s.prototype._genRemoteRequest=function(){var e=this,t=e.table,o=t.options,i={};if(t.modExists("page")){if(o.ajaxSorting){var n=e.table.modules.sort.getSort();n.forEach(function(e){delete e.column});i[e.table.modules.page.paginationDataSentNames.sorters]=n}if(o.ajaxFiltering){var s=e.table.modules.filter.getFilters(true,true);i[e.table.modules.page.paginationDataSentNames.filters]=s}e.table.modules.ajax.setParams(i,true)}t.modules.ajax.sendRequest().then(function(t){e.setData(t)}).catch(function(e){})};s.prototype.filterRefresh=function(){var e=this.table,t=e.options,o=this.scrollLeft;if(t.ajaxFiltering){if(t.pagination=="remote"&&e.modExists("page")){e.modules.page.reset(true);e.modules.page.setPage(1).then(function(){}).catch(function(){})}else if(t.ajaxProgressiveLoad){e.modules.ajax.loadData().then(function(){}).catch(function(){})}else{this._genRemoteRequest()}}else{this.refreshActiveData("filter")}this.scrollHorizontal(o)};s.prototype.sorterRefresh=function(e){var t=this.table,o=this.table.options,i=this.scrollLeft;if(o.ajaxSorting){if((o.pagination=="remote"||o.progressiveLoad)&&t.modExists("page")){t.modules.page.reset(true);t.modules.page.setPage(1).then(function(){}).catch(function(){})}else if(o.ajaxProgressiveLoad){t.modules.ajax.loadData().then(function(){}).catch(function(){})}else{this._genRemoteRequest()}}else{this.refreshActiveData(e?"filter":"sort")}this.scrollHorizontal(i)};s.prototype.scrollHorizontal=function(e){this.scrollLeft=e;this.element.scrollLeft=e;if(this.table.options.groupBy){this.table.modules.groupRows.scrollHeaders(e)}if(this.table.modExists("columnCalcs")){this.table.modules.columnCalcs.scrollHorizontal(e)}};s.prototype.refreshActiveData=function(e,t,o){var i=this,n=this.table,s;if(i.table.modExists("edit")){i.table.modules.edit.cancelEdit()}if(!e){e="all"}if(n.options.selectable&&!n.options.selectablePersistence&&n.modExists("selectRow")){n.modules.selectRow.deselectRows()}switch(e){case"all":case"filter":if(!t){if(n.modExists("filter")){i.setActiveRows(n.modules.filter.filter(i.rows))}else{i.setActiveRows(i.rows.slice(0))}}else{t=false}case"sort":if(!t){if(n.modExists("sort")){n.modules.sort.sort(this.activeRows)}}else{t=false}case"display":this.resetDisplayRows();case"freeze":if(!t){if(this.table.modExists("frozenRows")){if(n.modules.frozenRows.isFrozen()){if(!n.modules.frozenRows.getDisplayIndex()){n.modules.frozenRows.setDisplayIndex(this.getNextDisplayIndex())}s=n.modules.frozenRows.getDisplayIndex();s=i.setDisplayRows(n.modules.frozenRows.getRows(this.getDisplayRows(s-1)),s);if(s!==true){n.modules.frozenRows.setDisplayIndex(s)}}}}else{t=false}case"group":if(!t){if(n.options.groupBy&&n.modExists("groupRows")){if(!n.modules.groupRows.getDisplayIndex()){n.modules.groupRows.setDisplayIndex(this.getNextDisplayIndex())}s=n.modules.groupRows.getDisplayIndex();s=i.setDisplayRows(n.modules.groupRows.getRows(this.getDisplayRows(s-1)),s);if(s!==true){n.modules.groupRows.setDisplayIndex(s)}}}else{t=false}case"tree":if(!t){if(n.options.dataTree&&n.modExists("dataTree")){if(!n.modules.dataTree.getDisplayIndex()){n.modules.dataTree.setDisplayIndex(this.getNextDisplayIndex())}s=n.modules.dataTree.getDisplayIndex();s=i.setDisplayRows(n.modules.dataTree.getRows(this.getDisplayRows(s-1)),s);if(s!==true){n.modules.dataTree.setDisplayIndex(s)}}}else{t=false}if(n.options.pagination&&n.modExists("page")&&!o){if(n.modules.page.getMode()=="local"){n.modules.page.reset()}}case"page":if(!t){if(n.options.pagination&&n.modExists("page")){if(!n.modules.page.getDisplayIndex()){n.modules.page.setDisplayIndex(this.getNextDisplayIndex())}s=n.modules.page.getDisplayIndex();if(n.modules.page.getMode()=="local"){n.modules.page.setMaxRows(this.getDisplayRows(s-1).length)}s=i.setDisplayRows(n.modules.page.getRows(this.getDisplayRows(s-1)),s);if(s!==true){n.modules.page.setDisplayIndex(s)}}}else{t=false}}if(f.prototype.helpers.elVisible(i.element)){if(o){i.reRenderInPosition()}else{i.renderTable();if(n.options.layoutColumnsOnNewData){i.table.columnManager.redraw(true)}}}if(n.modExists("columnCalcs")){n.modules.columnCalcs.recalc(this.activeRows)}};s.prototype.setActiveRows=function(e){this.activeRows=e;this.activeRowsCount=this.activeRows.length};s.prototype.resetDisplayRows=function(){this.displayRows=[];this.displayRows.push(this.activeRows.slice(0));this.displayRowsCount=this.displayRows[0].length;if(this.table.modExists("frozenRows")){this.table.modules.frozenRows.setDisplayIndex(0)}if(this.table.options.groupBy&&this.table.modExists("groupRows")){this.table.modules.groupRows.setDisplayIndex(0)}if(this.table.options.pagination&&this.table.modExists("page")){this.table.modules.page.setDisplayIndex(0)}};s.prototype.getNextDisplayIndex=function(){return this.displayRows.length};s.prototype.setDisplayRows=function(e,t){var o=true;if(t&&typeof this.displayRows[t]!="undefined"){this.displayRows[t]=e;o=true}else{this.displayRows.push(e);o=t=this.displayRows.length-1}if(t==this.displayRows.length-1){this.displayRowsCount=this.displayRows[this.displayRows.length-1].length}return o};s.prototype.getDisplayRows=function(e){if(typeof e=="undefined"){return this.displayRows.length?this.displayRows[this.displayRows.length-1]:[]}else{return this.displayRows[e]||[]}};s.prototype.getVisibleRows=function(e){return this.getDisplayRows().slice(this.vDomTop,this.vDomBottom+1)};s.prototype.displayRowIterator=function(e){this.displayRows.forEach(e);this.displayRowsCount=this.displayRows[this.displayRows.length-1].length};s.prototype.getRows=function(){return this.rows};s.prototype.reRenderInPosition=function(e){if(this.getRenderMode()=="virtual"){var t=this.element.scrollTop;var o=false;var i=false;var n=this.scrollLeft;var s=this.getDisplayRows();for(var r=this.vDomTop;r<=this.vDomBottom;r++){if(s[r]){var a=t-s[r].getElement().offsetTop;if(i===false||Math.abs(a)<i){i=a;o=r}else{break}}}if(e){e()}this._virtualRenderFill(o===false?this.displayRowsCount-1:o,true,i||0);this.scrollHorizontal(n)}else{this.renderTable();if(e){e()}}};s.prototype.setRenderMode=function(){if((this.table.element.clientHeight||this.table.options.height)&&this.table.options.virtualDom){this.renderMode="virtual"}else{this.renderMode="classic"}};s.prototype.getRenderMode=function(){return this.renderMode};s.prototype.renderTable=function(){var e=this;e.table.options.renderStarted.call(this.table);e.element.scrollTop=0;switch(e.renderMode){case"classic":e._simpleRender();break;case"virtual":e._virtualRenderFill();break}if(e.firstRender){if(e.displayRowsCount){e.firstRender=false;e.table.modules.layout.layout()}else{e.renderEmptyScroll()}}if(e.table.modExists("frozenColumns")){e.table.modules.frozenColumns.layout()}if(!e.displayRowsCount){if(e.table.options.placeholder){if(this.renderMode){e.table.options.placeholder.setAttribute("tabulator-render-mode",this.renderMode)}e.getElement().appendChild(e.table.options.placeholder)}}e.table.options.renderComplete.call(this.table)};s.prototype._simpleRender=function(){this._clearVirtualDom();if(this.displayRowsCount){this.checkClassicModeGroupHeaderWidth()}else{this.renderEmptyScroll()}};s.prototype.checkClassicModeGroupHeaderWidth=function(){var e=this,t=this.tableElement,o=true;e.getDisplayRows().forEach(function(i,n){e.styleRow(i,n);t.appendChild(i.getElement());i.initialize(true);if(i.type!=="group"){o=false}});if(o){t.style.minWidth=e.table.columnManager.getWidth()+"px"}else{t.style.minWidth=""}};s.prototype.renderEmptyScroll=function(){this.tableElement.style.minWidth=this.table.columnManager.getWidth()+"px";this.tableElement.style.minHeight="1px";this.tableElement.style.visibility="hidden"};s.prototype._clearVirtualDom=function(){var e=this.tableElement;if(this.table.options.placeholder&&this.table.options.placeholder.parentNode){this.table.options.placeholder.parentNode.removeChild(this.table.options.placeholder)}while(e.firstChild){e.removeChild(e.firstChild)}e.style.paddingTop="";e.style.paddingBottom="";e.style.minWidth="";e.style.minHeight="";e.style.visibility="";this.scrollTop=0;this.scrollLeft=0;this.vDomTop=0;this.vDomBottom=0;this.vDomTopPad=0;this.vDomBottomPad=0};s.prototype.styleRow=function(e,t){var o=e.getElement();if(t%2){o.classList.add("tabulator-row-even");o.classList.remove("tabulator-row-odd")}else{o.classList.add("tabulator-row-odd");o.classList.remove("tabulator-row-even")}};s.prototype._virtualRenderFill=function(e,t,o){var i=this,n=i.tableElement,s=i.element,r=0,a=0,l=0,u=0,c=true,d=i.getDisplayRows();e=e||0;o=o||0;if(!e){i._clearVirtualDom()}else{while(n.firstChild){n.removeChild(n.firstChild)}var h=(i.displayRowsCount-e+1)*i.vDomRowHeight;if(h<i.height){e-=Math.ceil((i.height-h)/i.vDomRowHeight);if(e<0){e=0}}r=Math.min(Math.max(Math.floor(i.vDomWindowBuffer/i.vDomRowHeight),i.vDomWindowMinMarginRows),e);e-=r}if(i.displayRowsCount&&f.prototype.helpers.elVisible(i.element)){i.vDomTop=e;i.vDomBottom=e-1;while((a<=i.height+i.vDomWindowBuffer||u<i.vDomWindowMinTotalRows)&&i.vDomBottom<i.displayRowsCount-1){var p=i.vDomBottom+1,m=d[p],g=0;i.styleRow(m,p);n.appendChild(m.getElement());if(!m.initialized){m.initialize(true)}else{if(!m.heightInitialized){m.normalizeHeight(true)}}g=m.getHeight();if(u<r){l+=g}else{a+=g}if(g>this.vDomWindowBuffer){this.vDomWindowBuffer=g*2}if(m.type!=="group"){c=false}i.vDomBottom++;u++}if(!e){this.vDomTopPad=0;i.vDomRowHeight=Math.floor((a+l)/u);i.vDomBottomPad=i.vDomRowHeight*(i.displayRowsCount-i.vDomBottom-1);i.vDomScrollHeight=l+a+i.vDomBottomPad-i.height}else{i.vDomTopPad=!t?i.scrollTop-l:i.vDomRowHeight*this.vDomTop+o;i.vDomBottomPad=i.vDomBottom==i.displayRowsCount-1?0:Math.max(i.vDomScrollHeight-i.vDomTopPad-a-l,0)}n.style.paddingTop=i.vDomTopPad+"px";n.style.paddingBottom=i.vDomBottomPad+"px";if(t){this.scrollTop=i.vDomTopPad+l+o-(this.element.scrollWidth>this.element.clientWidth?this.element.offsetHeight-this.element.clientHeight:0)}this.scrollTop=Math.min(this.scrollTop,this.element.scrollHeight-this.height);if(this.element.scrollWidth>this.element.offsetWidth&&t){this.scrollTop+=this.element.offsetHeight-this.element.clientHeight}this.vDomScrollPosTop=this.scrollTop;this.vDomScrollPosBottom=this.scrollTop;s.scrollTop=this.scrollTop;n.style.minWidth=c?i.table.columnManager.getWidth()+"px":"";if(i.table.options.groupBy){if(i.table.modules.layout.getMode()!="fitDataFill"&&i.displayRowsCount==i.table.modules.groupRows.countGroups()){i.tableElement.style.minWidth=i.table.columnManager.getWidth()}}}else{this.renderEmptyScroll()}};s.prototype.scrollVertical=function(e){var t=this.scrollTop-this.vDomScrollPosTop;var o=this.scrollTop-this.vDomScrollPosBottom;var i=this.vDomWindowBuffer*2;if(-t>i||o>i){var n=this.scrollLeft;this._virtualRenderFill(Math.floor(this.element.scrollTop/this.element.scrollHeight*this.displayRowsCount));this.scrollHorizontal(n)}else{if(e){if(t<0){this._addTopRow(-t)}if(o<0){if(this.vDomScrollHeight-this.scrollTop>this.vDomWindowBuffer){this._removeBottomRow(-o)}}}else{if(t>=0){if(this.scrollTop>this.vDomWindowBuffer){this._removeTopRow(t)}}if(o>=0){this._addBottomRow(o)}}}};s.prototype._addTopRow=function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var o=this.tableElement,i=this.getDisplayRows();if(this.vDomTop){var n=this.vDomTop-1,s=i[n],r=s.getHeight()||this.vDomRowHeight;if(e>=r){this.styleRow(s,n);o.insertBefore(s.getElement(),o.firstChild);if(!s.initialized||!s.heightInitialized){this.vDomTopNewRows.push(s);if(!s.heightInitialized){s.clearCellHeight()}}s.initialize();this.vDomTopPad-=r;if(this.vDomTopPad<0){this.vDomTopPad=n*this.vDomRowHeight}if(!n){this.vDomTopPad=0}o.style.paddingTop=this.vDomTopPad+"px";this.vDomScrollPosTop-=r;this.vDomTop--}e=-(this.scrollTop-this.vDomScrollPosTop);if(s.getHeight()>this.vDomWindowBuffer){this.vDomWindowBuffer=s.getHeight()*2}if(t<this.vDomMaxRenderChain&&this.vDomTop&&e>=(i[this.vDomTop-1].getHeight()||this.vDomRowHeight)){this._addTopRow(e,t+1)}else{this._quickNormalizeRowHeight(this.vDomTopNewRows)}}};s.prototype._removeTopRow=function(e){var t=this.tableElement,o=this.getDisplayRows()[this.vDomTop],i=o.getHeight()||this.vDomRowHeight;if(e>=i){var n=o.getElement();n.parentNode.removeChild(n);this.vDomTopPad+=i;t.style.paddingTop=this.vDomTopPad+"px";this.vDomScrollPosTop+=this.vDomTop?i:i+this.vDomWindowBuffer;this.vDomTop++;e=this.scrollTop-this.vDomScrollPosTop;this._removeTopRow(e)}};s.prototype._addBottomRow=function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var o=this.tableElement,i=this.getDisplayRows();if(this.vDomBottom<this.displayRowsCount-1){var n=this.vDomBottom+1,s=i[n],r=s.getHeight()||this.vDomRowHeight;if(e>=r){this.styleRow(s,n);o.appendChild(s.getElement());if(!s.initialized||!s.heightInitialized){this.vDomBottomNewRows.push(s);if(!s.heightInitialized){s.clearCellHeight()}}s.initialize();this.vDomBottomPad-=r;if(this.vDomBottomPad<0||n==this.displayRowsCount-1){this.vDomBottomPad=0}o.style.paddingBottom=this.vDomBottomPad+"px";this.vDomScrollPosBottom+=r;this.vDomBottom++}e=this.scrollTop-this.vDomScrollPosBottom;if(s.getHeight()>this.vDomWindowBuffer){this.vDomWindowBuffer=s.getHeight()*2}if(t<this.vDomMaxRenderChain&&this.vDomBottom<this.displayRowsCount-1&&e>=(i[this.vDomBottom+1].getHeight()||this.vDomRowHeight)){this._addBottomRow(e,t+1)}else{this._quickNormalizeRowHeight(this.vDomBottomNewRows)}}};s.prototype._removeBottomRow=function(e){var t=this.tableElement,o=this.getDisplayRows()[this.vDomBottom],i=o.getHeight()||this.vDomRowHeight;if(e>=i){var n=o.getElement();if(n.parentNode){n.parentNode.removeChild(n)}this.vDomBottomPad+=i;if(this.vDomBottomPad<0){this.vDomBottomPad=0}t.style.paddingBottom=this.vDomBottomPad+"px";this.vDomScrollPosBottom-=i;this.vDomBottom--;e=-(this.scrollTop-this.vDomScrollPosBottom);this._removeBottomRow(e)}};s.prototype._quickNormalizeRowHeight=function(e){e.forEach(function(e){e.calcHeight()});e.forEach(function(e){e.setCellHeight()});e.length=0};s.prototype.normalizeHeight=function(){this.activeRows.forEach(function(e){e.normalizeHeight()})};s.prototype.adjustTableSize=function(){if(this.renderMode==="virtual"){this.height=this.element.clientHeight;this.vDomWindowBuffer=this.table.options.virtualDomBuffer||this.height;var e=this.columnManager.getElement().offsetHeight+(this.table.footerManager&&!this.table.footerManager.external?this.table.footerManager.getElement().offsetHeight:0);this.element.style.minHeight="calc(100% - "+e+"px)";this.element.style.height="calc(100% - "+e+"px)";this.element.style.maxHeight="calc(100% - "+e+"px)"}};s.prototype.reinitialize=function(){this.rows.forEach(function(e){e.reinitialize()})};s.prototype.redraw=function(e){var t=this.scrollLeft;this.adjustTableSize();this.table.tableWidth=this.table.element.clientWidth;if(!e){if(self.renderMode=="classic"){if(self.table.options.groupBy){self.refreshActiveData("group",false,false)}else{this._simpleRender()}}else{this.reRenderInPosition();this.scrollHorizontal(t)}if(!this.displayRowsCount){if(this.table.options.placeholder){this.getElement().appendChild(this.table.options.placeholder)}}}else{this.renderTable()}};s.prototype.resetScroll=function(){this.element.scrollLeft=0;this.element.scrollTop=0;if(this.table.browser==="ie"){var e=document.createEvent("Event");e.initEvent("scroll",false,true);this.element.dispatchEvent(e)}else{this.element.dispatchEvent(new Event("scroll"))}};var r=function e(t){this._row=t};r.prototype.getData=function(e){return this._row.getData(e)};r.prototype.getElement=function(){return this._row.getElement()};r.prototype.getCells=function(){var e=[];this._row.getCells().forEach(function(t){e.push(t.getComponent())});return e};r.prototype.getCell=function(e){var t=this._row.getCell(e);return t?t.getComponent():false};r.prototype.getIndex=function(){return this._row.getData("data")[this._row.table.options.index]};r.prototype.getPosition=function(e){return this._row.table.rowManager.getRowPosition(this._row,e)};r.prototype.delete=function(){return this._row.delete()};r.prototype.scrollTo=function(){return this._row.table.rowManager.scrollToRow(this._row)};r.prototype.pageTo=function(){if(this._row.table.modExists("page",true)){return this._row.table.modules.page.setPageToRow(this._row)}};r.prototype.move=function(e,t){this._row.moveToRow(e,t)};r.prototype.update=function(e){return this._row.updateData(e)};r.prototype.normalizeHeight=function(){this._row.normalizeHeight(true)};r.prototype.select=function(){this._row.table.modules.selectRow.selectRows(this._row)};r.prototype.deselect=function(){this._row.table.modules.selectRow.deselectRows(this._row)};r.prototype.toggleSelect=function(){this._row.table.modules.selectRow.toggleRow(this._row)};r.prototype.isSelected=function(){return this._row.table.modules.selectRow.isRowSelected(this._row)};r.prototype._getSelf=function(){return this._row};r.prototype.freeze=function(){if(this._row.table.modExists("frozenRows",true)){this._row.table.modules.frozenRows.freezeRow(this._row)}};r.prototype.unfreeze=function(){if(this._row.table.modExists("frozenRows",true)){this._row.table.modules.frozenRows.unfreezeRow(this._row)}};r.prototype.treeCollapse=function(){if(this._row.table.modExists("dataTree",true)){this._row.table.modules.dataTree.collapseRow(this._row)}};r.prototype.treeExpand=function(){if(this._row.table.modExists("dataTree",true)){this._row.table.modules.dataTree.expandRow(this._row)}};r.prototype.treeToggle=function(){if(this._row.table.modExists("dataTree",true)){this._row.table.modules.dataTree.toggleRow(this._row)}};r.prototype.getTreeParent=function(){if(this._row.table.modExists("dataTree",true)){return this._row.table.modules.dataTree.getTreeParent(this._row)}return false};r.prototype.getTreeChildren=function(){if(this._row.table.modExists("dataTree",true)){return this._row.table.modules.dataTree.getTreeChildren(this._row)}return false};r.prototype.reformat=function(){return this._row.reinitialize()};r.prototype.getGroup=function(){return this._row.getGroup().getComponent()};r.prototype.getTable=function(){return this._row.table};r.prototype.getNextRow=function(){var e=this._row.nextRow();return e?e.getComponent():e};r.prototype.getPrevRow=function(){var e=this._row.prevRow();return e?e.getComponent():e};var a=function e(t,o){this.table=o.table;this.parent=o;this.data={};this.type="row";this.element=this.createElement();this.modules={};this.cells=[];this.height=0;this.heightStyled="";this.manualHeight=false;this.outerHeight=0;this.initialized=false;this.heightInitialized=false;this.setData(t);this.generateElement()};a.prototype.createElement=function(){var e=document.createElement("div");e.classList.add("tabulator-row");e.setAttribute("role","row");return e};a.prototype.getElement=function(){return this.element};a.prototype.detachElement=function(){if(this.element&&this.element.parentNode){this.element.parentNode.removeChild(this.element)}};a.prototype.generateElement=function(){var e=this,t,o,i;if(e.table.options.selectable!==false&&e.table.modExists("selectRow")){e.table.modules.selectRow.initializeRow(this)}if(e.table.options.movableRows!==false&&e.table.modExists("moveRow")){e.table.modules.moveRow.initializeRow(this)}if(e.table.options.dataTree!==false&&e.table.modExists("dataTree")){e.table.modules.dataTree.initializeRow(this)}if(e.table.options.rowClick){e.element.addEventListener("click",function(t){e.table.options.rowClick(t,e.getComponent())})}if(e.table.options.rowDblClick){e.element.addEventListener("dblclick",function(t){e.table.options.rowDblClick(t,e.getComponent())})}if(e.table.options.rowContext){e.element.addEventListener("contextmenu",function(t){e.table.options.rowContext(t,e.getComponent())})}if(e.table.options.rowMouseEnter){e.element.addEventListener("mouseenter",function(t){e.table.options.rowMouseEnter(t,e.getComponent())})}if(e.table.options.rowMouseLeave){e.element.addEventListener("mouseleave",function(t){e.table.options.rowMouseLeave(t,e.getComponent())})}if(e.table.options.rowMouseOver){e.element.addEventListener("mouseover",function(t){e.table.options.rowMouseOver(t,e.getComponent())})}if(e.table.options.rowMouseOut){e.element.addEventListener("mouseout",function(t){e.table.options.rowMouseOut(t,e.getComponent())})}if(e.table.options.rowMouseMove){e.element.addEventListener("mousemove",function(t){e.table.options.rowMouseMove(t,e.getComponent())})}if(e.table.options.rowTap){i=false;e.element.addEventListener("touchstart",function(e){i=true});e.element.addEventListener("touchend",function(t){if(i){e.table.options.rowTap(t,e.getComponent())}i=false})}if(e.table.options.rowDblTap){t=null;e.element.addEventListener("touchend",function(o){if(t){clearTimeout(t);t=null;e.table.options.rowDblTap(o,e.getComponent())}else{t=setTimeout(function(){clearTimeout(t);t=null},300)}})}if(e.table.options.rowTapHold){o=null;e.element.addEventListener("touchstart",function(t){clearTimeout(o);o=setTimeout(function(){clearTimeout(o);o=null;i=false;e.table.options.rowTapHold(t,e.getComponent())},1e3)});e.element.addEventListener("touchend",function(e){clearTimeout(o);o=null})}};a.prototype.generateCells=function(){this.cells=this.table.columnManager.generateCells(this)};a.prototype.initialize=function(e){var t=this;if(!t.initialized||e){t.deleteCells();while(t.element.firstChild){t.element.removeChild(t.element.firstChild)}if(this.table.modExists("frozenColumns")){this.table.modules.frozenColumns.layoutRow(this)}this.generateCells();t.cells.forEach(function(e){t.element.appendChild(e.getElement());e.cellRendered()});if(e){t.normalizeHeight()}if(t.table.options.dataTree&&t.table.modExists("dataTree")){t.table.modules.dataTree.layoutRow(this)}if(t.table.options.responsiveLayout==="collapse"&&t.table.modExists("responsiveLayout")){t.table.modules.responsiveLayout.layoutRow(this)}if(t.table.options.rowFormatter){t.table.options.rowFormatter(t.getComponent())}if(t.table.options.resizableRows&&t.table.modExists("resizeRows")){t.table.modules.resizeRows.initializeRow(t)}t.initialized=true}};a.prototype.reinitializeHeight=function(){this.heightInitialized=false;if(this.element.offsetParent!==null){this.normalizeHeight(true)}};a.prototype.reinitialize=function(){this.initialized=false;this.heightInitialized=false;if(!this.manualHeight){this.height=0;this.heightStyled=""}if(this.element.offsetParent!==null){this.initialize(true)}};a.prototype.calcHeight=function(e){var t=0,o=this.table.options.resizableRows?this.element.clientHeight:0;this.cells.forEach(function(e){var o=e.getHeight();if(o>t){t=o}});if(e){this.height=Math.max(t,o)}else{this.height=this.manualHeight?this.height:Math.max(t,o)}this.heightStyled=this.height?this.height+"px":"";this.outerHeight=this.element.offsetHeight};a.prototype.setCellHeight=function(){this.cells.forEach(function(e){e.setHeight()});this.heightInitialized=true};a.prototype.clearCellHeight=function(){this.cells.forEach(function(e){e.clearHeight()})};a.prototype.normalizeHeight=function(e){if(e){this.clearCellHeight()}this.calcHeight(e);this.setCellHeight()};a.prototype.setHeight=function(e,t){if(this.height!=e||t){this.manualHeight=true;this.height=e;this.heightStyled=e?e+"px":"";this.setCellHeight();this.outerHeight=this.element.offsetHeight}};a.prototype.getHeight=function(){return this.outerHeight};a.prototype.getWidth=function(){return this.element.offsetWidth};a.prototype.deleteCell=function(e){var t=this.cells.indexOf(e);if(t>-1){this.cells.splice(t,1)}};a.prototype.setData=function(e){if(this.table.modExists("mutator")){e=this.table.modules.mutator.transformRow(e,"data")}this.data=e;if(this.table.options.reactiveData&&this.table.modExists("reactiveData",true)){this.table.modules.reactiveData.watchRow(this)}};a.prototype.updateData=function(e){var t=this;var o=this,i=f.prototype.helpers.elVisible(this.element);return new Promise(function(n,s){if(typeof e==="string"){e=JSON.parse(e)}if(t.table.options.reactiveData&&t.table.modExists("reactiveData",true)){t.table.modules.reactiveData.block()}if(o.table.modExists("mutator")){e=o.table.modules.mutator.transformRow(e,"data",true)}for(var r in e){o.data[r]=e[r]}if(t.table.options.reactiveData&&t.table.modExists("reactiveData",true)){t.table.modules.reactiveData.unblock()}for(var r in e){var a=t.getCell(r);if(a){if(a.getValue()!=e[r]){a.setValueProcessData(e[r]);if(i){a.cellRendered()}}}}if(i){o.normalizeHeight();if(o.table.options.rowFormatter){o.table.options.rowFormatter(o.getComponent())}}else{t.initialized=false;t.height=0;t.heightStyled=""}if(o.table.options.dataTree!==false&&o.table.modExists("dataTree")&&typeof e[t.table.modules.dataTree.getChildField()]!=="undefined"){t.table.modules.dataTree.initializeRow(t);t.table.rowManager.refreshActiveData("tree",false,true)}o.table.options.rowUpdated.call(t.table,o.getComponent());n()})};a.prototype.getData=function(e){var t=this;if(e){if(t.table.modExists("accessor")){return t.table.modules.accessor.transformRow(t.data,e)}}else{return this.data}};a.prototype.getCell=function(e){var t=false;e=this.table.columnManager.findColumn(e);t=this.cells.find(function(t){return t.column===e});return t};a.prototype.getCellIndex=function(e){return this.cells.findIndex(function(t){return t===e})};a.prototype.findNextEditableCell=function(e){var t=false;if(e<this.cells.length-1){for(var o=e+1;o<this.cells.length;o++){var i=this.cells[o];if(i.column.modules.edit&&f.prototype.helpers.elVisible(i.getElement())){var n=true;if(typeof i.column.modules.edit.check=="function"){n=i.column.modules.edit.check(i.getComponent())}if(n){t=i;break}}}}return t};a.prototype.findPrevEditableCell=function(e){var t=false;if(e>0){for(var o=e-1;o>=0;o--){var i=this.cells[o],n=true;if(i.column.modules.edit&&f.prototype.helpers.elVisible(i.getElement())){if(typeof i.column.modules.edit.check=="function"){n=i.column.modules.edit.check(i.getComponent())}if(n){t=i;break}}}}return t};a.prototype.getCells=function(){return this.cells};a.prototype.nextRow=function(){var e=this.table.rowManager.nextDisplayRow(this,true);return e||false};a.prototype.prevRow=function(){var e=this.table.rowManager.prevDisplayRow(this,true);return e||false};a.prototype.moveToRow=function(e,t){var o=this.table.rowManager.findRow(e);if(o){this.table.rowManager.moveRowActual(this,o,!t);this.table.rowManager.refreshActiveData("display",false,true)}else{console.warn("Move Error - No matching row found:",e)}};a.prototype.delete=function(){var e=this;return new Promise(function(t,o){var i=e.table.rowManager.getRowIndex(e);e.deleteActual();if(e.table.options.history&&e.table.modExists("history")){if(i){i=e.table.rowManager.rows[i-1]}e.table.modules.history.action("rowDelete",e,{data:e.getData(),pos:!i,index:i})}t()})};a.prototype.deleteActual=function(e){var t=this.table.rowManager.getRowIndex(this);if(this.table.modExists("selectRow")){this.table.modules.selectRow._deselectRow(this,true)}if(this.table.options.reactiveData&&this.table.modExists("reactiveData",true));if(this.modules.group){this.modules.group.removeRow(this)}this.table.rowManager.deleteRow(this,e);this.deleteCells();this.initialized=false;this.heightInitialized=false;if(this.table.modExists("columnCalcs")){if(this.table.options.groupBy&&this.table.modExists("groupRows")){this.table.modules.columnCalcs.recalcRowGroup(this)}else{this.table.modules.columnCalcs.recalc(this.table.rowManager.activeRows)}}};a.prototype.deleteCells=function(){var e=this.cells.length;for(var t=0;t<e;t++){this.cells[0].delete()}};a.prototype.wipe=function(){this.deleteCells();while(this.element.firstChild){this.element.removeChild(this.element.firstChild)}this.element=false;this.modules={};if(this.element.parentNode){this.element.parentNode.removeChild(this.element)}};a.prototype.getGroup=function(){return this.modules.group||false};a.prototype.getComponent=function(){return new r(this)};var l=function e(t){this._cell=t};l.prototype.getValue=function(){return this._cell.getValue()};l.prototype.getOldValue=function(){return this._cell.getOldValue()};l.prototype.getElement=function(){return this._cell.getElement()};l.prototype.getRow=function(){return this._cell.row.getComponent()};l.prototype.getData=function(){return this._cell.row.getData()};l.prototype.getField=function(){return this._cell.column.getField()};l.prototype.getColumn=function(){return this._cell.column.getComponent()};l.prototype.setValue=function(e,t){if(typeof t=="undefined"){t=true}this._cell.setValue(e,t)};l.prototype.restoreOldValue=function(){this._cell.setValueActual(this._cell.getOldValue())};l.prototype.edit=function(e){return this._cell.edit(e)};l.prototype.cancelEdit=function(){this._cell.cancelEdit()};l.prototype.nav=function(){return this._cell.nav()};l.prototype.checkHeight=function(){this._cell.checkHeight()};l.prototype.getTable=function(){return this._cell.table};l.prototype._getSelf=function(){return this._cell};var u=function e(t,o){this.table=t.table;this.column=t;this.row=o;this.element=null;this.value=null;this.oldValue=null;this.height=null;this.width=null;this.minWidth=null;this.build()};u.prototype.build=function(){this.generateElement();this.setWidth();this._configureCell();this.setValueActual(this.column.getFieldValue(this.row.data))};u.prototype.generateElement=function(){this.element=document.createElement("div");this.element.className="tabulator-cell";this.element.setAttribute("role","gridcell");this.element=this.element};u.prototype._configureCell=function(){var e=this,t=e.column.cellEvents,o=e.element,i=this.column.getField();o.style.textAlign=e.column.hozAlign;if(i){o.setAttribute("tabulator-field",i)}if(e.column.definition.cssClass){var n=e.column.definition.cssClass.split(" ");n.forEach(function(e){o.classList.add(e)})}if(this.table.options.tooltipGenerationMode==="hover"){o.addEventListener("mouseenter",function(t){e._generateTooltip()})}e._bindClickEvents(t);e._bindTouchEvents(t);e._bindMouseEvents(t);if(e.column.modules.edit){e.table.modules.edit.bindEditor(e)}if(e.column.definition.rowHandle&&e.table.options.movableRows!==false&&e.table.modExists("moveRow")){e.table.modules.moveRow.initializeCell(e)}if(!e.column.visible){e.hide()}};u.prototype._bindClickEvents=function(e){var t=this,o=t.element;if(e.cellClick||t.table.options.cellClick){o.addEventListener("click",function(o){var i=t.getComponent();if(e.cellClick){e.cellClick.call(t.table,o,i)}if(t.table.options.cellClick){t.table.options.cellClick.call(t.table,o,i)}})}if(e.cellDblClick||this.table.options.cellDblClick){o.addEventListener("dblclick",function(o){var i=t.getComponent();if(e.cellDblClick){e.cellDblClick.call(t.table,o,i)}if(t.table.options.cellDblClick){t.table.options.cellDblClick.call(t.table,o,i)}})}if(e.cellContext||this.table.options.cellContext){o.addEventListener("contextmenu",function(o){var i=t.getComponent();if(e.cellContext){e.cellContext.call(t.table,o,i)}if(t.table.options.cellContext){t.table.options.cellContext.call(t.table,o,i)}})}};u.prototype._bindMouseEvents=function(e){var t=this,o=t.element;if(e.cellMouseEnter||t.table.options.cellMouseEnter){o.addEventListener("mouseenter",function(o){var i=t.getComponent();if(e.cellMouseEnter){e.cellMouseEnter.call(t.table,o,i)}if(t.table.options.cellMouseEnter){t.table.options.cellMouseEnter.call(t.table,o,i)}})}if(e.cellMouseLeave||t.table.options.cellMouseLeave){o.addEventListener("mouseleave",function(o){var i=t.getComponent();if(e.cellMouseLeave){e.cellMouseLeave.call(t.table,o,i)}if(t.table.options.cellMouseLeave){t.table.options.cellMouseLeave.call(t.table,o,i)}})}if(e.cellMouseOver||t.table.options.cellMouseOver){o.addEventListener("mouseover",function(o){var i=t.getComponent();if(e.cellMouseOver){e.cellMouseOver.call(t.table,o,i)}if(t.table.options.cellMouseOver){t.table.options.cellMouseOver.call(t.table,o,i)}})}if(e.cellMouseOut||t.table.options.cellMouseOut){o.addEventListener("mouseout",function(o){var i=t.getComponent();if(e.cellMouseOut){e.cellMouseOut.call(t.table,o,i)}if(t.table.options.cellMouseOut){t.table.options.cellMouseOut.call(t.table,o,i)}})}if(e.cellMouseMove||t.table.options.cellMouseMove){o.addEventListener("mousemove",function(o){var i=t.getComponent();if(e.cellMouseMove){e.cellMouseMove.call(t.table,o,i)}if(t.table.options.cellMouseMove){t.table.options.cellMouseMove.call(t.table,o,i)}})}};u.prototype._bindTouchEvents=function(e){var t=this,o=t.element,i,n,s;if(e.cellTap||this.table.options.cellTap){s=false;o.addEventListener("touchstart",function(e){s=true});o.addEventListener("touchend",function(o){if(s){var i=t.getComponent();if(e.cellTap){e.cellTap.call(t.table,o,i)}if(t.table.options.cellTap){t.table.options.cellTap.call(t.table,o,i)}}s=false})}if(e.cellDblTap||this.table.options.cellDblTap){i=null;o.addEventListener("touchend",function(o){if(i){clearTimeout(i);i=null;var n=t.getComponent();if(e.cellDblTap){e.cellDblTap.call(t.table,o,n)}if(t.table.options.cellDblTap){t.table.options.cellDblTap.call(t.table,o,n)}}else{i=setTimeout(function(){clearTimeout(i);i=null},300)}})}if(e.cellTapHold||this.table.options.cellTapHold){n=null;o.addEventListener("touchstart",function(o){clearTimeout(n);n=setTimeout(function(){clearTimeout(n);n=null;s=false;var i=t.getComponent();if(e.cellTapHold){e.cellTapHold.call(t.table,o,i)}if(t.table.options.cellTapHold){t.table.options.cellTapHold.call(t.table,o,i)}},1e3)});o.addEventListener("touchend",function(e){clearTimeout(n);n=null})}};u.prototype._generateContents=function(){var e;if(this.table.modExists("format")){e=this.table.modules.format.formatValue(this)}else{e=this.element.innerHTML=this.value}switch(typeof e==="undefined"?"undefined":i(e)){case"object":if(e instanceof Node){while(this.element.firstChild){this.element.removeChild(this.element.firstChild)}this.element.appendChild(e)}else{this.element.innerHTML="";if(e!=null){console.warn("Format Error - Formatter has returned a type of object, the only valid formatter object return is an instance of Node, the formatter returned:",e)}}break;case"undefined":case"null":this.element.innerHTML="";break;default:this.element.innerHTML=e}};u.prototype.cellRendered=function(){if(this.table.modExists("format")&&this.table.modules.format.cellRendered){this.table.modules.format.cellRendered(this)}};u.prototype._generateTooltip=function(){var e=this.column.tooltip;if(e){if(e===true){e=this.value}else if(typeof e=="function"){e=e(this.getComponent());if(e===false){e=""}}if(typeof e==="undefined"){e=""}this.element.setAttribute("title",e)}else{this.element.setAttribute("title","")}};u.prototype.getElement=function(){return this.element};u.prototype.getValue=function(){return this.value};u.prototype.getOldValue=function(){return this.oldValue};u.prototype.setValue=function(e,t){var o=this.setValueProcessData(e,t),i;if(o){if(this.table.options.history&&this.table.modExists("history")){this.table.modules.history.action("cellEdit",this,{oldValue:this.oldValue,newValue:this.value})}i=this.getComponent();if(this.column.cellEvents.cellEdited){this.column.cellEvents.cellEdited.call(this.table,i)}this.table.options.cellEdited.call(this.table,i);this.table.options.dataEdited.call(this.table,this.table.rowManager.getData())}};u.prototype.setValueProcessData=function(e,t){var o=false;if(this.value!=e){o=true;if(t){if(this.column.modules.mutate){e=this.table.modules.mutator.transformCell(this,e)}}}this.setValueActual(e);if(o&&this.table.modExists("columnCalcs")){if(this.column.definition.topCalc||this.column.definition.bottomCalc){if(this.table.options.groupBy&&this.table.modExists("groupRows")){this.table.modules.columnCalcs.recalcRowGroup(this.row)}else{this.table.modules.columnCalcs.recalc(this.table.rowManager.activeRows)}}}return o};u.prototype.setValueActual=function(e){this.oldValue=this.value;this.value=e;if(this.table.options.reactiveData&&this.table.modExists("reactiveData")){this.table.modules.reactiveData.block()}this.column.setFieldValue(this.row.data,e);if(this.table.options.reactiveData&&this.table.modExists("reactiveData")){this.table.modules.reactiveData.unblock()}this._generateContents();this._generateTooltip();if(this.table.options.resizableColumns&&this.table.modExists("resizeColumns")){this.table.modules.resizeColumns.initializeColumn("cell",this.column,this.element)}if(this.table.modExists("frozenColumns")){this.table.modules.frozenColumns.layoutElement(this.element,this.column)}};u.prototype.setWidth=function(){this.width=this.column.width;this.element.style.width=this.column.widthStyled};u.prototype.clearWidth=function(){this.width="";this.element.style.width=""};u.prototype.getWidth=function(){return this.width||this.element.offsetWidth};u.prototype.setMinWidth=function(){this.minWidth=this.column.minWidth;this.element.style.minWidth=this.column.minWidthStyled};u.prototype.checkHeight=function(){this.row.reinitializeHeight()};u.prototype.clearHeight=function(){this.element.style.height="";this.height=null};u.prototype.setHeight=function(){this.height=this.row.height;this.element.style.height=this.row.heightStyled};u.prototype.getHeight=function(){return this.height||this.element.offsetHeight};u.prototype.show=function(){this.element.style.display=""};u.prototype.hide=function(){this.element.style.display="none"};u.prototype.edit=function(e){if(this.table.modExists("edit",true)){return this.table.modules.edit.editCell(this,e)}};u.prototype.cancelEdit=function(){if(this.table.modExists("edit",true)){var e=this.table.modules.edit.getCurrentCell();if(e&&e._getSelf()===this){this.table.modules.edit.cancelEdit()}else{console.warn("Cancel Editor Error - This cell is not currently being edited ")}}};u.prototype.delete=function(){this.element.parentNode.removeChild(this.element);this.element=false;this.column.deleteCell(this);this.row.deleteCell(this);this.calcs={}};u.prototype.nav=function(){var e=this,t=false,o=this.row.getCellIndex(this);return{next:function t(){var o=this.right(),i;if(!o){i=e.table.rowManager.nextDisplayRow(e.row,true);if(i){o=i.findNextEditableCell(-1);if(o){o.edit();return true}}}else{return true}return false},prev:function t(){var o=this.left(),i;if(!o){i=e.table.rowManager.prevDisplayRow(e.row,true);if(i){o=i.findPrevEditableCell(i.cells.length);if(o){o.edit();return true}}}else{return true}return false},left:function i(){t=e.row.findPrevEditableCell(o);if(t){t.edit();return true}else{return false}},right:function i(){t=e.row.findNextEditableCell(o);if(t){t.edit();return true}else{return false}},up:function t(){var i=e.table.rowManager.prevDisplayRow(e.row,true);if(i){i.cells[o].edit()}},down:function t(){var i=e.table.rowManager.nextDisplayRow(e.row,true);if(i){i.cells[o].edit()}}}};u.prototype.getIndex=function(){this.row.getCellIndex(this)};u.prototype.getComponent=function(){return new l(this)};var c=function e(t){this.table=t;this.active=false;this.element=this.createElement();this.external=false;this.links=[];this._initialize()};c.prototype.createElement=function(){var e=document.createElement("div");e.classList.add("tabulator-footer");return e};c.prototype._initialize=function(e){if(this.table.options.footerElement){switch(i(this.table.options.footerElement)){case"string":if(this.table.options.footerElement[0]==="<"){this.element.innerHTML=this.table.options.footerElement}else{this.external=true;this.element=document.querySelector(this.table.options.footerElement)}break;default:this.element=this.table.options.footerElement;break}}};c.prototype.getElement=function(){return this.element};c.prototype.append=function(e,t){this.activate(t);this.element.appendChild(e);this.table.rowManager.adjustTableSize()};c.prototype.prepend=function(e,t){this.activate(t);this.element.insertBefore(e,this.element.firstChild);this.table.rowManager.adjustTableSize()};c.prototype.remove=function(e){e.parentNode.removeChild(e);this.deactivate()};c.prototype.deactivate=function(e){if(!this.element.firstChild||e){if(!this.external){this.element.parentNode.removeChild(this.element)}this.active=false}};c.prototype.activate=function(e){if(!this.active){this.active=true;if(!this.external){this.table.element.appendChild(this.getElement());this.table.element.style.display=""}}if(e){this.links.push(e)}};c.prototype.redraw=function(){this.links.forEach(function(e){e.footerRedraw()})};var f=function e(t,o){this.options={};this.columnManager=null;this.rowManager=null;this.footerManager=null;this.browser="";this.browserSlow=false;this.modules={};this.initializeElement(t);this.initializeOptions(o||{});this._create();e.prototype.comms.register(this)};f.prototype.defaultOptions={height:false,layout:"fitData",layoutColumnsOnNewData:false,columnMinWidth:40,columnVertAlign:"top",resizableColumns:true,resizableRows:false,autoResize:true,columns:[],data:[],autoColumns:false,reactiveData:false,nestedFieldSeparator:".",tooltips:false,tooltipsHeader:false,tooltipGenerationMode:"load",initialSort:false,initialFilter:false,initialHeaderFilter:false,columnHeaderSortMulti:true,sortOrderReverse:false,footerElement:false,index:"id",keybindings:[],clipboard:false,clipboardCopyStyled:true,clipboardCopySelector:"active",clipboardCopyFormatter:"table",clipboardPasteParser:"table",clipboardPasteAction:"insert",clipboardCopyConfig:false,clipboardCopied:function e(){},clipboardPasted:function e(){},clipboardPasteError:function e(){},downloadDataFormatter:false,downloadReady:function e(t,o){return o},downloadComplete:false,downloadConfig:false,dataTree:false,dataTreeElementColumn:false,dataTreeBranchElement:true,dataTreeChildIndent:9,dataTreeChildField:"_children",dataTreeCollapseElement:false,dataTreeExpandElement:false,dataTreeStartExpanded:false,dataTreeRowExpanded:function e(){},dataTreeRowCollapsed:function e(){},addRowPos:"bottom",selectable:"highlight",selectableRangeMode:"drag",selectableRollingSelection:true,selectablePersistence:true,selectableCheck:function e(t,o){return true},headerFilterPlaceholder:false,history:false,locale:false,langs:{},virtualDom:true,virtualDomBuffer:0,persistentLayout:false,persistentSort:false,persistentFilter:false,persistenceID:"",persistenceMode:true,responsiveLayout:false,responsiveLayoutCollapseStartOpen:true,responsiveLayoutCollapseUseFormatters:true,responsiveLayoutCollapseFormatter:false,pagination:false,paginationSize:false,paginationButtonCount:5,paginationSizeSelector:false,paginationElement:false,paginationDataSent:{},paginationDataReceived:{},paginationAddRow:"page",ajaxURL:false,ajaxURLGenerator:false,ajaxParams:{},ajaxConfig:"get",ajaxContentType:"form",ajaxRequestFunc:false,ajaxLoader:true,ajaxLoaderLoading:false,ajaxLoaderError:false,ajaxFiltering:false,ajaxSorting:false,ajaxProgressiveLoad:false,ajaxProgressiveLoadDelay:0,ajaxProgressiveLoadScrollMargin:0,groupBy:false,groupStartOpen:true,groupValues:false,groupHeader:false,movableColumns:false,movableRows:false,movableRowsConnectedTables:false,movableRowsSender:false,movableRowsReceiver:"insert",movableRowsSendingStart:function e(){},movableRowsSent:function e(){},movableRowsSentFailed:function e(){},movableRowsSendingStop:function e(){},movableRowsReceivingStart:function e(){},movableRowsReceived:function e(){},movableRowsReceivedFailed:function e(){},movableRowsReceivingStop:function e(){},scrollToRowPosition:"top",scrollToRowIfVisible:true,scrollToColumnPosition:"left",scrollToColumnIfVisible:true,rowFormatter:false,placeholder:false,tableBuilding:function e(){},tableBuilt:function e(){},renderStarted:function e(){},renderComplete:function e(){},rowClick:false,rowDblClick:false,rowContext:false,rowTap:false,rowDblTap:false,rowTapHold:false,rowMouseEnter:false,rowMouseLeave:false,rowMouseOver:false,rowMouseOut:false,rowMouseMove:false,rowAdded:function e(){},rowDeleted:function e(){},rowMoved:function e(){},rowUpdated:function e(){},rowSelectionChanged:function e(){},rowSelected:function e(){},rowDeselected:function e(){},rowResized:function e(){},cellClick:false,cellDblClick:false,cellContext:false,cellTap:false,cellDblTap:false,cellTapHold:false,cellMouseEnter:false,cellMouseLeave:false,cellMouseOver:false,cellMouseOut:false,cellMouseMove:false,cellEditing:function e(){},cellEdited:function e(){},cellEditCancelled:function e(){},columnMoved:false,columnResized:function e(){},columnTitleChanged:function e(){},columnVisibilityChanged:function e(){},htmlImporting:function e(){},htmlImported:function e(){},dataLoading:function e(){},dataLoaded:function e(){},dataEdited:function e(){},ajaxRequesting:function e(){},ajaxResponse:false,ajaxError:function e(){},dataFiltering:false,dataFiltered:false,dataSorting:function e(){},dataSorted:function e(){},groupToggleElement:"arrow",groupClosedShowCalcs:false,dataGrouping:function e(){},dataGrouped:false,groupVisibilityChanged:function e(){},groupClick:false,groupDblClick:false,groupContext:false,groupTap:false,groupDblTap:false,groupTapHold:false,columnCalcs:true,pageLoaded:function e(){},localized:function e(){},validationFailed:function e(){},historyUndo:function e(){},historyRedo:function e(){}};f.prototype.initializeOptions=function(e){for(var t in this.defaultOptions){if(t in e){this.options[t]=e[t]}else{if(Array.isArray(this.defaultOptions[t])){this.options[t]=[]}else if(i(this.defaultOptions[t])==="object"){this.options[t]={}}else{this.options[t]=this.defaultOptions[t]}}}};f.prototype.initializeElement=function(e){if(typeof HTMLElement!=="undefined"&&e instanceof HTMLElement){this.element=e;return true}else if(typeof e==="string"){this.element=document.querySelector(e);if(this.element){return true}else{console.error("Tabulator Creation Error - no element found matching selector: ",e);return false}}else{console.error("Tabulator Creation Error - Invalid element provided:",e);return false}};f.prototype._mapDepricatedFunctionality=function(){};f.prototype._create=function(){this._clearObjectPointers();this._mapDepricatedFunctionality();this.bindModules();if(this.element.tagName==="TABLE"){if(this.modExists("htmlTableImport",true)){this.modules.htmlTableImport.parseTable()}}this.columnManager=new t(this);this.rowManager=new s(this);this.footerManager=new c(this);this.columnManager.setRowManager(this.rowManager);this.rowManager.setColumnManager(this.columnManager);this._buildElement();this._loadInitialData()};f.prototype._clearObjectPointers=function(){this.options.columns=this.options.columns.slice(0);if(!this.options.reactiveData){this.options.data=this.options.data.slice(0)}};f.prototype._buildElement=function(){var e=this;var t=this.element,o=this.modules,i=this.options;i.tableBuilding.call(this);t.classList.add("tabulator");t.setAttribute("role","grid");while(t.firstChild){t.removeChild(t.firstChild)}if(i.height){i.height=isNaN(i.height)?i.height:i.height+"px";t.style.height=i.height}this.columnManager.initialize();this.rowManager.initialize();this._detectBrowser();if(this.modExists("layout",true)){o.layout.initialize(i.layout)}if(i.headerFilterPlaceholder!==false){o.localize.setHeaderFilterPlaceholder(i.headerFilterPlaceholder)}for(var n in i.langs){o.localize.installLang(n,i.langs[n])}o.localize.setLocale(i.locale);if(typeof i.placeholder=="string"){var s=document.createElement("div");s.classList.add("tabulator-placeholder");var r=document.createElement("span");r.innerHTML=i.placeholder;s.appendChild(r);i.placeholder=s}t.appendChild(this.columnManager.getElement());t.appendChild(this.rowManager.getElement());if(i.footerElement){this.footerManager.activate()}if((i.persistentLayout||i.persistentSort||i.persistentFilter)&&this.modExists("persistence",true)){o.persistence.initialize(i.persistenceMode,i.persistenceID)}if(i.persistentLayout&&this.modExists("persistence",true)){i.columns=o.persistence.load("columns",i.columns)}if(i.movableRows&&this.modExists("moveRow")){o.moveRow.initialize()}if(i.autoColumns&&this.options.data){this.columnManager.generateColumnsFromRowData(this.options.data)}if(this.modExists("columnCalcs")){o.columnCalcs.initialize()}this.columnManager.setColumns(i.columns);if(i.dataTree&&this.modExists("dataTree",true)){o.dataTree.initialize()}if(this.modExists("frozenRows")){this.modules.frozenRows.initialize()}if((i.persistentSort||i.initialSort)&&this.modExists("sort",true)){var a=[];if(i.persistentSort&&this.modExists("persistence",true)){a=o.persistence.load("sort");if(a===false&&i.initialSort){a=i.initialSort}}else if(i.initialSort){a=i.initialSort}o.sort.setSort(a)}if((i.persistentFilter||i.initialFilter)&&this.modExists("filter",true)){var l=[];if(i.persistentFilter&&this.modExists("persistence",true)){l=o.persistence.load("filter");if(l===false&&i.initialFilter){l=i.initialFilter}}else if(i.initialFilter){l=i.initialFilter}o.filter.setFilter(l)}if(i.initialHeaderFilter&&this.modExists("filter",true)){i.initialHeaderFilter.forEach(function(t){var i=e.columnManager.findColumn(t.field);if(i){o.filter.setHeaderFilterValue(i,t.value)}else{console.warn("Column Filter Error - No matching column found:",t.field);return false}})}if(this.modExists("ajax")){o.ajax.initialize()}if(i.pagination&&this.modExists("page",true)){o.page.initialize()}if(i.groupBy&&this.modExists("groupRows",true)){o.groupRows.initialize()}if(this.modExists("keybindings")){o.keybindings.initialize()}if(this.modExists("selectRow")){o.selectRow.clearSelectionData(true)}if(i.autoResize&&this.modExists("resizeTable")){o.resizeTable.initialize()}if(this.modExists("clipboard")){o.clipboard.initialize()}i.tableBuilt.call(this)};f.prototype._loadInitialData=function(){var e=this;if(e.options.pagination&&e.modExists("page")){e.modules.page.reset(true);if(e.options.pagination=="local"){if(e.options.data.length){e.rowManager.setData(e.options.data)}else{if((e.options.ajaxURL||e.options.ajaxURLGenerator)&&e.modExists("ajax")){e.modules.ajax.loadData().then(function(){}).catch(function(){})}else{e.rowManager.setData(e.options.data)}}}else{if(e.options.ajaxURL){e.modules.page.setPage(1).then(function(){}).catch(function(){})}else{e.rowManager.setData([])}}}else{if(e.options.data.length){e.rowManager.setData(e.options.data)}else{if((e.options.ajaxURL||e.options.ajaxURLGenerator)&&e.modExists("ajax")){e.modules.ajax.loadData().then(function(){}).catch(function(){})}else{e.rowManager.setData(e.options.data)}}}};f.prototype.destroy=function(){var e=this.element;f.prototype.comms.deregister(this);if(this.options.reactiveData&&this.modExists("reactiveData",true)){this.modules.reactiveData.unwatchData()}this.rowManager.rows.forEach(function(e){e.wipe()});this.rowManager.rows=[];this.rowManager.activeRows=[];this.rowManager.displayRows=[];if(this.options.autoResize&&this.modExists("resizeTable")){this.modules.resizeTable.clearBindings()}if(this.modExists("keybindings")){this.modules.keybindings.clearBindings()}while(e.firstChild){e.removeChild(e.firstChild)}e.classList.remove("tabulator")};f.prototype._detectBrowser=function(){var e=navigator.userAgent;if(e.indexOf("Trident")>-1){this.browser="ie";this.browserSlow=true}else if(e.indexOf("Edge")>-1){this.browser="edge";this.browserSlow=true}else if(e.indexOf("Firefox")>-1){this.browser="firefox";this.browserSlow=false}else{this.browser="other";this.browserSlow=false}};f.prototype.setDataFromLocalFile=function(e){var t=this;return new Promise(function(o,i){var n=document.createElement("input");n.type="file";n.accept=e||".json,application/json";n.addEventListener("change",function(e){var s=n.files[0],r=new FileReader,a;r.readAsText(s);r.onload=function(e){try{a=JSON.parse(r.result)}catch(e){console.warn("File Load Error - File contents is invalid JSON",e);i(e);return}t._setData(a).then(function(e){o(e)}).catch(function(e){o(e)})};r.onerror=function(e){console.warn("File Load Error - Unable to read file");i()}});n.click()})};f.prototype.setData=function(e,t,o){if(this.modExists("ajax")){this.modules.ajax.blockActiveRequest()}return this._setData(e,t,o)};f.prototype._setData=function(e,t,o,i){var n=this;if(typeof e==="string"){if(e.indexOf("{")==0||e.indexOf("[")==0){return n.rowManager.setData(JSON.parse(e),i)}else{if(n.modExists("ajax",true)){if(t){n.modules.ajax.setParams(t)}if(o){n.modules.ajax.setConfig(o)}n.modules.ajax.setUrl(e);if(n.options.pagination=="remote"&&n.modExists("page",true)){n.modules.page.reset(true);return n.modules.page.setPage(1)}else{return n.modules.ajax.loadData(i)}}}}else{if(e){return n.rowManager.setData(e,i)}else{if(n.modExists("ajax")&&(n.modules.ajax.getUrl||n.options.ajaxURLGenerator)){if(n.options.pagination=="remote"&&n.modExists("page",true)){n.modules.page.reset(true);return n.modules.page.setPage(1)}else{return n.modules.ajax.loadData(i)}}else{return n.rowManager.setData([],i)}}}};f.prototype.clearData=function(){if(this.modExists("ajax")){this.modules.ajax.blockActiveRequest()}this.rowManager.clearData()};f.prototype.getData=function(e){return this.rowManager.getData(e)};f.prototype.getDataCount=function(e){return this.rowManager.getDataCount(e)};f.prototype.searchRows=function(e,t,o){if(this.modExists("filter",true)){return this.modules.filter.search("rows",e,t,o)}};f.prototype.searchData=function(e,t,o){if(this.modExists("filter",true)){return this.modules.filter.search("data",e,t,o)}};f.prototype.getHtml=function(e){return this.rowManager.getHtml(e)};f.prototype.getAjaxUrl=function(){if(this.modExists("ajax",true)){return this.modules.ajax.getUrl()}};f.prototype.replaceData=function(e,t,o){if(this.modExists("ajax")){this.modules.ajax.blockActiveRequest()}return this._setData(e,t,o,true)};f.prototype.updateData=function(e){var t=this;var o=this;var i=0;return new Promise(function(n,s){if(t.modExists("ajax")){t.modules.ajax.blockActiveRequest()}if(typeof e==="string"){e=JSON.parse(e)}if(e){e.forEach(function(e){var t=o.rowManager.findRow(e[o.options.index]);if(t){i++;t.updateData(e).then(function(){i--;if(!i){n()}})}})}else{console.warn("Update Error - No data provided");s("Update Error - No data provided")}})};f.prototype.addData=function(e,t,o){var i=this;return new Promise(function(n,s){if(i.modExists("ajax")){i.modules.ajax.blockActiveRequest()}if(typeof e==="string"){e=JSON.parse(e)}if(e){i.rowManager.addRows(e,t,o).then(function(e){var t=[];e.forEach(function(e){t.push(e.getComponent())});n(t)})}else{console.warn("Update Error - No data provided");s("Update Error - No data provided")}})};f.prototype.updateOrAddData=function(e){var t=this;var o=this,i=[],n=0;return new Promise(function(s,r){if(t.modExists("ajax")){t.modules.ajax.blockActiveRequest()}if(typeof e==="string"){e=JSON.parse(e)}if(e){e.forEach(function(e){var t=o.rowManager.findRow(e[o.options.index]);n++;if(t){t.updateData(e).then(function(){n--;i.push(t.getComponent());if(!n){s(i)}})}else{o.rowManager.addRows(e).then(function(e){n--;i.push(e[0].getComponent());if(!n){s(i)}})}})}else{console.warn("Update Error - No data provided");r("Update Error - No data provided")}})};f.prototype.getRow=function(e){var t=this.rowManager.findRow(e);if(t){return t.getComponent()}else{console.warn("Find Error - No matching row found:",e);return false}};f.prototype.getRowFromPosition=function(e,t){var o=this.rowManager.getRowFromPosition(e,t);if(o){return o.getComponent()}else{console.warn("Find Error - No matching row found:",e);return false}};f.prototype.deleteRow=function(e){var t=this;return new Promise(function(o,i){var n=t.rowManager.findRow(e);if(n){n.delete().then(function(){o()}).catch(function(e){i(e)})}else{console.warn("Delete Error - No matching row found:",e);i("Delete Error - No matching row found")}})};f.prototype.addRow=function(e,t,o){var i=this;return new Promise(function(n,s){if(typeof e==="string"){e=JSON.parse(e)}i.rowManager.addRows(e,t,o).then(function(e){if(i.modExists("columnCalcs")){i.modules.columnCalcs.recalc(i.rowManager.activeRows)}n(e[0].getComponent())})})};f.prototype.updateOrAddRow=function(e,t){var o=this;return new Promise(function(i,n){var s=o.rowManager.findRow(e);if(typeof t==="string"){t=JSON.parse(t)}if(s){s.updateData(t).then(function(){if(o.modExists("columnCalcs")){o.modules.columnCalcs.recalc(o.rowManager.activeRows)}i(s.getComponent())}).catch(function(e){n(e)})}else{s=o.rowManager.addRows(t).then(function(e){if(o.modExists("columnCalcs")){o.modules.columnCalcs.recalc(o.rowManager.activeRows)}i(e[0].getComponent())}).catch(function(e){n(e)})}})};f.prototype.updateRow=function(e,t){var o=this;return new Promise(function(i,n){var s=o.rowManager.findRow(e);if(typeof t==="string"){t=JSON.parse(t)}if(s){s.updateData(t).then(function(){i(s.getComponent())}).catch(function(e){n(e)})}else{console.warn("Update Error - No matching row found:",e);n("Update Error - No matching row found")}})};f.prototype.scrollToRow=function(e,t,o){var i=this;return new Promise(function(n,s){var r=i.rowManager.findRow(e);if(r){i.rowManager.scrollToRow(r,t,o).then(function(){n()}).catch(function(e){s(e)})}else{console.warn("Scroll Error - No matching row found:",e);s("Scroll Error - No matching row found")}})};f.prototype.moveRow=function(e,t,o){var i=this.rowManager.findRow(e);if(i){i.moveToRow(t,o)}else{console.warn("Move Error - No matching row found:",e)}};f.prototype.getRows=function(e){return this.rowManager.getComponents(e)};f.prototype.getRowPosition=function(e,t){var o=this.rowManager.findRow(e);if(o){return this.rowManager.getRowPosition(o,t)}else{console.warn("Position Error - No matching row found:",e);return false}};f.prototype.copyToClipboard=function(e,t,o,i){if(this.modExists("clipboard",true)){this.modules.clipboard.copy(e,t,o,i)}};f.prototype.setColumns=function(e){this.columnManager.setColumns(e)};f.prototype.getColumns=function(e){return this.columnManager.getComponents(e)};f.prototype.getColumn=function(e){var t=this.columnManager.findColumn(e);if(t){return t.getComponent()}else{console.warn("Find Error - No matching column found:",e);return false}};f.prototype.getColumnDefinitions=function(){return this.columnManager.getDefinitionTree()};f.prototype.getColumnLayout=function(){if(this.modExists("persistence",true)){return this.modules.persistence.parseColumns(this.columnManager.getColumns())}};f.prototype.setColumnLayout=function(e){if(this.modExists("persistence",true)){this.columnManager.setColumns(this.modules.persistence.mergeDefinition(this.options.columns,e));return true}return false};f.prototype.showColumn=function(e){var t=this.columnManager.findColumn(e);if(t){t.show();if(this.options.responsiveLayout&&this.modExists("responsiveLayout",true)){this.modules.responsiveLayout.update()}}else{console.warn("Column Show Error - No matching column found:",e);return false}};f.prototype.hideColumn=function(e){var t=this.columnManager.findColumn(e);if(t){t.hide();if(this.options.responsiveLayout&&this.modExists("responsiveLayout",true)){this.modules.responsiveLayout.update()}}else{console.warn("Column Hide Error - No matching column found:",e);return false}};f.prototype.toggleColumn=function(e){var t=this.columnManager.findColumn(e);if(t){if(t.visible){t.hide()}else{t.show()}}else{console.warn("Column Visibility Toggle Error - No matching column found:",e);return false}};f.prototype.addColumn=function(e,t,o){var i=this.columnManager.findColumn(o);this.columnManager.addColumn(e,t,i)};f.prototype.deleteColumn=function(e){var t=this.columnManager.findColumn(e);if(t){t.delete()}else{console.warn("Column Delete Error - No matching column found:",e);return false}};f.prototype.scrollToColumn=function(e,t,o){var i=this;return new Promise(function(n,s){var r=i.columnManager.findColumn(e);if(r){i.columnManager.scrollToColumn(r,t,o).then(function(){n()}).catch(function(e){s(e)})}else{console.warn("Scroll Error - No matching column found:",e);s("Scroll Error - No matching column found")}})};f.prototype.setLocale=function(e){this.modules.localize.setLocale(e)};f.prototype.getLocale=function(){return this.modules.localize.getLocale()};f.prototype.getLang=function(e){return this.modules.localize.getLang(e)};f.prototype.redraw=function(e){this.columnManager.redraw(e);this.rowManager.redraw(e)};f.prototype.setHeight=function(e){this.options.height=isNaN(e)?e:e+"px";this.element.style.height=this.options.height;this.rowManager.redraw()};f.prototype.setSort=function(e,t){if(this.modExists("sort",true)){this.modules.sort.setSort(e,t);this.rowManager.sorterRefresh()}};f.prototype.getSorters=function(){if(this.modExists("sort",true)){return this.modules.sort.getSort()}};f.prototype.clearSort=function(){if(this.modExists("sort",true)){this.modules.sort.clear();this.rowManager.sorterRefresh()}};f.prototype.setFilter=function(e,t,o){if(this.modExists("filter",true)){this.modules.filter.setFilter(e,t,o);this.rowManager.filterRefresh()}};f.prototype.addFilter=function(e,t,o){if(this.modExists("filter",true)){this.modules.filter.addFilter(e,t,o);this.rowManager.filterRefresh()}};f.prototype.getFilters=function(e){if(this.modExists("filter",true)){return this.modules.filter.getFilters(e)}};f.prototype.setHeaderFilterFocus=function(e){if(this.modExists("filter",true)){var t=this.columnManager.findColumn(e);if(t){this.modules.filter.setHeaderFilterFocus(t)}else{console.warn("Column Filter Focus Error - No matching column found:",e);return false}}};f.prototype.setHeaderFilterValue=function(e,t){if(this.modExists("filter",true)){var o=this.columnManager.findColumn(e);if(o){this.modules.filter.setHeaderFilterValue(o,t)}else{console.warn("Column Filter Error - No matching column found:",e);return false}}};f.prototype.getHeaderFilters=function(){if(this.modExists("filter",true)){return this.modules.filter.getHeaderFilters()}};f.prototype.removeFilter=function(e,t,o){if(this.modExists("filter",true)){this.modules.filter.removeFilter(e,t,o);this.rowManager.filterRefresh()}};f.prototype.clearFilter=function(e){if(this.modExists("filter",true)){this.modules.filter.clearFilter(e);this.rowManager.filterRefresh()}};f.prototype.clearHeaderFilter=function(){if(this.modExists("filter",true)){this.modules.filter.clearHeaderFilter();this.rowManager.filterRefresh()}};f.prototype.selectRow=function(e){if(this.modExists("selectRow",true)){this.modules.selectRow.selectRows(e)}};f.prototype.deselectRow=function(e){if(this.modExists("selectRow",true)){this.modules.selectRow.deselectRows(e)}};f.prototype.toggleSelectRow=function(e){if(this.modExists("selectRow",true)){this.modules.selectRow.toggleRow(e)}};f.prototype.getSelectedRows=function(){if(this.modExists("selectRow",true)){return this.modules.selectRow.getSelectedRows()}};f.prototype.getSelectedData=function(){if(this.modExists("selectRow",true)){return this.modules.selectRow.getSelectedData()}};f.prototype.setMaxPage=function(e){if(this.options.pagination&&this.modExists("page")){this.modules.page.setMaxPage(e)}else{return false}};f.prototype.setPage=function(e){if(this.options.pagination&&this.modExists("page")){return this.modules.page.setPage(e)}else{return new Promise(function(e,t){t()})}};f.prototype.setPageToRow=function(e){var t=this;return new Promise(function(o,i){if(t.options.pagination&&t.modExists("page")){e=t.rowManager.findRow(e);if(e){t.modules.page.setPageToRow(e).then(function(){o()}).catch(function(){i()})}else{i()}}else{i()}})};f.prototype.setPageSize=function(e){if(this.options.pagination&&this.modExists("page")){this.modules.page.setPageSize(e);this.modules.page.setPage(1).then(function(){}).catch(function(){})}else{return false}};f.prototype.getPageSize=function(){if(this.options.pagination&&this.modExists("page",true)){return this.modules.page.getPageSize()}};f.prototype.previousPage=function(){if(this.options.pagination&&this.modExists("page")){this.modules.page.previousPage()}else{return false}};f.prototype.nextPage=function(){if(this.options.pagination&&this.modExists("page")){this.modules.page.nextPage()}else{return false}};f.prototype.getPage=function(){if(this.options.pagination&&this.modExists("page")){return this.modules.page.getPage()}else{return false}};f.prototype.getPageMax=function(){if(this.options.pagination&&this.modExists("page")){return this.modules.page.getPageMax()}else{return false}};f.prototype.setGroupBy=function(e){if(this.modExists("groupRows",true)){this.options.groupBy=e;this.modules.groupRows.initialize();this.rowManager.refreshActiveData("display")}else{return false}};f.prototype.setGroupStartOpen=function(e){if(this.modExists("groupRows",true)){this.options.groupStartOpen=e;this.modules.groupRows.initialize();if(this.options.groupBy){this.rowManager.refreshActiveData("group")}else{console.warn("Grouping Update - cant refresh view, no groups have been set")}}else{return false}};f.prototype.setGroupHeader=function(e){if(this.modExists("groupRows",true)){this.options.groupHeader=e;this.modules.groupRows.initialize();if(this.options.groupBy){this.rowManager.refreshActiveData("group")}else{console.warn("Grouping Update - cant refresh view, no groups have been set")}}else{return false}};f.prototype.getGroups=function(e){if(this.modExists("groupRows",true)){return this.modules.groupRows.getGroups(true)}else{return false}};f.prototype.getGroupedData=function(){if(this.modExists("groupRows",true)){return this.options.groupBy?this.modules.groupRows.getGroupedData():this.getData()}};f.prototype.getCalcResults=function(){if(this.modExists("columnCalcs",true)){return this.modules.columnCalcs.getResults()}else{return false}};f.prototype.navigatePrev=function(){var e=false;if(this.modExists("edit",true)){e=this.modules.edit.currentCell;if(e){return e.nav().prev()}}return false};f.prototype.navigateNext=function(){var e=false;if(this.modExists("edit",true)){e=this.modules.edit.currentCell;if(e){return e.nav().next()}}return false};f.prototype.navigateLeft=function(){var t=false;if(this.modExists("edit",true)){t=this.modules.edit.currentCell;if(t){e.preventDefault();return t.nav().left()}}return false};f.prototype.navigateRight=function(){var t=false;if(this.modExists("edit",true)){t=this.modules.edit.currentCell;if(t){e.preventDefault();return t.nav().right()}}return false};f.prototype.navigateUp=function(){var t=false;if(this.modExists("edit",true)){t=this.modules.edit.currentCell;if(t){e.preventDefault();return t.nav().up()}}return false};f.prototype.navigateDown=function(){var t=false;if(this.modExists("edit",true)){t=this.modules.edit.currentCell;if(t){e.preventDefault();return t.nav().dpwn()}}return false};f.prototype.undo=function(){if(this.options.history&&this.modExists("history",true)){return this.modules.history.undo()}else{return false}};f.prototype.redo=function(){if(this.options.history&&this.modExists("history",true)){return this.modules.history.redo()}else{return false}};f.prototype.getHistoryUndoSize=function(){if(this.options.history&&this.modExists("history",true)){return this.modules.history.getHistoryUndoSize()}else{return false}};f.prototype.getHistoryRedoSize=function(){if(this.options.history&&this.modExists("history",true)){return this.modules.history.getHistoryRedoSize()}else{return false}};f.prototype.download=function(e,t,o){if(this.modExists("download",true)){this.modules.download.download(e,t,o)}};f.prototype.downloadToTab=function(e,t,o){if(this.modExists("download",true)){this.modules.download.download(e,t,o,true)}};f.prototype.tableComms=function(e,t,o,i){this.modules.comms.receive(e,t,o,i)};f.prototype.moduleBindings={};f.prototype.extendModule=function(e,t,o){if(f.prototype.moduleBindings[e]){var n=f.prototype.moduleBindings[e].prototype[t];if(n){if((typeof o==="undefined"?"undefined":i(o))=="object"){for(var s in o){n[s]=o[s]}}else{console.warn("Module Error - Invalid value type, it must be an object")}}else{console.warn("Module Error - property does not exist:",t)}}else{console.warn("Module Error - module does not exist:",e)}};f.prototype.registerModule=function(e,t){f.prototype.moduleBindings[e]=t};f.prototype.bindModules=function(){this.modules={};for(var e in f.prototype.moduleBindings){this.modules[e]=new f.prototype.moduleBindings[e](this)}};f.prototype.modExists=function(e,t){if(this.modules[e]){return true}else{if(t){console.error("Tabulator Module Not Installed: "+e)}return false}};f.prototype.helpers={elVisible:function e(t){return!(t.offsetWidth<=0&&t.offsetHeight<=0)},elOffset:function e(t){var o=t.getBoundingClientRect();return{top:o.top+window.pageYOffset-document.documentElement.clientTop,left:o.left+window.pageXOffset-document.documentElement.clientLeft}},deepClone:function e(t){var o=Array.isArray(t)?[]:{};for(var n in t){if(t[n]!=null&&i(t[n])==="object"){if(t[n]instanceof Date){o[n]=new Date(t[n])}else{o[n]=this.deepClone(t[n])}}else{o[n]=t[n]}}return o}};f.prototype.comms={tables:[],register:function e(t){f.prototype.comms.tables.push(t)},deregister:function e(t){var o=f.prototype.comms.tables.indexOf(t);if(o>-1){f.prototype.comms.tables.splice(o,1)}},lookupTable:function e(t){var o=[],i,n;if(typeof t==="string"){i=document.querySelectorAll(t);if(i.length){for(var s=0;s<i.length;s++){n=f.prototype.comms.matchElement(i[s]);if(n){o.push(n)}}}}else if(typeof HTMLElement!=="undefined"&&t instanceof HTMLElement||t instanceof f){n=f.prototype.comms.matchElement(t);if(n){o.push(n)}}else if(Array.isArray(t)){t.forEach(function(e){o=o.concat(f.prototype.comms.lookupTable(e))})}else{console.warn("Table Connection Error - Invalid Selector",t)}return o},matchElement:function e(t){return f.prototype.comms.tables.find(function(e){return t instanceof f?e===t:e.element===t})}};var d=function e(t){this.table=t;this.mode=null};d.prototype.initialize=function(e){if(this.modes[e]){this.mode=e}else{console.warn("Layout Error - invalid mode set, defaulting to 'fitData' : "+e);this.mode="fitData"}this.table.element.setAttribute("tabulator-layout",this.mode)};d.prototype.getMode=function(){return this.mode};d.prototype.layout=function(){this.modes[this.mode].call(this,this.table.columnManager.columnsByIndex)};d.prototype.modes={fitData:function e(t){t.forEach(function(e){e.reinitializeWidth()});if(this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",true)){this.table.modules.responsiveLayout.update()}},fitDataFill:function e(t){t.forEach(function(e){e.reinitializeWidth()});if(this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",true)){this.table.modules.responsiveLayout.update()}},fitColumns:function e(t){var o=this;var i=o.table.element.clientWidth;var n=0;var s=0;var r=0;var a=0;var l=[];var u=[];var c=0;var f=0;var d=0;function h(e){var t;if(typeof e=="string"){if(e.indexOf("%")>-1){t=i/100*parseInt(e)}else{t=parseInt(e)}}else{t=e}return t}function p(e,t,o,i){var n=[],s=0,r=0,a=0,l=0,u=0,c=[];function f(e){return o*(e.column.definition.widthGrow||1)}function d(e){return h(e.width)-o*(e.column.definition.widthShrink||0)}e.forEach(function(e,t){var o=i?d(e):f(e);if(e.column.minWidth>=o){n.push(e)}else{c.push(e);u+=i?e.column.definition.widthShrink||1:e.column.definition.widthGrow||1}});if(n.length){n.forEach(function(e){s+=i?e.width-e.column.minWidth:e.column.minWidth;e.width=e.column.minWidth});r=t-s;a=u?Math.floor(r/u):r;l=r-a*u;l+=p(c,r,a,i)}else{l=u?t-Math.floor(t/u)*u:t;c.forEach(function(e){e.width=i?d(e):f(e)})}return l}if(this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",true)){this.table.modules.responsiveLayout.update()}if(this.table.rowManager.element.scrollHeight>this.table.rowManager.element.clientHeight){i-=this.table.rowManager.element.offsetWidth-this.table.rowManager.element.clientWidth}t.forEach(function(e){var t,o,i;if(e.visible){t=e.definition.width;o=parseInt(e.minWidth);if(t){i=h(t);n+=i>o?i:o;if(e.definition.widthShrink){u.push({column:e,width:i>o?i:o});c+=e.definition.widthShrink}}else{l.push({column:e,width:0});r+=e.definition.widthGrow||1}}});s=i-n;a=Math.floor(s/r);var d=p(l,s,a,false);if(l.length&&d>0){l[l.length-1].width+=+d}l.forEach(function(e){s-=e.width});f=Math.abs(d)+s;if(f>0&&c){d=p(u,f,Math.floor(f/c),true)}if(u.length){u[u.length-1].width-=d}l.forEach(function(e){e.column.setWidth(e.width)});u.forEach(function(e){e.column.setWidth(e.width)})}};f.prototype.registerModule("layout",d);var h=function e(t){this.table=t;this.locale="default";this.lang=false;this.bindings={}};h.prototype.setHeaderFilterPlaceholder=function(e){this.langs.default.headerFilters.default=e};h.prototype.setHeaderFilterColumnPlaceholder=function(e,t){this.langs.default.headerFilters.columns[e]=t;if(this.lang&&!this.lang.headerFilters.columns[e]){this.lang.headerFilters.columns[e]=t}};h.prototype.installLang=function(e,t){if(this.langs[e]){this._setLangProp(this.langs[e],t)}else{this.langs[e]=t}};h.prototype._setLangProp=function(e,t){for(var o in t){if(e[o]&&i(e[o])=="object"){this._setLangProp(e[o],t[o])}else{e[o]=t[o]}}};h.prototype.setLocale=function(e){var t=this;e=e||"default";function o(e,t){for(var n in e){if(i(e[n])=="object"){if(!t[n]){t[n]={}}o(e[n],t[n])}else{t[n]=e[n]}}}if(e===true&&navigator.language){e=navigator.language.toLowerCase()}if(e){if(!t.langs[e]){var n=e.split("-")[0];if(t.langs[n]){console.warn("Localization Error - Exact matching locale not found, using closest match: ",e,n);e=n}else{console.warn("Localization Error - Matching locale not found, using default: ",e);e="default"}}}t.locale=e;t.lang=f.prototype.helpers.deepClone(t.langs.default||{});if(e!="default"){o(t.langs[e],t.lang)}t.table.options.localized.call(t.table,t.locale,t.lang);t._executeBindings()};h.prototype.getLocale=function(e){return self.locale};h.prototype.getLang=function(e){return e?this.langs[e]:this.lang};h.prototype.getText=function(e,t){var e=t?e+"|"+t:e,o=e.split("|"),i=this._getLangElement(o,this.locale);return i||""};h.prototype._getLangElement=function(e,t){var o=this;var i=o.lang;e.forEach(function(e){var t;if(i){t=i[e];if(typeof t!="undefined"){i=t}else{i=false}}});return i};h.prototype.bind=function(e,t){if(!this.bindings[e]){this.bindings[e]=[]}this.bindings[e].push(t);t(this.getText(e),this.lang)};h.prototype._executeBindings=function(){var e=this;var t=function t(o){e.bindings[o].forEach(function(t){t(e.getText(o),e.lang)})};for(var o in e.bindings){t(o)}};h.prototype.langs={default:{groups:{item:"item",items:"items"},columns:{},ajax:{loading:"Loading",error:"Error"},pagination:{page_size:"Page Size",first:"First",first_title:"First Page",last:"Last",last_title:"Last Page",prev:"Prev",prev_title:"Prev Page",next:"Next",next_title:"Next Page"},headerFilters:{default:"filter column...",columns:{}}}};f.prototype.registerModule("localize",h);var p=function e(t){this.table=t};p.prototype.getConnections=function(e){var t=this,o=[],i;i=f.prototype.comms.lookupTable(e);i.forEach(function(e){if(t.table!==e){o.push(e)}});return o};p.prototype.send=function(e,t,o,i){var n=this,s=this.getConnections(e);s.forEach(function(e){e.tableComms(n.table.element,t,o,i)});if(!s.length&&e){console.warn("Table Connection Error - No tables matching selector found",e)}};p.prototype.receive=function(e,t,o,i){if(this.table.modExists(t)){return this.table.modules[t].commsReceived(e,o,i)}else{console.warn("Inter-table Comms Error - no such module:",t)}};f.prototype.registerModule("comms",p);var m=function e(t){this.table=t;this.allowedTypes=["","data","download","clipboard"]};m.prototype.initializeColumn=function(e){var t=this,o=false,i={};this.allowedTypes.forEach(function(n){var s="accessor"+(n.charAt(0).toUpperCase()+n.slice(1)),r;if(e.definition[s]){r=t.lookupAccessor(e.definition[s]);if(r){o=true;i[s]={accessor:r,params:e.definition[s+"Params"]||{}}}}});if(o){e.modules.accessor=i}},m.prototype.lookupAccessor=function(e){var t=false;switch(typeof e==="undefined"?"undefined":i(e)){case"string":if(this.accessors[e]){t=this.accessors[e]}else{console.warn("Accessor Error - No such accessor found, ignoring: ",e)}break;case"function":t=e;break}return t};m.prototype.transformRow=function(e,t){var o=this,i="accessor"+(t.charAt(0).toUpperCase()+t.slice(1));var n=f.prototype.helpers.deepClone(e||{});o.table.columnManager.traverse(function(e){var o,s,r,a;if(e.modules.accessor){s=e.modules.accessor[i]||e.modules.accessor.accessor||false;if(s){o=e.getFieldValue(n);if(o!="undefined"){a=e.getComponent();r=typeof s.params==="function"?s.params(o,n,t,a):s.params;e.setFieldValue(n,s.accessor(o,n,t,r,a))}}}});return n},m.prototype.accessors={};f.prototype.registerModule("accessor",m);var g=function e(t){this.table=t;this.config=false;this.url="";this.urlGenerator=false;this.params=false;this.loaderElement=this.createLoaderElement();this.msgElement=this.createMsgElement();this.loadingElement=false;this.errorElement=false;this.loaderPromise=false;this.progressiveLoad=false;this.loading=false;this.requestOrder=0};g.prototype.initialize=function(){var e;this.loaderElement.appendChild(this.msgElement);if(this.table.options.ajaxLoaderLoading){if(typeof this.table.options.ajaxLoaderLoading=="string"){e=document.createElement("template");e.innerHTML=this.table.options.ajaxLoaderLoading.trim();this.loadingElement=e.content.firstChild}else{this.loadingElement=this.table.options.ajaxLoaderLoading}}this.loaderPromise=this.table.options.ajaxRequestFunc||this.defaultLoaderPromise;this.urlGenerator=this.table.options.ajaxURLGenerator||this.defaultURLGenerator;if(this.table.options.ajaxLoaderError){if(typeof this.table.options.ajaxLoaderError=="string"){e=document.createElement("template");e.innerHTML=this.table.options.ajaxLoaderError.trim();this.errorElement=e.content.firstChild}else{this.errorElement=this.table.options.ajaxLoaderError}}if(this.table.options.ajaxParams){this.setParams(this.table.options.ajaxParams)}if(this.table.options.ajaxConfig){this.setConfig(this.table.options.ajaxConfig)}if(this.table.options.ajaxURL){this.setUrl(this.table.options.ajaxURL)}if(this.table.options.ajaxProgressiveLoad){if(this.table.options.pagination){this.progressiveLoad=false;console.error("Progressive Load Error - Pagination and progressive load cannot be used at the same time")}else{if(this.table.modExists("page")){this.progressiveLoad=this.table.options.ajaxProgressiveLoad;this.table.modules.page.initializeProgressive(this.progressiveLoad)}else{console.error("Pagination plugin is required for progressive ajax loading")}}}};g.prototype.createLoaderElement=function(){var e=document.createElement("div");e.classList.add("tabulator-loader");return e};g.prototype.createMsgElement=function(){var e=document.createElement("div");e.classList.add("tabulator-loader-msg");e.setAttribute("role","alert");return e};g.prototype.setParams=function(e,t){if(t){this.params=this.params||{};for(var o in e){this.params[o]=e[o]}}else{this.params=e}};g.prototype.getParams=function(){return this.params||{}};g.prototype.setConfig=function(e){this._loadDefaultConfig();if(typeof e=="string"){this.config.method=e}else{for(var t in e){this.config[t]=e[t]}}};g.prototype._loadDefaultConfig=function(e){var t=this;if(!t.config||e){t.config={};for(var o in t.defaultConfig){t.config[o]=t.defaultConfig[o]}}};g.prototype.setUrl=function(e){this.url=e};g.prototype.getUrl=function(){return this.url};g.prototype.loadData=function(e){if(this.progressiveLoad){return this._loadDataProgressive()}else{return this._loadDataStandard(e)}};g.prototype.nextPage=function(e){var t;if(!this.loading){t=this.table.options.ajaxProgressiveLoadScrollMargin||this.table.rowManager.getElement().clientHeight*2;if(e<t){this.table.modules.page.nextPage().then(function(){}).catch(function(){})}}};g.prototype.blockActiveRequest=function(){this.requestOrder++};g.prototype._loadDataProgressive=function(){this.table.rowManager.setData([]);return this.table.modules.page.setPage(1)};g.prototype._loadDataStandard=function(e){var t=this;return new Promise(function(o,i){t.sendRequest(e).then(function(n){t.table.rowManager.setData(n,e).then(function(){o()}).catch(function(e){i(e)})}).catch(function(e){i(e)})})};g.prototype.generateParamsList=function(e,t){var o=this,n=[];t=t||"";if(Array.isArray(e)){e.forEach(function(e,i){n=n.concat(o.generateParamsList(e,t?t+"["+i+"]":i))})}else if((typeof e==="undefined"?"undefined":i(e))==="object"){for(var s in e){n=n.concat(o.generateParamsList(e[s],t?t+"["+s+"]":s))}}else{n.push({key:t,value:e})}return n};g.prototype.serializeParams=function(e){var t=this.generateParamsList(e),o=[];t.forEach(function(e){o.push(encodeURIComponent(e.key)+"="+encodeURIComponent(e.value))});return o.join("&")};g.prototype.sendRequest=function(e){var t=this;var o=this,i=o.url,n;o.requestOrder++;n=o.requestOrder;o._loadDefaultConfig();return new Promise(function(s,r){if(o.table.options.ajaxRequesting.call(t.table,o.url,o.params)!==false){o.loading=true;if(!e){o.showLoader()}t.loaderPromise(i,o.config,o.params).then(function(e){if(n===o.requestOrder){if(o.table.options.ajaxResponse){e=o.table.options.ajaxResponse.call(o.table,o.url,o.params,e)}s(e)}else{console.warn("Ajax Response Blocked - An active ajax request was blocked by an attempt to change table data while the request was being made")}o.hideLoader();o.loading=false}).catch(function(e){console.error("Ajax Load Error: ",e);o.table.options.ajaxError.call(o.table,e);o.showError();setTimeout(function(){o.hideLoader()},3e3);o.loading=false;r()})}else{r()}})};g.prototype.showLoader=function(){var e=typeof this.table.options.ajaxLoader==="function"?this.table.options.ajaxLoader():this.table.options.ajaxLoader;if(e){this.hideLoader();while(this.msgElement.firstChild){this.msgElement.removeChild(this.msgElement.firstChild)}this.msgElement.classList.remove("tabulator-error");this.msgElement.classList.add("tabulator-loading");if(this.loadingElement){this.msgElement.appendChild(this.loadingElement)}else{this.msgElement.innerHTML=this.table.modules.localize.getText("ajax|loading")}this.table.element.appendChild(this.loaderElement)}};g.prototype.showError=function(){this.hideLoader();while(this.msgElement.firstChild){this.msgElement.removeChild(this.msgElement.firstChild)}this.msgElement.classList.remove("tabulator-loading");this.msgElement.classList.add("tabulator-error");if(this.errorElement){this.msgElement.appendChild(this.errorElement)}else{this.msgElement.innerHTML=this.table.modules.localize.getText("ajax|error")}this.table.element.appendChild(this.loaderElement)};g.prototype.hideLoader=function(){if(this.loaderElement.parentNode){this.loaderElement.parentNode.removeChild(this.loaderElement)}};g.prototype.defaultConfig={method:"GET"};g.prototype.defaultURLGenerator=function(e,t,o){if(e){if(o&&Object.keys(o).length){if(!t.method||t.method.toLowerCase()=="get"){t.method="get";e+="?"+this.serializeParams(o)}}}return e};g.prototype.defaultLoaderPromise=function(e,t,o){var n=this,s;return new Promise(function(r,a){e=n.urlGenerator(e,t,o);if(t.method.toUpperCase()!="GET"){s=i(n.table.options.ajaxContentType)==="object"?n.table.options.ajaxContentType:n.contentTypeFormatters[n.table.options.ajaxContentType];if(s){for(var l in s.headers){if(!t.headers){t.headers={}}if(typeof t.headers[l]==="undefined"){t.headers[l]=s.headers[l]}}t.body=s.body.call(n,e,t,o)}else{console.warn("Ajax Error - Invalid ajaxContentType value:",n.table.options.ajaxContentType)}}if(e){if(typeof t.headers==="undefined"){t.headers={}}if(typeof t.headers.Accept==="undefined"){t.headers.Accept="application/json"}if(typeof t.headers["X-Requested-With"]==="undefined"){t.headers["X-Requested-With"]="XMLHttpRequest"}if(typeof t.mode==="undefined"){t.mode="cors"}if(t.mode=="cors"){if(typeof t.headers["Access-Control-Allow-Origin"]==="undefined"){t.headers["Access-Control-Allow-Origin"]=window.location.origin}if(typeof t.credentials==="undefined"){t.credentials="same-origin"}}else{if(typeof t.credentials==="undefined"){t.credentials="include"}}fetch(e,t).then(function(e){if(e.ok){e.json().then(function(e){r(e)}).catch(function(e){a(e);console.warn("Ajax Load Error - Invalid JSON returned",e)})}else{console.error("Ajax Load Error - Connection Error: "+e.status,e.statusText);a(e)}}).catch(function(e){console.error("Ajax Load Error - Connection Error: ",e);a(e)})}else{console.warn("Ajax Load Error - No URL Set");r([])}})};g.prototype.contentTypeFormatters={json:{headers:{"Content-Type":"application/json"},body:function e(t,o,i){return JSON.stringify(i)}},form:{headers:{},body:function e(t,o,i){var n=this.generateParamsList(i),s=new FormData;n.forEach(function(e){s.append(e.key,e.value)});return s}}};f.prototype.registerModule("ajax",g);var b=function e(t){this.table=t;this.topCalcs=[];this.botCalcs=[];this.genColumn=false;this.topElement=this.createElement();this.botElement=this.createElement();this.topRow=false;this.botRow=false;this.topInitialized=false;this.botInitialized=false;this.initialize()};b.prototype.createElement=function(){var e=document.createElement("div");e.classList.add("tabulator-calcs-holder");return e};b.prototype.initialize=function(){this.genColumn=new n({field:"value"},this)};b.prototype.registerColumnField=function(){};b.prototype.initializeColumn=function(e){var t=e.definition;var o={topCalcParams:t.topCalcParams||{},botCalcParams:t.bottomCalcParams||{}};if(t.topCalc){switch(i(t.topCalc)){case"string":if(this.calculations[t.topCalc]){o.topCalc=this.calculations[t.topCalc]}else{console.warn("Column Calc Error - No such calculation found, ignoring: ",t.topCalc)}break;case"function":o.topCalc=t.topCalc;break}if(o.topCalc){e.modules.columnCalcs=o;this.topCalcs.push(e);if(this.table.options.columnCalcs!="group"){this.initializeTopRow()}}}if(t.bottomCalc){switch(i(t.bottomCalc)){case"string":if(this.calculations[t.bottomCalc]){o.botCalc=this.calculations[t.bottomCalc]}else{console.warn("Column Calc Error - No such calculation found, ignoring: ",t.bottomCalc)}break;case"function":o.botCalc=t.bottomCalc;break}if(o.botCalc){e.modules.columnCalcs=o;this.botCalcs.push(e);if(this.table.options.columnCalcs!="group"){this.initializeBottomRow()}}}};b.prototype.removeCalcs=function(){var e=false;if(this.topInitialized){this.topInitialized=false;this.topElement.parentNode.removeChild(this.topElement);e=true}if(this.botInitialized){this.botInitialized=false;this.table.footerManager.remove(this.botElement);e=true}if(e){this.table.rowManager.adjustTableSize()}};b.prototype.initializeTopRow=function(){if(!this.topInitialized){this.table.columnManager.getElement().insertBefore(this.topElement,this.table.columnManager.headersElement.nextSibling);this.topInitialized=true}};b.prototype.initializeBottomRow=function(){if(!this.botInitialized){this.table.footerManager.prepend(this.botElement);this.botInitialized=true}};b.prototype.scrollHorizontal=function(e){var t=this.table.columnManager.getElement().scrollWidth-this.table.element.clientWidth;if(this.botInitialized){this.botRow.getElement().style.marginLeft=-e+"px"}};b.prototype.recalc=function(e){var t,o;if(this.topInitialized||this.botInitialized){t=this.rowsToData(e);if(this.topInitialized){o=this.generateRow("top",this.rowsToData(e));this.topRow=o;while(this.topElement.firstChild){this.topElement.removeChild(this.topElement.firstChild)}this.topElement.appendChild(o.getElement());o.initialize(true)}if(this.botInitialized){o=this.generateRow("bottom",this.rowsToData(e));this.botRow=o;while(this.botElement.firstChild){this.botElement.removeChild(this.botElement.firstChild)}this.botElement.appendChild(o.getElement());o.initialize(true)}this.table.rowManager.adjustTableSize();if(this.table.modExists("frozenColumns")){this.table.modules.frozenColumns.layout()}}};b.prototype.recalcRowGroup=function(e){this.recalcGroup(this.table.modules.groupRows.getRowGroup(e))};b.prototype.recalcGroup=function(e){var t,o;if(e){if(e.calcs){if(e.calcs.bottom){t=this.rowsToData(e.rows);o=this.generateRowData("bottom",t);e.calcs.bottom.updateData(o);e.calcs.bottom.reinitialize()}if(e.calcs.top){t=this.rowsToData(e.rows);o=this.generateRowData("top",t);e.calcs.top.updateData(o);e.calcs.top.reinitialize()}}}};b.prototype.generateTopRow=function(e){return this.generateRow("top",this.rowsToData(e))};b.prototype.generateBottomRow=function(e){return this.generateRow("bottom",this.rowsToData(e))};b.prototype.rowsToData=function(e){var t=[];e.forEach(function(e){t.push(e.getData())});return t};b.prototype.generateRow=function(e,t){var o=this,i=this.generateRowData(e,t),n;if(o.table.modExists("mutator")){o.table.modules.mutator.disable()}n=new a(i,this);if(o.table.modExists("mutator")){o.table.modules.mutator.enable()}n.getElement().classList.add("tabulator-calcs","tabulator-calcs-"+e);n.type="calc";n.generateCells=function(){var t=[];o.table.columnManager.columnsByIndex.forEach(function(i){o.genColumn.setField(i.getField());o.genColumn.hozAlign=i.hozAlign;if(i.definition[e+"CalcFormatter"]&&o.table.modExists("format")){o.genColumn.modules.format={formatter:o.table.modules.format.getFormatter(i.definition[e+"CalcFormatter"]),params:i.definition[e+"CalcFormatterParams"]}}else{o.genColumn.modules.format={formatter:o.table.modules.format.getFormatter("plaintext"),params:{}}}o.genColumn.definition.cssClass=i.definition.cssClass;var s=new u(o.genColumn,n);s.column=i;s.setWidth();i.cells.push(s);t.push(s);if(!i.visible){s.hide()}});this.cells=t};return n};b.prototype.generateRowData=function(e,t){var o={},i=e=="top"?this.topCalcs:this.botCalcs,n=e=="top"?"topCalc":"botCalc",s,r;i.forEach(function(e){var i=[];if(e.modules.columnCalcs&&e.modules.columnCalcs[n]){t.forEach(function(t){i.push(e.getFieldValue(t))});r=n+"Params";s=typeof e.modules.columnCalcs[r]==="function"?e.modules.columnCalcs[r](value,t):e.modules.columnCalcs[r];e.setFieldValue(o,e.modules.columnCalcs[n](i,t,s))}});return o};b.prototype.hasTopCalcs=function(){return!!this.topCalcs.length},b.prototype.hasBottomCalcs=function(){return!!this.botCalcs.length},b.prototype.redraw=function(){if(this.topRow){this.topRow.normalizeHeight(true)}if(this.botRow){this.botRow.normalizeHeight(true)}};b.prototype.getResults=function(){var e=this,t={},o;if(this.table.options.groupBy&&this.table.modExists("groupRows")){o=this.table.modules.groupRows.getGroups(true);o.forEach(function(o){t[o.getKey()]=e.getGroupResults(o)})}else{t={top:this.topRow?this.topRow.getData():{},bottom:this.botRow?this.botRow.getData():{}}}return t};b.prototype.getGroupResults=function(e){var t=this,o=e._getSelf(),i=e.getSubGroups(),n={},s={};i.forEach(function(e){n[e.getKey()]=t.getGroupResults(e)});s={top:o.calcs.top?o.calcs.top.getData():{},bottom:o.calcs.bottom?o.calcs.bottom.getData():{},groups:n};return s};b.prototype.calculations={avg:function e(t,o,i){var n=0,s=typeof i.precision!=="undefined"?i.precision:2;if(t.length){n=t.reduce(function(e,t){t=Number(t);return e+t});n=n/t.length;n=s!==false?n.toFixed(s):n}return parseFloat(n).toString()},max:function e(t,o,i){var n=null,s=typeof i.precision!=="undefined"?i.precision:false;t.forEach(function(e){e=Number(e);if(e>n||n===null){n=e}});return n!==null?s!==false?n.toFixed(s):n:""},min:function e(t,o,i){var n=null,s=typeof i.precision!=="undefined"?i.precision:false;t.forEach(function(e){e=Number(e);if(e<n||n===null){n=e}});return n!==null?s!==false?n.toFixed(s):n:""},sum:function e(t,o,i){var n=0,s=typeof i.precision!=="undefined"?i.precision:false;if(t.length){t.forEach(function(e){e=Number(e);n+=!isNaN(e)?Number(e):0})}return s!==false?n.toFixed(s):n},concat:function e(t,o,i){var n=0;if(t.length){n=t.reduce(function(e,t){return String(e)+String(t)})}return n},count:function e(t,o,i){var n=0;if(t.length){t.forEach(function(e){if(e){n++}})}return n}};f.prototype.registerModule("columnCalcs",b);var v=function e(t){this.table=t;this.mode=true;this.copySelector=false;this.copySelectorParams={};this.copyFormatter=false;this.copyFormatterParams={};this.pasteParser=function(){};this.pasteAction=function(){};this.htmlElement=false;this.config={};this.blocked=true};v.prototype.initialize=function(){var e=this;this.mode=this.table.options.clipboard;if(this.mode===true||this.mode==="copy"){this.table.element.addEventListener("copy",function(t){var o;e.processConfig();if(!e.blocked){t.preventDefault();o=e.generateContent();if(window.clipboardData&&window.clipboardData.setData){window.clipboardData.setData("Text",o)}else if(t.clipboardData&&t.clipboardData.setData){t.clipboardData.setData("text/plain",o);if(e.htmlElement){t.clipboardData.setData("text/html",e.htmlElement.outerHTML)}}else if(t.originalEvent&&t.originalEvent.clipboardData.setData){t.originalEvent.clipboardData.setData("text/plain",o);if(e.htmlElement){t.originalEvent.clipboardData.setData("text/html",e.htmlElement.outerHTML)}}e.table.options.clipboardCopied.call(this.table,o);e.reset()}})}if(this.mode===true||this.mode==="paste"){this.table.element.addEventListener("paste",function(t){e.paste(t)})}this.setPasteParser(this.table.options.clipboardPasteParser);this.setPasteAction(this.table.options.clipboardPasteAction)};v.prototype.processConfig=function(){var e={columnHeaders:"groups",rowGroups:true,columnCalcs:true};if(typeof this.table.options.clipboardCopyHeader!=="undefined"){e.columnHeaders=this.table.options.clipboardCopyHeader;console.warn("DEPRECATION WANRING - clipboardCopyHeader option has been depricated, please use the columnHeaders property on the clipboardCopyConfig option")}if(this.table.options.clipboardCopyConfig){for(var t in this.table.options.clipboardCopyConfig){e[t]=this.table.options.clipboardCopyConfig[t]}}if(e.rowGroups&&this.table.options.groupBy&&this.table.modExists("groupRows")){this.config.rowGroups=true}if(e.columnHeaders){if((e.columnHeaders==="groups"||e===true)&&this.table.columnManager.columns.length!=this.table.columnManager.columnsByIndex.length){this.config.columnHeaders="groups"}else{this.config.columnHeaders="columns"}}else{this.config.columnHeaders=false}if(e.columnCalcs&&this.table.modExists("columnCalcs")){this.config.columnCalcs=true}};v.prototype.reset=function(){this.blocked=false;this.originalSelectionText=""};v.prototype.setPasteAction=function(e){switch(typeof e==="undefined"?"undefined":i(e)){case"string":this.pasteAction=this.pasteActions[e];if(!this.pasteAction){console.warn("Clipboard Error - No such paste action found:",e)}break;case"function":this.pasteAction=e;break}};v.prototype.setPasteParser=function(e){switch(typeof e==="undefined"?"undefined":i(e)){case"string":this.pasteParser=this.pasteParsers[e];if(!this.pasteParser){console.warn("Clipboard Error - No such paste parser found:",e)}break;case"function":this.pasteParser=e;break}};v.prototype.paste=function(e){var t,o,i;if(this.checkPaseOrigin(e)){t=this.getPasteData(e);o=this.pasteParser.call(this,t);if(o){e.preventDefault();if(this.table.modExists("mutator")){o=this.mutateData(o)}i=this.pasteAction.call(this,o);this.table.options.clipboardPasted.call(this.table,t,o,i)}else{this.table.options.clipboardPasteError.call(this.table,t)}}};v.prototype.mutateData=function(e){var t=this,o=[];if(Array.isArray(e)){e.forEach(function(e){o.push(t.table.modules.mutator.transformRow(e,"clipboard"))})}else{o=e}return o};v.prototype.checkPaseOrigin=function(e){var t=true;if(e.target.tagName!="DIV"||this.table.modules.edit.currentCell){t=false}return t};v.prototype.getPasteData=function(e){var t;if(window.clipboardData&&window.clipboardData.getData){t=window.clipboardData.getData("Text")}else if(e.clipboardData&&e.clipboardData.getData){t=e.clipboardData.getData("text/plain")}else if(e.originalEvent&&e.originalEvent.clipboardData.getData){t=e.originalEvent.clipboardData.getData("text/plain")}return t};v.prototype.copy=function(e,t,o,i,n){var s,r;this.blocked=false;if(this.mode===true||this.mode==="copy"){if(typeof window.getSelection!="undefined"&&typeof document.createRange!="undefined"){s=document.createRange();s.selectNodeContents(this.table.element);r=window.getSelection();if(r.toString()&&n){e="userSelection";o="raw";t=r.toString()}r.removeAllRanges();r.addRange(s)}else if(typeof document.selection!="undefined"&&typeof document.body.createTextRange!="undefined"){textRange=document.body.createTextRange();textRange.moveToElementText(this.table.element);textRange.select()}this.setSelector(e);this.copySelectorParams=typeof t!="undefined"&&t!=null?t:this.config.columnHeaders;this.setFormatter(o);this.copyFormatterParams=typeof i!="undefined"&&i!=null?i:{};document.execCommand("copy");if(r){r.removeAllRanges()}}};v.prototype.setSelector=function(e){e=e||this.table.options.clipboardCopySelector;switch(typeof e==="undefined"?"undefined":i(e)){case"string":if(this.copySelectors[e]){this.copySelector=this.copySelectors[e]}else{console.warn("Clipboard Error - No such selector found:",e)}break;case"function":this.copySelector=e;break}};v.prototype.setFormatter=function(e){e=e||this.table.options.clipboardCopyFormatter;switch(typeof e==="undefined"?"undefined":i(e)){case"string":if(this.copyFormatters[e]){this.copyFormatter=this.copyFormatters[e]}else{console.warn("Clipboard Error - No such formatter found:",e)}break;case"function":this.copyFormatter=e;break}};v.prototype.generateContent=function(){var e;this.htmlElement=false;e=this.copySelector.call(this,this.config,this.copySelectorParams);return this.copyFormatter.call(this,e,this.config,this.copyFormatterParams)};v.prototype.generateSimpleHeaders=function(e){var t=[];e.forEach(function(e){t.push(e.definition.title)});return t};v.prototype.generateColumnGroupHeaders=function(e){var t=this;var o=[];this.table.columnManager.columns.forEach(function(e){var i=t.processColumnGroup(e);if(i){o.push(i)}});return o};v.prototype.processColumnGroup=function(e){var t=this;var o=e.columns;var i={type:"group",title:e.definition.title,column:e};if(o.length){i.subGroups=[];i.width=0;o.forEach(function(e){var o=t.processColumnGroup(e);if(o){i.width+=o.width;i.subGroups.push(o)}});if(!i.width){return false}}else{if(e.field&&e.visible){i.width=1}else{return false}}return i};v.prototype.groupHeadersToRows=function(e){var t=[];function o(e,n){if(typeof t[n]==="undefined"){t[n]=[]}t[n].push(e.title);if(e.subGroups){e.subGroups.forEach(function(e){o(e,n+1)})}else{i()}}function i(){var e=0;t.forEach(function(t){var o=t.length;if(o>e){e=o}});t.forEach(function(t){var o=t.length;if(o<e){for(var i=o;i<e;i++){t.push("")}}})}e.forEach(function(e){o(e,0)});return t};v.prototype.rowsToData=function(e,t,o){var n=this.table.columnManager.columnsByIndex,s=[];e.forEach(function(e){var t=[],o=e instanceof r?e.getData("clipboard"):e;n.forEach(function(e){var n=e.getFieldValue(o);switch(typeof n==="undefined"?"undefined":i(n)){case"object":n=JSON.stringify(n);break;case"undefined":case"null":n="";break;default:n=n}t.push(n)});s.push(t)});return s};v.prototype.buildComplexRows=function(e){var t=this;var o=[],i=this.table.modules.groupRows.getGroups();i.forEach(function(e){o.push(t.processGroupData(e))});return o};v.prototype.processGroupData=function(e){var t=this;var o=e.getSubGroups();var i={type:"group",key:e.key};if(o.length){i.subGroups=[];o.forEach(function(e){i.subGroups.push(t.processGroupData(e))})}else{i.rows=e.getRows(true)}return i};v.prototype.getCalcRow=function(e,t,o){var i=e[t];if(i){if(o){i=i[o]}if(Object.keys(i).length){return this.rowsToData([i])}}return[]};v.prototype.buildOutput=function(e,t,o){var i=this;var n=[],s,r=this.table.columnManager.columnsByIndex;if(t.columnHeaders){if(t.columnHeaders=="groups"){r=this.generateColumnGroupHeaders(this.table.columnManager.columns);n=n.concat(this.groupHeadersToRows(r))}else{n.push(this.generateSimpleHeaders(r))}}if(this.config.columnCalcs){s=this.table.getCalcResults()}if(this.table.options.clipboardCopyStyled){this.generateHTML(e,r,s,t,o)}if(t.rowGroups){e.forEach(function(e){n=n.concat(i.parseRowGroupData(e,t,o,s||{}))})}else{if(t.columnCalcs){n=n.concat(this.getCalcRow(s,"top"))}n=n.concat(this.rowsToData(e,t,o));if(t.columnCalcs){n=n.concat(this.getCalcRow(s,"bottom"))}}return n};v.prototype.parseRowGroupData=function(e,t,o,i){var n=this;var s=[];s.push([e.key]);if(e.subGroups){e.subGroups.forEach(function(r){s=s.concat(n.parseRowGroupData(r,t,o,i[e.key]?i[e.key].groups||{}:{}))})}else{if(t.columnCalcs){s=s.concat(this.getCalcRow(i,e.key,"top"))}s=s.concat(this.rowsToData(e.rows,t,o));if(t.columnCalcs){s=s.concat(this.getCalcRow(i,e.key,"bottom"))}}return s};v.prototype.generateHTML=function(e,t,o,n,s){var a=this,l=[],u,c,f,d,h,p,m,g,b;this.htmlElement=document.createElement("table");a.mapElementStyles(this.table.element,this.htmlElement,["border-top","border-left","border-right","border-bottom"]);function v(){var e=document.createElement("tr");t.forEach(function(t){var o=document.createElement("th");o.innerHTML=t.definition.title;a.mapElementStyles(t.getElement(),o,["border-top","border-left","border-right","border-bottom","background-color","color","font-weight","font-family","font-size"]);e.appendChild(o)});a.mapElementStyles(a.table.columnManager.getHeadersElement(),e,["border-top","border-left","border-right","border-bottom","background-color","color","font-weight","font-family","font-size"]);a.htmlElement.appendChild(document.createElement("thead").appendChild(e))}function y(e){var t=document.createElement("thead");e.forEach(function(e){var o=document.createElement("tr");e.forEach(function(e){var t=document.createElement("th");if(e.width>1){t.colSpan=e.width}if(e.height>1){t.rowSpan=e.height}t.innerHTML=e.title;a.mapElementStyles(e.element,t,["border-top","border-left","border-right","border-bottom","background-color","color","font-weight","font-family","font-size"]);o.appendChild(t)});a.mapElementStyles(a.table.columnManager.getHeadersElement(),o,["border-top","border-left","border-right","border-bottom","background-color","color","font-weight","font-family","font-size"]);t.appendChild(o)});a.htmlElement.appendChild(t)}function w(e,t){if(typeof l[t]==="undefined"){l[t]=[]}l[t].push({title:e.title,width:e.width,height:1,children:!!e.subGroups,element:e.column.getElement()});if(e.subGroups){e.subGroups.forEach(function(e){w(e,t+1)})}}function E(){l.forEach(function(e,t){e.forEach(function(e){if(!e.children){e.height=l.length-t}})})}function C(e,t,o){var i=e[t];if(i){if(o){i=i[o]}if(Object.keys(i).length){x([i])}}}if(n.columnHeaders){if(n.columnHeaders=="groups"){t.forEach(function(e){w(e,0)});E();y(l)}else{v()}}t=this.table.columnManager.columnsByIndex;u=document.createElement("tbody");if(window.getComputedStyle){c=this.table.element.querySelector(".tabulator-row-odd:not(.tabulator-group):not(.tabulator-calcs)");f=this.table.element.querySelector(".tabulator-row-even:not(.tabulator-group):not(.tabulator-calcs)");d=this.table.element.querySelector(".tabulator-row.tabulator-calcs");h=this.table.element.querySelector(".tabulator-row:not(.tabulator-group):not(.tabulator-calcs)");m=this.table.element.getElementsByClassName("tabulator-group")[0];if(h){b=h.getElementsByClassName("tabulator-cell");p=b[0];g=b[b.length-1]}}function x(e){e.forEach(function(e,o){var n=document.createElement("tr"),s=h,l=false,m;if(e instanceof r){m=e.getData("clipboard")}else{m=e;l=true}t.forEach(function(e,o){var s=document.createElement("td"),r=e.getFieldValue(m);switch(typeof r==="undefined"?"undefined":i(r)){case"object":r=JSON.stringify(r);break;case"undefined":case"null":r="";break;default:r=r}s.innerHTML=r;if(e.definition.align){s.style.textAlign=e.definition.align}if(o<t.length-1){if(p){a.mapElementStyles(p,s,["border-top","border-left","border-right","border-bottom","color","font-weight","font-family","font-size"])}}else{if(p){a.mapElementStyles(p,s,["border-top","border-left","border-right","border-bottom","color","font-weight","font-family","font-size"])}}n.appendChild(s)});if(l){s=d}else{if(!(o%2)&&c){s=c}if(o%2&&f){s=f}}if(s){a.mapElementStyles(s,n,["border-top","border-left","border-right","border-bottom","color","font-weight","font-family","font-size","background-color"])}u.appendChild(n)})}function R(e,o){var i=document.createElement("tr"),s=document.createElement("td");s.colSpan=t.length;s.innerHTML=e.key;i.appendChild(s);u.appendChild(i);a.mapElementStyles(m,i,["border-top","border-left","border-right","border-bottom","color","font-weight","font-family","font-size","background-color"]);if(e.subGroups){e.subGroups.forEach(function(t){R(t,o[e.key]?o[e.key].groups||{}:{})})}else{if(n.columnCalcs){C(o,e.key,"top")}x(e.rows);if(n.columnCalcs){C(o,e.key,"bottom")}}}if(n.rowGroups){e.forEach(function(e){R(e,o||{})})}else{if(n.columnCalcs){C(o,"top")}x(e);if(n.columnCalcs){C(o,"bottom")}}this.htmlElement.appendChild(u)};v.prototype.mapElementStyles=function(e,t,o){var i={"background-color":"backgroundColor",color:"fontColor","font-weight":"fontWeight","font-family":"fontFamily","font-size":"fontSize","border-top":"borderTop","border-left":"borderLeft","border-right":"borderRight","border-bottom":"borderBottom"};if(window.getComputedStyle){var n=window.getComputedStyle(e);o.forEach(function(e){t.style[i[e]]=n.getPropertyValue(e)})}};v.prototype.copySelectors={userSelection:function e(t,o){return o},selected:function e(t,o){var i=[];if(this.table.modExists("selectRow",true)){i=this.table.modules.selectRow.getSelectedRows()}if(t.rowGroups){console.warn("Clipboard Warning - select coptSelector does not support row groups")}return this.buildOutput(i,t,o)},table:function e(t,o){if(t.rowGroups){console.warn("Clipboard Warning - table coptSelector does not support row groups")}return this.buildOutput(this.table.rowManager.getComponents(),t,o)},active:function e(t,o){var i;if(t.rowGroups){i=this.buildComplexRows(t)}else{i=this.table.rowManager.getComponents(true)}return this.buildOutput(i,t,o)}};v.prototype.copyFormatters={raw:function e(t,o){return t},table:function e(t,o){var i=[];t.forEach(function(e){e.forEach(function(e){if(typeof e=="undefined"){e=""}e=typeof e=="undefined"||e===null?"":e.toString();if(e.match(/\r|\n/)){e=e.split('"').join('""');e='"'+e+'"'}});i.push(e.join("\t"))});return i.join("\n")}};v.prototype.pasteParsers={table:function e(t){var o=[],i=true,n=this.table.columnManager.columns,s=[],r=[];t=t.split("\n");t.forEach(function(e){o.push(e.split("\t"))});if(o.length&&!(o.length===1&&o[0].length<2)){o[0].forEach(function(e){var t=n.find(function(t){return e&&t.definition.title&&e.trim()&&t.definition.title.trim()===e.trim()});if(t){s.push(t)}else{i=false}});if(!i){i=true;s=[];o[0].forEach(function(e){var t=n.find(function(t){return e&&t.field&&e.trim()&&t.field.trim()===e.trim()});if(t){s.push(t)}else{i=false}});if(!i){s=this.table.columnManager.columnsByIndex}}if(i){o.shift()}o.forEach(function(e){var t={};e.forEach(function(e,o){if(s[o]){t[s[o].field]=e}});r.push(t)});return r}else{return false}}};v.prototype.pasteActions={replace:function e(t){return this.table.setData(t)},update:function e(t){return this.table.updateOrAddData(t)},insert:function e(t){return this.table.addData(t)}};f.prototype.registerModule("clipboard",v);var y=function e(t){this.table=t;this.indent=10;this.field="";this.collapseEl=null;this.expandEl=null;this.branchEl=null;this.elementField=false;this.startOpen=function(){};this.displayIndex=0};y.prototype.initialize=function(){var e=null,t=this.table.columnManager.getFirstVisibileColumn(),o=this.table.options;this.field=o.dataTreeChildField;this.indent=o.dataTreeChildIndent;this.elementField=o.dataTreeElementColumn||(t?t.field:false);if(o.dataTreeBranchElement){if(o.dataTreeBranchElement===true){this.branchEl=document.createElement("div");this.branchEl.classList.add("tabulator-data-tree-branch")}else{if(typeof o.dataTreeBranchElement==="string"){e=document.createElement("div");e.innerHTML=o.dataTreeBranchElement;this.branchEl=e.firstChild}else{this.branchEl=o.dataTreeBranchElement}}}if(o.dataTreeCollapseElement){if(typeof o.dataTreeCollapseElement==="string"){e=document.createElement("div");e.innerHTML=o.dataTreeCollapseElement;this.collapseEl=e.firstChild}else{this.collapseEl=o.dataTreeCollapseElement}}else{this.collapseEl=document.createElement("div");this.collapseEl.classList.add("tabulator-data-tree-control");this.collapseEl.innerHTML="<div class='tabulator-data-tree-control-collapse'></div>"}if(o.dataTreeExpandElement){if(typeof o.dataTreeExpandElement==="string"){e=document.createElement("div");e.innerHTML=o.dataTreeExpandElement;this.expandEl=e.firstChild}else{this.expandEl=o.dataTreeExpandElement}}else{this.expandEl=document.createElement("div");this.expandEl.classList.add("tabulator-data-tree-control");this.expandEl.innerHTML="<div class='tabulator-data-tree-control-expand'></div>"}switch(i(o.dataTreeStartExpanded)){case"boolean":this.startOpen=function(e,t){return o.dataTreeStartExpanded};break;case"function":this.startOpen=o.dataTreeStartExpanded;break;default:this.startOpen=function(e,t){return o.dataTreeStartExpanded[t]};break}};y.prototype.initializeRow=function(e){var t=e.getData()[this.field];var o=Array.isArray(t);var n=o||!o&&(typeof t==="undefined"?"undefined":i(t))==="object"&&t!==null;e.modules.dataTree={index:0,open:n?this.startOpen(e.getComponent(),0):false,controlEl:false,branchEl:false,parent:false,children:n}};y.prototype.layoutRow=function(e){var t=this.elementField?e.getCell(this.elementField):e.getCells()[0],o=t.getElement(),i=e.modules.dataTree;if(i.branchEl){i.branchEl.parentNode.removeChild(i.branchEl)}this.generateControlElement(e,o);if(i.index){if(this.branchEl){i.branchEl=this.branchEl.cloneNode(true);o.insertBefore(i.branchEl,o.firstChild);i.branchEl.style.marginLeft=(i.branchEl.offsetWidth+i.branchEl.style.marginRight)*(i.index-1)+i.index*this.indent+"px"}else{o.style.paddingLeft=parseInt(window.getComputedStyle(o,null).getPropertyValue("padding-left"))+i.index*this.indent+"px"}}};y.prototype.generateControlElement=function(e,t){var o=this;var i=e.modules.dataTree,t=t||e.getCells()[0].getElement(),n=i.controlEl;if(i.children!==false){if(i.open){i.controlEl=this.collapseEl.cloneNode(true);i.controlEl.addEventListener("click",function(t){t.stopPropagation();o.collapseRow(e)})}else{i.controlEl=this.expandEl.cloneNode(true);i.controlEl.addEventListener("click",function(t){t.stopPropagation();o.expandRow(e)})}i.controlEl.addEventListener("mousedown",function(e){e.stopPropagation()});if(n&&n.parentNode===t){n.parentNode.replaceChild(i.controlEl,n)}else{t.insertBefore(i.controlEl,t.firstChild)}}};y.prototype.setDisplayIndex=function(e){this.displayIndex=e};y.prototype.getDisplayIndex=function(){return this.displayIndex};y.prototype.getRows=function(e){var t=this;var o=[];e.forEach(function(e,i){var n,s;o.push(e);if(e instanceof a){n=e.modules.dataTree.children;if(!n.index&&n.children!==false){s=t.getChildren(e);s.forEach(function(e){o.push(e)})}}});return o};y.prototype.getChildren=function(e){var t=this;var o=e.modules.dataTree,i=[],n=[];if(o.children!==false&&o.open){if(!Array.isArray(o.children)){o.children=this.generateChildren(e)}if(this.table.modExists("filter")){i=this.table.modules.filter.filter(o.children)}else{i=o.children}if(this.table.modExists("sort")){this.table.modules.sort.sort(i)}i.forEach(function(e){n.push(e);var o=t.getChildren(e);o.forEach(function(e){n.push(e)})})}return n};y.prototype.generateChildren=function(e){var t=this;var o=[];var i=e.getData()[this.field];if(!Array.isArray(i)){i=[i]}i.forEach(function(i){var n=new a(i||{},t.table.rowManager);n.modules.dataTree.index=e.modules.dataTree.index+1;n.modules.dataTree.parent=e;if(n.modules.dataTree.children){n.modules.dataTree.open=t.startOpen(n.getComponent(),n.modules.dataTree.index)}o.push(n)});return o};y.prototype.expandRow=function(e,t){var o=e.modules.dataTree;if(o.children!==false){o.open=true;e.reinitialize();this.table.rowManager.refreshActiveData("tree",false,true);this.table.options.dataTreeRowExpanded(e.getComponent(),e.modules.dataTree.index)}};y.prototype.collapseRow=function(e){var t=e.modules.dataTree;if(t.children!==false){t.open=false;e.reinitialize();this.table.rowManager.refreshActiveData("tree",false,true);this.table.options.dataTreeRowCollapsed(e.getComponent(),e.modules.dataTree.index)}};y.prototype.toggleRow=function(e){var t=e.modules.dataTree;if(t.children!==false){if(t.open){this.collapseRow(e)}else{this.expandRow(e)}}};y.prototype.getTreeParent=function(e){return e.modules.dataTree.parent?e.modules.dataTree.parent.getComponent():false};y.prototype.getTreeChildren=function(e){var t=e.modules.dataTree,o=[];if(t.children){if(!Array.isArray(t.children)){t.children=this.generateChildren(e)}t.children.forEach(function(e){if(e instanceof a){o.push(e.getComponent())}})}return o};y.prototype.checkForRestyle=function(e){if(!e.row.cells.indexOf(e)){if(e.row.modules.dataTree.children!==false){e.row.reinitialize()}}};y.prototype.getChildField=function(){return this.field};f.prototype.registerModule("dataTree",y);var w=function e(t){this.table=t;this.fields={};this.columnsByIndex=[];this.columnsByField={};this.config={}};w.prototype.download=function(e,t,o,i){var n=this,s=false;this.processConfig();function r(o,s){if(i){if(i===true){n.triggerDownload(o,s,e,t,true)}else{i(o)}}else{n.triggerDownload(o,s,e,t)}}if(typeof e=="function"){s=e}else{if(n.downloaders[e]){s=n.downloaders[e]}else{console.warn("Download Error - No such download type found: ",e)}}this.processColumns();if(s){s.call(this,n.processDefinitions(),n.processData(),o||{},r,this.config)}};w.prototype.processConfig=function(){var e={columnGroups:true,rowGroups:true,columnCalcs:true};if(this.table.options.downloadConfig){for(var t in this.table.options.downloadConfig){e[t]=this.table.options.downloadConfig[t]}}if(e.rowGroups&&this.table.options.groupBy&&this.table.modExists("groupRows")){this.config.rowGroups=true}if(e.columnGroups&&this.table.columnManager.columns.length!=this.table.columnManager.columnsByIndex.length){this.config.columnGroups=true}if(e.columnCalcs&&this.table.modExists("columnCalcs")){this.config.columnCalcs=true}};w.prototype.processColumns=function(){var e=this;e.columnsByIndex=[];e.columnsByField={};e.table.columnManager.columnsByIndex.forEach(function(t){if(t.field&&t.definition.download!==false&&(t.visible||!t.visible&&t.definition.download)){e.columnsByIndex.push(t);e.columnsByField[t.field]=t}})};w.prototype.processDefinitions=function(){var e=this,t=[];if(this.config.columnGroups){e.table.columnManager.columns.forEach(function(o){var i=e.processColumnGroup(o);if(i){t.push(i)}})}else{e.columnsByIndex.forEach(function(o){if(o.download!==false){t.push(e.processDefinition(o))}})}return t};w.prototype.processColumnGroup=function(e){var t=this;var o=e.columns,i=0;var n={type:"group",title:e.definition.title,depth:1};if(o.length){n.subGroups=[];n.width=0;o.forEach(function(e){var o=t.processColumnGroup(e);if(o.depth>i){i=o.depth}if(o){n.width+=o.width;n.subGroups.push(o)}});n.depth+=i;if(!n.width){return false}}else{if(e.field&&e.definition.download!==false&&(e.visible||!e.visible&&e.definition.download)){n.width=1;n.definition=this.processDefinition(e)}else{return false}}return n};w.prototype.processDefinition=function(e){var t={};for(var o in e.definition){t[o]=e.definition[o]}if(typeof e.definition.downloadTitle!="undefined"){t.title=e.definition.downloadTitle}return t};w.prototype.processData=function(){var e=this;var t=this,o=[],i=[],n={};if(this.config.rowGroups){i=this.table.modules.groupRows.getGroups();i.forEach(function(t){o.push(e.processGroupData(t))})}else{o=t.table.rowManager.getData(true,"download")}if(this.config.columnCalcs){n=this.table.getCalcResults();o={calcs:n,data:o}}if(typeof t.table.options.downloadDataFormatter=="function"){o=t.table.options.downloadDataFormatter(o)}return o};w.prototype.processGroupData=function(e){var t=this;var o=e.getSubGroups();var i={type:"group",key:e.key};if(o.length){i.subGroups=[];o.forEach(function(e){i.subGroups.push(t.processGroupData(e))})}else{i.rows=e.getData(true,"download")}return i};w.prototype.triggerDownload=function(e,t,o,i,n){var s=document.createElement("a"),r=new Blob([e],{type:t}),i=i||"Tabulator."+(typeof o==="function"?"txt":o);r=this.table.options.downloadReady.call(this.table,e,r);if(r){if(n){window.open(window.URL.createObjectURL(r))}else{if(navigator.msSaveOrOpenBlob){navigator.msSaveOrOpenBlob(r,i)}else{s.setAttribute("href",window.URL.createObjectURL(r));s.setAttribute("download",i);s.style.display="none";document.body.appendChild(s);s.click();document.body.removeChild(s)}}if(this.table.options.downloadComplete){this.table.options.downloadComplete()}}};w.prototype.getFieldValue=function(e,t){var o=this.columnsByField[e];if(o){return o.getFieldValue(t)}return false};w.prototype.commsReceived=function(e,t,o){switch(t){case"intercept":this.download(o.type,"",o.options,o.intercept);break}};w.prototype.downloaders={csv:function e(t,o,n,s,r){var a=this,l=[],u=[],c=n&&n.delimiter?n.delimiter:",",f,d;function h(){t.forEach(function(e){l.push('"'+String(e.title).split('"').join('""')+'"');u.push(e.field)})}function p(e,t){if(e.subGroups){e.subGroups.forEach(function(e){p(e)})}else{l.push('"'+String(e.title).split('"').join('""')+'"');u.push(e.definition.field)}}if(r.columnGroups){console.warn("Download Warning - CSV downloader cannot process column groups");t.forEach(function(e){p(e)})}else{h()}f=[l.join(c)];function m(e){e.forEach(function(e){var t=[];u.forEach(function(o){var n=a.getFieldValue(o,e);switch(typeof n==="undefined"?"undefined":i(n)){case"object":n=JSON.stringify(n);break;case"undefined":case"null":n="";break;default:n=n}t.push('"'+String(n).split('"').join('""')+'"')});f.push(t.join(c))})}function g(e){if(e.subGroups){e.subGroups.forEach(function(e){g(e)})}else{m(e.rows)}}if(r.columnCalcs){console.warn("Download Warning - CSV downloader cannot process column calculations");o=o.data}if(r.rowGroups){console.warn("Download Warning - CSV downloader cannot process row groups");o.forEach(function(e){g(e)})}else{m(o)}d=f.join("\n");if(n.bom){d="\ufeff"+d}s(d,"text/csv")},json:function e(t,o,i,n,s){var r;if(s.columnCalcs){console.warn("Download Warning - CSV downloader cannot process column calculations");o=o.data}r=JSON.stringify(o,null,"\t");n(r,"application/json")},pdf:function e(t,o,n,s,r){var a=this,l=[],u=[],c=[],f={},d=1,h={},p=n.rowGroupStyles||{fontStyle:"bold",fontSize:12,cellPadding:6,fillColor:220},m=n.rowCalcStyles||{fontStyle:"bold",fontSize:10,cellPadding:4,fillColor:232},g=n.jsPDF||{},b=n&&n.title?n.title:"";if(r.columnCalcs){f=o.calcs;o=o.data}if(!g.orientation){g.orientation=n.orientation||"landscape"}if(!g.unit){g.unit="pt"}function v(){t.forEach(function(e){if(e.field){u.push(e.title||"");l.push(e.field)}});u=[u]}function y(e,t){var o=e.width,i=1,n={content:e.title||""};if(e.subGroups){e.subGroups.forEach(function(e){y(e,t+1)});i=1}else{l.push(e.definition.field);i=d-t}n.rowSpan=i;u[t].push(n);o--;if(i>1){for(var s=t+1;s<d;s++){u[s].push("")}}for(var s=0;s<o;s++){u[t].push("")}}if(r.columnGroups){t.forEach(function(e){if(e.depth>d){d=e.depth}});for(var w=0;w<d;w++){u.push([])}t.forEach(function(e){y(e,0)})}else{v()}function E(e){switch(typeof e==="undefined"?"undefined":i(e)){case"object":e=JSON.stringify(e);break;case"undefined":case"null":e="";break;default:e=e}return e}function C(e){e.forEach(function(e){c.push(x(e))})}function x(e,t){var o=[];l.forEach(function(i){var n=a.getFieldValue(i,e);n=E(n);if(t){o.push({content:n,styles:t})}else{o.push(n)}});return o}function R(e,t){var o=[];o.push({content:E(e.key),colSpan:l.length,styles:p});c.push(o);if(e.subGroups){e.subGroups.forEach(function(o){R(o,t[e.key]?t[e.key].groups||{}:{})})}else{if(r.columnCalcs){M(t,e.key,"top")}C(e.rows);if(r.columnCalcs){M(t,e.key,"bottom")}}}function M(e,t,o){var i=e[t];if(i){if(o){i=i[o]}if(Object.keys(i).length){c.push(x(i,m))}}}if(r.rowGroups){o.forEach(function(e){R(e,f)})}else{if(r.columnCalcs){M(f,"top")}C(o);if(r.columnCalcs){M(f,"bottom")}}var D=new jsPDF(g);if(n&&n.autoTable){if(typeof n.autoTable==="function"){h=n.autoTable(D)||{}}else{h=n.autoTable}}if(b){h.addPageContent=function(e){D.text(b,40,30)}}h.head=u;h.body=c;D.autoTable(h);s(D.output("arraybuffer"),"application/pdf")},xlsx:function e(t,o,n,s,r){var a=this,l=n.sheetName||"Sheet1",u={SheetNames:[],Sheets:{}},c={},f=[],d=[],h;if(r.columnCalcs){c=o.calcs;o=o.data}function p(){var e=[],n=[],s=[],l;function u(){var e={};var t={s:{c:0,r:0},e:{c:n.length,r:s.length}};XLSX.utils.sheet_add_aoa(e,s);e["!ref"]=XLSX.utils.encode_range(t);var o=g();if(o.length){e["!merges"]=o}return e}function h(){t.forEach(function(t){e.push(t.title);n.push(t.field)});s.push(e)}function p(t,o){if(typeof e[o]==="undefined"){e[o]=[]}if(typeof d[o]==="undefined"){d[o]=[]}if(t.width>1){d[o].push({type:"hoz",start:e[o].length,end:e[o].length+t.width-1})}e[o].push(t.title);if(t.subGroups){t.subGroups.forEach(function(e){p(e,o+1)})}else{n.push(t.definition.field);m();d[o].push({type:"vert",start:n.length-1})}}function m(){var t=0;e.forEach(function(e){var o=e.length;if(o>t){t=o}});e.forEach(function(e){var o=e.length;if(o<t){for(var i=o;i<t;i++){e.push("")}}})}if(r.columnGroups){t.forEach(function(e){p(e,0)});e.forEach(function(e){s.push(e)})}else{h()}function g(){var t=[];f.forEach(function(e){t.push({s:{r:e,c:0},e:{r:e,c:n.length-1}})});d.forEach(function(o,i){o.forEach(function(o){if(o.type==="hoz"){t.push({s:{r:i,c:o.start},e:{r:i,c:o.end}})}else{if(i!=e.length-1){t.push({s:{r:i,c:o.start},e:{r:e.length-1,c:o.start}})}}})});return t}function b(e){e.forEach(function(e){s.push(v(e))})}function v(e){var t=[];n.forEach(function(o){var n=a.getFieldValue(o,e);t.push(!(n instanceof Date)&&(typeof n==="undefined"?"undefined":i(n))==="object"?JSON.stringify(n):n)});return t}function y(e,t,o){var i=e[t];if(i){if(o){i=i[o]}if(Object.keys(i).length){s.push(v(i))}}}function w(e,t){var o=[];o.push(e.key);f.push(s.length);s.push(o);if(e.subGroups){e.subGroups.forEach(function(o){w(o,t[e.key]?t[e.key].groups||{}:{})})}else{if(r.columnCalcs){y(t,e.key,"top")}b(e.rows);if(r.columnCalcs){y(t,e.key,"bottom")}}}if(r.rowGroups){o.forEach(function(e){w(e,c)})}else{if(r.columnCalcs){y(c,"top")}b(o);if(r.columnCalcs){y(c,"bottom")}}l=u();return l}if(n.sheetOnly){s(p());return}if(n.sheets){for(var m in n.sheets){if(n.sheets[m]===true){u.SheetNames.push(m);u.Sheets[m]=p()}else{u.SheetNames.push(m);this.table.modules.comms.send(n.sheets[m],"download","intercept",{type:"xlsx",options:{sheetOnly:true},intercept:function e(t){u.Sheets[m]=t}})}}}else{u.SheetNames.push(l);u.Sheets[l]=p()}function g(e){var t=new ArrayBuffer(e.length);var o=new Uint8Array(t);for(var i=0;i!=e.length;++i){o[i]=e.charCodeAt(i)&255}return t}h=XLSX.write(u,{bookType:"xlsx",bookSST:true,type:"binary"});s(g(h),"application/octet-stream")}};f.prototype.registerModule("download",w);var E=function e(t){this.table=t;this.currentCell=false;this.mouseClick=false;this.recursionBlock=false;this.invalidEdit=false};E.prototype.initializeColumn=function(e){var t=this,o={editor:false,blocked:false,check:e.definition.editable,params:e.definition.editorParams||{}};switch(i(e.definition.editor)){case"string":if(e.definition.editor==="tick"){e.definition.editor="tickCross";console.warn("DEPRECATION WANRING - the tick editor has been depricated, please use the tickCross editor")}if(t.editors[e.definition.editor]){o.editor=t.editors[e.definition.editor]}else{console.warn("Editor Error - No such editor found: ",e.definition.editor)}break;case"function":o.editor=e.definition.editor;break;case"boolean":if(e.definition.editor===true){if(typeof e.definition.formatter!=="function"){if(e.definition.formatter==="tick"){e.definition.formatter="tickCross";console.warn("DEPRECATION WANRING - the tick editor has been depricated, please use the tickCross editor")}if(t.editors[e.definition.formatter]){o.editor=t.editors[e.definition.formatter]}else{o.editor=t.editors["input"]}}else{console.warn("Editor Error - Cannot auto lookup editor for a custom formatter: ",e.definition.formatter)}}break}if(o.editor){e.modules.edit=o}};E.prototype.getCurrentCell=function(){return this.currentCell?this.currentCell.getComponent():false};E.prototype.clearEditor=function(){var e=this.currentCell,t;this.invalidEdit=false;if(e){this.currentCell=false;t=e.getElement();t.classList.remove("tabulator-validation-fail");t.classList.remove("tabulator-editing");while(t.firstChild){t.removeChild(t.firstChild)}e.row.getElement().classList.remove("tabulator-row-editing")}};E.prototype.cancelEdit=function(){if(this.currentCell){var e=this.currentCell;var t=this.currentCell.getComponent();this.clearEditor();e.setValueActual(e.getValue());if(e.column.cellEvents.cellEditCancelled){e.column.cellEvents.cellEditCancelled.call(this.table,t)}this.table.options.cellEditCancelled.call(this.table,t)}};E.prototype.bindEditor=function(e){var t=this,o=e.getElement();o.setAttribute("tabindex",0);o.addEventListener("click",function(e){if(!o.classList.contains("tabulator-editing")){o.focus()}});o.addEventListener("mousedown",function(e){t.mouseClick=true});o.addEventListener("focus",function(o){if(!t.recursionBlock){t.edit(e,o,false)}})};E.prototype.focusCellNoEvent=function(e){this.recursionBlock=true;if(this.table.browser!=="ie"){e.getElement().focus()}this.recursionBlock=false};E.prototype.editCell=function(e,t){this.focusCellNoEvent(e);this.edit(e,false,t)};E.prototype.edit=function(e,t,o){var n=this,s=true,r=function e(){},a=e.getElement(),l,u,c;if(this.currentCell){if(!this.invalidEdit){this.cancelEdit()}return}function f(t){if(n.currentCell===e){var o=true;if(e.column.modules.validate&&n.table.modExists("validate")){o=n.table.modules.validate.validate(e.column.modules.validate,e.getComponent(),t)}if(o===true){n.clearEditor();e.setValue(t,true);if(n.table.options.dataTree&&n.table.modExists("dataTree")){n.table.modules.dataTree.checkForRestyle(e)}}else{n.invalidEdit=true;a.classList.add("tabulator-validation-fail");n.focusCellNoEvent(e);r();n.table.options.validationFailed.call(n.table,e.getComponent(),t,o)}}}function d(){if(n.currentCell===e){n.cancelEdit();if(n.table.options.dataTree&&n.table.modExists("dataTree")){n.table.modules.dataTree.checkForRestyle(e)}}}function h(e){r=e}if(!e.column.modules.edit.blocked){if(t){t.stopPropagation()}switch(i(e.column.modules.edit.check)){case"function":s=e.column.modules.edit.check(e.getComponent());break;case"boolean":s=e.column.modules.edit.check;break}if(s||o){n.cancelEdit();n.currentCell=e;u=e.getComponent();if(this.mouseClick){this.mouseClick=false;if(e.column.cellEvents.cellClick){e.column.cellEvents.cellClick.call(this.table,t,u)}}if(e.column.cellEvents.cellEditing){e.column.cellEvents.cellEditing.call(this.table,u)}n.table.options.cellEditing.call(this.table,u);c=typeof e.column.modules.edit.params==="function"?e.column.modules.edit.params(u):e.column.modules.edit.params;l=e.column.modules.edit.editor.call(n,u,h,f,d,c);if(l!==false){if(l instanceof Node){a.classList.add("tabulator-editing");e.row.getElement().classList.add("tabulator-row-editing");while(a.firstChild){a.removeChild(a.firstChild)}a.appendChild(l);r();var p=a.children;for(var m=0;m<p.length;m++){p[m].addEventListener("click",function(e){e.stopPropagation()})}}else{console.warn("Edit Error - Editor should return an instance of Node, the editor returned:",l);a.blur();return false}}else{a.blur();return false}return true}else{this.mouseClick=false;a.blur();return false}}else{this.mouseClick=false;a.blur();return false}};E.prototype.editors={input:function e(t,o,i,n,s){var r=t.getValue(),e=document.createElement("input");e.setAttribute("type","text");e.style.padding="4px";e.style.width="100%";e.style.boxSizing="border-box";e.value=typeof r!=="undefined"?r:"";o(function(){e.focus();e.style.height="100%"});function a(t){if((r===null||typeof r==="undefined")&&e.value!==""||e.value!=r){i(e.value)}else{n()}}e.addEventListener("change",a);e.addEventListener("blur",a);e.addEventListener("keydown",function(t){switch(t.keyCode){case 13:i(e.value);break;case 27:n();break}});return e},textarea:function e(t,o,i,n,s){var r=t.getValue(),a=String(r!==null&&r!=="undefined"?r:""),l=(a.match(/(?:\r\n|\r|\n)/g)||[]).length+1,u=document.createElement("textarea"),c=0;u.style.display="block";u.style.padding="2px";u.style.height="100%";u.style.width="100%";u.style.boxSizing="border-box";u.style.whiteSpace="pre-wrap";u.style.resize="none";u.value=a;o(function(){u.focus();u.style.height="100%"});function f(e){if((r===null||typeof r==="undefined")&&u.value!==""||u.value!=r){i(u.value);setTimeout(function(){t.getRow().normalizeHeight()},300)}else{n()}}u.addEventListener("change",f);u.addEventListener("blur",f);u.addEventListener("keyup",function(){u.style.height="";var e=u.scrollHeight;u.style.height=e+"px";if(e!=c){c=e;t.getRow().normalizeHeight()}});u.addEventListener("keydown",function(e){if(e.keyCode==27){n()}});return u},number:function e(t,o,i,n,s){var r=t.getValue(),a=document.createElement("input");a.setAttribute("type","number");if(typeof s.max!="undefined"){a.setAttribute("max",s.max)}if(typeof s.min!="undefined"){a.setAttribute("min",s.min)}if(typeof s.step!="undefined"){a.setAttribute("step",s.step)}a.style.padding="4px";a.style.width="100%";a.style.boxSizing="border-box";a.value=r;var l=function e(t){u()};o(function(){a.removeEventListener("blur",l);a.focus();a.style.height="100%";a.addEventListener("blur",l)});function u(){var e=a.value;if(!isNaN(e)&&e!==""){e=Number(e)}if(e!=r){i(e)}else{n()}}a.addEventListener("keydown",function(e){switch(e.keyCode){case 13:case 9:u();break;case 27:n();break}});return a},range:function e(t,o,i,n,s){var r=t.getValue(),a=document.createElement("input");a.setAttribute("type","range");if(typeof s.max!="undefined"){a.setAttribute("max",s.max)}if(typeof s.min!="undefined"){a.setAttribute("min",s.min)}if(typeof s.step!="undefined"){a.setAttribute("step",s.step)}a.style.padding="4px";a.style.width="100%";a.style.boxSizing="border-box";a.value=r;o(function(){a.focus();a.style.height="100%"});function l(){var e=a.value;if(!isNaN(e)&&e!==""){e=Number(e)}if(e!=r){i(e)}else{n()}}a.addEventListener("blur",function(e){l()});a.addEventListener("keydown",function(e){switch(e.keyCode){case 13:case 9:l();break;case 27:n();break}});return a},select:function e(t,o,n,s,r){var a=this,l=t.getElement(),u=t.getValue(),c=document.createElement("input"),d=document.createElement("div"),h=[],p=[],m={},g=true;if(Array.isArray(r)||!Array.isArray(r)&&(typeof r==="undefined"?"undefined":i(r))==="object"&&!r.values){console.warn("DEPRECATION WANRING - values for the select editor must now be passed into the values property of the editorParams object, not as the editorParams object");r={values:r}}function b(){var e={},o=t.getColumn()._getSelf(),i=a.table.getData();i.forEach(function(t){var i=o.getFieldValue(t);if(i!==null&&typeof i!=="undefined"&&i!==""){e[i]=true}});if(r.sortValuesList){if(r.sortValuesList=="asc"){e=Object.keys(e).sort()}else{e=Object.keys(e).sort().reverse()}}else{e=Object.keys(e)}return e}function v(e,o){var n=[];var s=[];function a(e){var e={label:r.listItemFormatter?r.listItemFormatter(e.value,e.label):e.label,value:e.value,element:false};if(e.value===o||!isNaN(parseFloat(e.value))&&!isNaN(parseFloat(e.value))&&parseFloat(e.value)===parseFloat(o)){w(e)}n.push(e);s.push(e);return e}if(typeof e=="function"){e=e(t)}if(Array.isArray(e)){e.forEach(function(e){var t;if((typeof e==="undefined"?"undefined":i(e))==="object"){if(e.options){t={label:e.label,group:true,element:false};s.push(t);e.options.forEach(function(e){a(e)})}else{a(e)}}else{t={label:r.listItemFormatter?r.listItemFormatter(e,e):e,value:e,element:false};if(t.value===o||!isNaN(parseFloat(t.value))&&!isNaN(parseFloat(t.value))&&parseFloat(t.value)===parseFloat(o)){w(t)}n.push(t);s.push(t)}})}else{for(var l in e){var u={label:r.listItemFormatter?r.listItemFormatter(l,e[l]):e[l],value:l,element:false};if(u.value===o||!isNaN(parseFloat(u.value))&&!isNaN(parseFloat(u.value))&&parseFloat(u.value)===parseFloat(o)){w(u)}n.push(u);s.push(u)}}h=n;p=s;y()}function y(){while(d.firstChild){d.removeChild(d.firstChild)}p.forEach(function(e){var t=e.element;if(!t){if(e.group){t=document.createElement("div");t.classList.add("tabulator-edit-select-list-group");t.tabIndex=0;t.innerHTML=e.label===""?"&nbsp;":e.label}else{t=document.createElement("div");t.classList.add("tabulator-edit-select-list-item");t.tabIndex=0;t.innerHTML=e.label===""?"&nbsp;":e.label;t.addEventListener("click",function(){w(e);E()});if(e===m){t.classList.add("active")}}t.addEventListener("mousedown",function(){g=false;setTimeout(function(){g=true},10)});e.element=t}d.appendChild(t)})}function w(e){if(m&&m.element){m.element.classList.remove("active")}m=e;c.value=e.label==="&nbsp;"?"":e.label;if(e.element){e.element.classList.add("active")}}function E(){R();if(u!==m.value){u=m.value;n(m.value)}else{s()}}function C(){R();s()}function x(){if(!d.parentNode){if(r.values===true){v(b(),u)}else{v(r.values||[],u)}var e=f.prototype.helpers.elOffset(l);d.style.minWidth=l.offsetWidth+"px";d.style.top=e.top+l.offsetHeight+"px";d.style.left=e.left+"px";document.body.appendChild(d)}}function R(){if(d.parentNode){d.parentNode.removeChild(d)}}c.setAttribute("type","text");c.style.padding="4px";c.style.width="100%";c.style.boxSizing="border-box";c.readOnly=true;c.value=typeof u!=="undefined"||u===null?u:"";if(r.values===true){v(b(),u)}else{v(r.values||[],u)}c.addEventListener("keydown",function(e){var t;switch(e.keyCode){case 38:e.stopImmediatePropagation();e.stopPropagation();e.preventDefault();t=h.indexOf(m);if(t>0){w(h[t-1])}break;case 40:e.stopImmediatePropagation();e.stopPropagation();e.preventDefault();t=h.indexOf(m);if(t<h.length-1){if(t==-1){w(h[0])}else{w(h[t+1])}}break;case 37:case 39:e.stopImmediatePropagation();e.stopPropagation();e.preventDefault();break;case 13:E();break;case 27:C();break}});c.addEventListener("blur",function(e){if(g){C()}});c.addEventListener("focus",function(e){x()});d=document.createElement("div");d.classList.add("tabulator-edit-select-list");o(function(){c.style.height="100%";c.focus()});return c},autocomplete:function e(t,o,i,n,s){var r=this,a=t.getElement(),l=t.getValue(),u=document.createElement("input"),c=document.createElement("div"),d=[],h=[],p=[],m={},g=true;function b(){var e={},o=t.getColumn()._getSelf(),i=r.table.getData();i.forEach(function(t){var i=o.getFieldValue(t);if(i!==null&&typeof i!=="undefined"&&i!==""){e[i]=true}});if(s.sortValuesList){if(s.sortValuesList=="asc"){e=Object.keys(e).sort()}else{e=Object.keys(e).sort().reverse()}}else{e=Object.keys(e)}return e}function v(e,t){var o=[];if(Array.isArray(e)){e.forEach(function(e){var i={title:s.listItemFormatter?s.listItemFormatter(e,e):e,value:e,element:false};if(i.value===t||!isNaN(parseFloat(i.value))&&!isNaN(parseFloat(i.value))&&parseFloat(i.value)===parseFloat(t)){E(i)}o.push(i)})}else{for(var i in e){var n={title:s.listItemFormatter?s.listItemFormatter(i,e[i]):e[i],value:i,element:false};if(n.value===t||!isNaN(parseFloat(n.value))&&!isNaN(parseFloat(n.value))&&parseFloat(n.value)===parseFloat(t)){E(n)}o.push(n)}}if(s.searchFunc){o.forEach(function(e){e.search={title:e.title,value:e.value}})}d=o}function y(e,t){var o=[],i=[],n=[];if(s.searchFunc){d.forEach(function(e){i.push(e.search)});n=s.searchFunc(e,i);n.forEach(function(e){var t=d.find(function(t){return t.search===e});if(t){o.push(t)}})}else{if(e===""){if(s.showListOnEmpty){d.forEach(function(e){o.push(e)})}}else{d.forEach(function(t){if(t.value!==null||typeof t.value!=="undefined"){if(String(t.value).toLowerCase().indexOf(String(e).toLowerCase())>-1||String(t.title).toLowerCase().indexOf(String(e).toLowerCase())>-1){o.push(t)}}})}}h=o;w(t)}function w(e){var t=false;while(c.firstChild){c.removeChild(c.firstChild)}h.forEach(function(o){var i=o.element;if(!i){i=document.createElement("div");i.classList.add("tabulator-edit-select-list-item");i.tabIndex=0;i.innerHTML=o.title;i.addEventListener("click",function(){E(o);C()});i.addEventListener("mousedown",function(){g=false;setTimeout(function(){g=true},10)});o.element=i;if(e&&o.value==l){u.value=o.title;o.element.classList.add("active");t=true}if(o===m){o.element.classList.add("active");t=true}}c.appendChild(i)});if(!t){E(false)}}function E(e,t){if(m&&m.element){m.element.classList.remove("active")}m=e;if(e&&e.element){e.element.classList.add("active")}}function C(){M();if(m){if(l!==m.value){l=m.value;u.value=m.title;i(m.value)}else{n()}}else{if(s.freetext){l=u.value;i(u.value)}else{if(s.allowEmpty&&u.value===""){l=u.value;i(u.value)}else{n()}}}}function x(){M();n()}function R(){if(!c.parentNode){while(c.firstChild){c.removeChild(c.firstChild)}if(s.values===true){p=b()}else{p=s.values||[]}v(p,l);var e=f.prototype.helpers.elOffset(a);c.style.minWidth=a.offsetWidth+"px";c.style.top=e.top+a.offsetHeight+"px";c.style.left=e.left+"px";document.body.appendChild(c)}}function M(){if(c.parentNode){c.parentNode.removeChild(c)}}u.setAttribute("type","search");u.style.padding="4px";u.style.width="100%";u.style.boxSizing="border-box";u.addEventListener("keydown",function(e){var t;switch(e.keyCode){case 38:e.stopImmediatePropagation();e.stopPropagation();e.preventDefault();t=h.indexOf(m);if(t>0){E(h[t-1])}else{E(false)}break;case 40:e.stopImmediatePropagation();e.stopPropagation();e.preventDefault();t=h.indexOf(m);if(t<h.length-1){if(t==-1){E(h[0])}else{E(h[t+1])}}break;case 37:case 39:e.stopImmediatePropagation();e.stopPropagation();e.preventDefault();break;case 13:C();break;case 27:x();break;case 36:case 35:e.stopImmediatePropagation();break}});u.addEventListener("keyup",function(e){switch(e.keyCode){case 38:case 37:case 39:case 40:case 13:case 27:break;default:y(u.value)}});u.addEventListener("search",function(e){y(u.value)});u.addEventListener("blur",function(e){if(g){C()}});u.addEventListener("focus",function(e){var t=typeof l!=="undefined"||l===null?l:"";R();u.value=t;y(t,true)});c=document.createElement("div");c.classList.add("tabulator-edit-select-list");o(function(){u.style.height="100%";u.focus()});return u},star:function e(t,o,i,n,s){var r=this,a=t.getElement(),l=t.getValue(),u=a.getElementsByTagName("svg").length||5,c=a.getElementsByTagName("svg")[0]?a.getElementsByTagName("svg")[0].getAttribute("width"):14,f=[],d=document.createElement("div"),e=document.createElementNS("http://www.w3.org/2000/svg","svg");function h(e){f.forEach(function(t,o){if(o<e){if(r.table.browser=="ie"){t.setAttribute("class","tabulator-star-active")}else{t.classList.replace("tabulator-star-inactive","tabulator-star-active")}t.innerHTML='<polygon fill="#488CE9" stroke="#014AAE" stroke-width="37.6152" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 "/>'}else{if(r.table.browser=="ie"){t.setAttribute("class","tabulator-star-inactive")}else{t.classList.replace("tabulator-star-active","tabulator-star-inactive")}t.innerHTML='<polygon fill="#010155" stroke="#686868" stroke-width="37.6152" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 "/>'}})}function p(t){var o=document.createElement("span");var n=e.cloneNode(true);f.push(n);o.addEventListener("mouseenter",function(e){e.stopPropagation();e.stopImmediatePropagation();h(t)});o.addEventListener("mousemove",function(e){e.stopPropagation();e.stopImmediatePropagation()});o.addEventListener("click",function(e){e.stopPropagation();e.stopImmediatePropagation();i(t)});o.appendChild(n);d.appendChild(o)}function m(e){l=e;h(e)}a.style.whiteSpace="nowrap";a.style.overflow="hidden";a.style.textOverflow="ellipsis";d.style.verticalAlign="middle";d.style.display="inline-block";d.style.padding="4px";e.setAttribute("width",c);e.setAttribute("height",c);e.setAttribute("viewBox","0 0 512 512");e.setAttribute("xml:space","preserve");e.style.padding="0 1px";for(var g=1;g<=u;g++){p(g)}l=Math.min(parseInt(l),u);h(l);d.addEventListener("mousemove",function(e){h(0)});d.addEventListener("click",function(e){i(0)});a.addEventListener("blur",function(e){n()});a.addEventListener("keydown",function(e){switch(e.keyCode){case 39:m(l+1);break;case 37:m(l-1);break;case 13:i(l);break;case 27:n();break}});return d},progress:function e(t,o,i,n,s){var r=t.getElement(),a=typeof s.max==="undefined"?r.getElementsByTagName("div")[0].getAttribute("max")||100:s.max,l=typeof s.min==="undefined"?r.getElementsByTagName("div")[0].getAttribute("min")||0:s.min,u=(a-l)/100,c=t.getValue()||0,f=document.createElement("div"),d=document.createElement("div"),h,p;function m(){var e=u*Math.round(d.offsetWidth/(r.clientWidth/100))+l;i(e);r.setAttribute("aria-valuenow",e);r.setAttribute("aria-label",c)}f.style.position="absolute";f.style.right="0";f.style.top="0";f.style.bottom="0";f.style.width="5px";f.classList.add("tabulator-progress-handle");d.style.display="inline-block";d.style.position="relative";d.style.height="100%";d.style.backgroundColor="#488CE9";d.style.maxWidth="100%";d.style.minWidth="0%";r.style.padding="4px 4px";c=Math.min(parseFloat(c),a);c=Math.max(parseFloat(c),l);c=Math.round((c-l)/u);d.style.width=c+"%";r.setAttribute("aria-valuemin",l);r.setAttribute("aria-valuemax",a);d.appendChild(f);f.addEventListener("mousedown",function(e){h=e.screenX;p=d.offsetWidth});f.addEventListener("mouseover",function(){f.style.cursor="ew-resize"});r.addEventListener("mousemove",function(e){if(h){d.style.width=p+e.screenX-h+"px"}});r.addEventListener("mouseup",function(e){if(h){e.stopPropagation();e.stopImmediatePropagation();h=false;p=false;m()}});r.addEventListener("keydown",function(e){switch(e.keyCode){case 39:d.style.width=d.clientWidth+r.clientWidth/100+"px";break;case 37:d.style.width=d.clientWidth-r.clientWidth/100+"px";break;case 13:m();break;case 27:n();break}});r.addEventListener("blur",function(){n()});return d},tickCross:function e(t,o,i,n,s){var r=t.getValue(),a=document.createElement("input"),l=s.tristate,u=typeof s.indeterminateValue==="undefined"?null:s.indeterminateValue,c=false;a.setAttribute("type","checkbox");a.style.marginTop="5px";a.style.boxSizing="border-box";a.value=r;if(l&&(typeof r==="undefined"||r===u||r==="")){c=true;a.indeterminate=true}if(this.table.browser!="firefox"){o(function(){a.focus()})}a.checked=r===true||r==="true"||r==="True"||r===1;function f(e){if(l){if(!e){if(a.checked&&!c){a.checked=false;a.indeterminate=true;c=true;return u}else{c=false;return a.checked}}else{if(c){return u}else{return a.checked}}}else{return a.checked}}a.addEventListener("change",function(e){i(f())});a.addEventListener("blur",function(e){i(f(true))});a.addEventListener("keydown",function(e){if(e.keyCode==13){i(f())}if(e.keyCode==27){n()}});return a}};f.prototype.registerModule("edit",E);var C=function e(t){this.table=t;this.filterList=[];this.headerFilters={};this.headerFilterElements=[];this.headerFilterColumns=[];this.changed=false};C.prototype.initializeColumn=function(e,t){var o=this,n=e.getField(),s;function r(t){var r=e.modules.filter.tagType=="input"&&e.modules.filter.attrType=="text"||e.modules.filter.tagType=="textarea"?"partial":"match",a="",l;if(typeof s==="undefined"||s!==t){s=t;if(!e.modules.filter.emptyFunc(t)){e.modules.filter.value=t;switch(i(e.definition.headerFilterFunc)){case"string":if(o.filters[e.definition.headerFilterFunc]){a=e.definition.headerFilterFunc;l=function i(n){var s=e.definition.headerFilterFuncParams||{};var r=e.getFieldValue(n);s=typeof s==="function"?s(t,r,n):s;return o.filters[e.definition.headerFilterFunc](t,r,n,s)}}else{console.warn("Header Filter Error - Matching filter function not found: ",e.definition.headerFilterFunc)}break;case"function":l=function o(i){var n=e.definition.headerFilterFuncParams||{};var s=e.getFieldValue(i);n=typeof n==="function"?n(t,s,i):n;return e.definition.headerFilterFunc(t,s,i,n)};a=l;break}if(!l){switch(r){case"partial":l=function o(i){var n=e.getFieldValue(i);if(typeof n!=="undefined"&&n!==null){return String(n).toLowerCase().indexOf(String(t).toLowerCase())>-1}else{return false}};a="like";break;default:l=function o(i){return e.getFieldValue(i)==t};a="="}}o.headerFilters[n]={value:t,func:l,type:a}}else{delete o.headerFilters[n]}o.changed=true;o.table.rowManager.filterRefresh()}}e.modules.filter={success:r,attrType:false,tagType:false,emptyFunc:false};this.generateHeaderFilterElement(e)};C.prototype.generateHeaderFilterElement=function(e,t){var o=this;var n=this,s=e.modules.filter.success,r=e.getField(),a,l,u,c,f,d,h;function p(){}if(e.modules.filter.headerElement&&e.modules.filter.headerElement.parentNode){var m=e.modules.filter.headerElement.parentNode;var g=n.headerFilterElements.indexOf(m);if(g>=0){n.headerFilterElements.splice(g,1)}var b=n.headerFilterColumns.indexOf(b);if(b>=0){n.headerFilterColumns.splice(b,1)}e.contentElement.removeChild(m)}if(r){e.modules.filter.emptyFunc=e.definition.headerFilterEmptyCheck||function(e){return!e&&e!=="0"};a=document.createElement("div");a.classList.add("tabulator-header-filter");switch(i(e.definition.headerFilter)){case"string":if(n.table.modules.edit.editors[e.definition.headerFilter]){l=n.table.modules.edit.editors[e.definition.headerFilter];if((e.definition.headerFilter==="tick"||e.definition.headerFilter==="tickCross")&&!e.definition.headerFilterEmptyCheck){e.modules.filter.emptyFunc=function(e){return e!==true&&e!==false}}}else{console.warn("Filter Error - Cannot build header filter, No such editor found: ",e.definition.editor)}break;case"function":l=e.definition.headerFilter;break;case"boolean":if(e.modules.edit&&e.modules.edit.editor){l=e.modules.edit.editor}else{if(e.definition.formatter&&n.table.modules.edit.editors[e.definition.formatter]){l=n.table.modules.edit.editors[e.definition.formatter];if((e.definition.formatter==="tick"||e.definition.formatter==="tickCross")&&!e.definition.headerFilterEmptyCheck){e.modules.filter.emptyFunc=function(e){return e!==true&&e!==false}}}else{l=n.table.modules.edit.editors["input"]}}break}if(l){c={getValue:function e(){return typeof t!=="undefined"?t:""},getField:function t(){return e.definition.field},getElement:function e(){return a},getColumn:function t(){return e.getComponent()},getRow:function e(){return{normalizeHeight:function e(){}}}};h=e.definition.headerFilterParams||{};h=typeof h==="function"?h.call(n.table):h;u=l.call(this.table.modules.edit,c,function(){},s,p,h);if(!u){console.warn("Filter Error - Cannot add filter to "+r+" column, editor returned a value of false");return}if(!(u instanceof Node)){console.warn("Filter Error - Cannot add filter to "+r+" column, editor should return an instance of Node, the editor returned:",u);return}if(r){n.table.modules.localize.bind("headerFilters|columns|"+e.definition.field,function(e){u.setAttribute("placeholder",typeof e!=="undefined"&&e?e:n.table.modules.localize.getText("headerFilters|default"))})}else{n.table.modules.localize.bind("headerFilters|default",function(e){u.setAttribute("placeholder",typeof n.column.definition.headerFilterPlaceholder!=="undefined"&&n.column.definition.headerFilterPlaceholder?n.column.definition.headerFilterPlaceholder:e)})}u.addEventListener("click",function(e){e.stopPropagation();u.focus()});u.addEventListener("focus",function(e){var t=o.table.columnManager.element.scrollLeft;if(t!==o.table.rowManager.element.scrollLeft){o.table.rowManager.scrollHorizontal(t);o.table.columnManager.scrollHorizontal(t)}});f=false;d=function e(t){if(f){clearTimeout(f)}f=setTimeout(function(){s(u.value)},300)};e.modules.filter.headerElement=u;e.modules.filter.attrType=u.hasAttribute("type")?u.getAttribute("type").toLowerCase():"";e.modules.filter.tagType=u.tagName.toLowerCase();if(e.definition.headerFilterLiveFilter!==false){if(!(e.definition.headerFilter==="autocomplete"||e.definition.headerFilter==="tickCross"||(e.definition.editor==="autocomplete"||e.definition.editor==="tickCross")&&e.definition.headerFilter===true)){u.addEventListener("keyup",d);u.addEventListener("search",d);if(e.modules.filter.attrType=="number"){u.addEventListener("change",function(e){s(u.value)})}if(e.modules.filter.attrType=="text"&&this.table.browser!=="ie"){u.setAttribute("type","search")}}if(e.modules.filter.tagType=="input"||e.modules.filter.tagType=="select"||e.modules.filter.tagType=="textarea"){u.addEventListener("mousedown",function(e){e.stopPropagation()})}}a.appendChild(u);e.contentElement.appendChild(a);n.headerFilterElements.push(u);n.headerFilterColumns.push(e)}}else{console.warn("Filter Error - Cannot add header filter, column has no field set:",e.definition.title)}};C.prototype.hideHeaderFilterElements=function(){this.headerFilterElements.forEach(function(e){e.style.display="none"})};C.prototype.showHeaderFilterElements=function(){this.headerFilterElements.forEach(function(e){e.style.display=""})};C.prototype.setHeaderFilterFocus=function(e){if(e.modules.filter&&e.modules.filter.headerElement){e.modules.filter.headerElement.focus()}else{console.warn("Column Filter Focus Error - No header filter set on column:",e.getField())}};C.prototype.setHeaderFilterValue=function(e,t){if(e){if(e.modules.filter&&e.modules.filter.headerElement){this.generateHeaderFilterElement(e,t);e.modules.filter.success(t)}else{console.warn("Column Filter Error - No header filter set on column:",e.getField())}}};C.prototype.reloadHeaderFilter=function(e){if(e){if(e.modules.filter&&e.modules.filter.headerElement){this.generateHeaderFilterElement(e,e.modules.filter.value)}else{console.warn("Column Filter Error - No header filter set on column:",e.getField())}}};C.prototype.hasChanged=function(){var e=this.changed;this.changed=false;return e};C.prototype.setFilter=function(e,t,o){var i=this;i.filterList=[];if(!Array.isArray(e)){e=[{field:e,type:t,value:o}]}i.addFilter(e)};C.prototype.addFilter=function(e,t,o){var i=this;if(!Array.isArray(e)){e=[{field:e,type:t,value:o}]}e.forEach(function(e){e=i.findFilter(e);if(e){i.filterList.push(e);i.changed=true}});if(this.table.options.persistentFilter&&this.table.modExists("persistence",true)){this.table.modules.persistence.save("filter")}};C.prototype.findFilter=function(e){var t=this,o;if(Array.isArray(e)){return this.findSubFilters(e)}var i=false;if(typeof e.field=="function"){i=function t(o){return e.field(o,e.type||{})}}else{if(t.filters[e.type]){o=t.table.columnManager.getColumnByField(e.field);if(o){i=function i(n){return t.filters[e.type](e.value,o.getFieldValue(n))}}else{i=function o(i){return t.filters[e.type](e.value,i[e.field])}}}else{console.warn("Filter Error - No such filter type found, ignoring: ",e.type)}}e.func=i;return e.func?e:false};C.prototype.findSubFilters=function(e){var t=this,o=[];e.forEach(function(e){e=t.findFilter(e);if(e){o.push(e)}});return o.length?o:false};C.prototype.getFilters=function(e,t){var o=this,i=[];if(e){i=o.getHeaderFilters()}o.filterList.forEach(function(e){i.push({field:e.field,type:e.type,value:e.value})});if(t){i.forEach(function(e){if(typeof e.type=="function"){e.type="function"}})}return i};C.prototype.getHeaderFilters=function(){var e=[];for(var t in this.headerFilters){e.push({field:t,type:this.headerFilters[t].type,value:this.headerFilters[t].value})}return e};C.prototype.removeFilter=function(e,t,o){var n=this;if(!Array.isArray(e)){e=[{field:e,type:t,value:o}]}e.forEach(function(e){var t=-1;if(i(e.field)=="object"){t=n.filterList.findIndex(function(t){return e===t})}else{t=n.filterList.findIndex(function(t){return e.field===t.field&&e.type===t.type&&e.value===t.value})}if(t>-1){n.filterList.splice(t,1);n.changed=true}else{console.warn("Filter Error - No matching filter type found, ignoring: ",e.type)}});if(this.table.options.persistentFilter&&this.table.modExists("persistence",true)){this.table.modules.persistence.save("filter")}};C.prototype.clearFilter=function(e){this.filterList=[];if(e){this.clearHeaderFilter()}this.changed=true;if(this.table.options.persistentFilter&&this.table.modExists("persistence",true)){this.table.modules.persistence.save("filter")}};C.prototype.clearHeaderFilter=function(){var e=this;this.headerFilters={};this.headerFilterColumns.forEach(function(t){t.modules.filter.value=null;e.reloadHeaderFilter(t)});this.changed=true};C.prototype.search=function(e,t,o,i){var n=this,s=[],r=[];if(!Array.isArray(t)){t=[{field:t,type:o,value:i}]}t.forEach(function(e){e=n.findFilter(e);if(e){r.push(e)}});this.table.rowManager.rows.forEach(function(t){var o=true;r.forEach(function(e){if(!n.filterRecurse(e,t.getData())){o=false}});if(o){s.push(e==="data"?t.getData("data"):t.getComponent())}});return s};C.prototype.filter=function(e,t){var o=this,i=[],n=[];if(o.table.options.dataFiltering){o.table.options.dataFiltering.call(o.table,o.getFilters())}if(!o.table.options.ajaxFiltering&&(o.filterList.length||Object.keys(o.headerFilters).length)){e.forEach(function(e){if(o.filterRow(e)){i.push(e)}})}else{i=e.slice(0)}if(o.table.options.dataFiltered){i.forEach(function(e){n.push(e.getComponent())});o.table.options.dataFiltered.call(o.table,o.getFilters(),n)}return i};C.prototype.filterRow=function(e,t){var o=this,i=true,n=e.getData();o.filterList.forEach(function(e){if(!o.filterRecurse(e,n)){i=false}});for(var s in o.headerFilters){if(!o.headerFilters[s].func(n)){i=false}}return i};C.prototype.filterRecurse=function(e,t){var o=this,i=false;if(Array.isArray(e)){e.forEach(function(e){if(o.filterRecurse(e,t)){i=true}})}else{i=e.func(t)}return i};C.prototype.filters={"=":function e(t,o,i,n){return o==t?true:false},"<":function e(t,o,i,n){return o<t?true:false},"<=":function e(t,o,i,n){return o<=t?true:false},">":function e(t,o,i,n){return o>t?true:false},">=":function e(t,o,i,n){return o>=t?true:false},"!=":function e(t,o,i,n){return o!=t?true:false},regex:function e(t,o,i,n){if(typeof t=="string"){t=new RegExp(t)}return t.test(o)},like:function e(t,o,i,n){if(t===null||typeof t==="undefined"){return o===t?true:false}else{if(typeof o!=="undefined"&&o!==null){return String(o).toLowerCase().indexOf(t.toLowerCase())>-1}else{return false}}},in:function e(t,o,i,n){if(Array.isArray(t)){return t.indexOf(o)>-1}else{console.warn("Filter Error - filter value is not an array:",t);return false}}};f.prototype.registerModule("filter",C);var x=function e(t){this.table=t};x.prototype.initializeColumn=function(e){var t=this,o={params:e.definition.formatterParams||{}};switch(i(e.definition.formatter)){case"string":if(e.definition.formatter==="tick"){e.definition.formatter="tickCross";if(typeof o.params.crossElement=="undefined"){o.params.crossElement=false}console.warn("DEPRECATION WANRING - the tick formatter has been depricated, please use the tickCross formatter with the crossElement param set to false")}if(t.formatters[e.definition.formatter]){o.formatter=t.formatters[e.definition.formatter]}else{console.warn("Formatter Error - No such formatter found: ",e.definition.formatter);o.formatter=t.formatters.plaintext}break;case"function":o.formatter=e.definition.formatter;break;default:o.formatter=t.formatters.plaintext;break}e.modules.format=o};x.prototype.cellRendered=function(e){if(e.column.modules.format.renderedCallback){e.column.modules.format.renderedCallback()}};x.prototype.formatValue=function(e){var t=e.getComponent(),o=typeof e.column.modules.format.params==="function"?e.column.modules.format.params(t):e.column.modules.format.params;function i(t){e.column.modules.format.renderedCallback=t}return e.column.modules.format.formatter.call(this,t,o,i)};x.prototype.sanitizeHTML=function(e){if(e){var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};return String(e).replace(/[&<>"'`=\/]/g,function(e){return t[e]})}else{return e}};x.prototype.emptyToSpace=function(e){return e===null||typeof e==="undefined"?"&nbsp":e};x.prototype.getFormatter=function(e){var e;switch(typeof e==="undefined"?"undefined":i(e)){case"string":if(this.formatters[e]){e=this.formatters[e]}else{console.warn("Formatter Error - No such formatter found: ",e);e=this.formatters.plaintext}break;case"function":e=e;break;default:e=this.formatters.plaintext;break}return e};x.prototype.formatters={plaintext:function e(t,o,i){return this.emptyToSpace(this.sanitizeHTML(t.getValue()))},html:function e(t,o,i){return t.getValue()},textarea:function e(t,o,i){t.getElement().style.whiteSpace="pre-wrap";return this.emptyToSpace(this.sanitizeHTML(t.getValue()))},money:function e(t,o,i){var n=parseFloat(t.getValue()),s,r,a,l;var u=o.decimal||".";var c=o.thousand||",";var f=o.symbol||"";var d=!!o.symbolAfter;var h=typeof o.precision!=="undefined"?o.precision:2;if(isNaN(n)){return this.emptyToSpace(this.sanitizeHTML(t.getValue()))}s=h!==false?n.toFixed(h):n;s=String(s).split(".");r=s[0];a=s.length>1?u+s[1]:"";l=/(\d+)(\d{3})/;while(l.test(r)){r=r.replace(l,"$1"+c+"$2")}return d?r+a+f:f+r+a},link:function e(t,o,n){var s=t.getValue(),r=o.urlPrefix||"",a=this.emptyToSpace(s),l=document.createElement("a"),u;if(o.labelField){u=t.getData();a=u[o.labelField]}if(o.label){switch(i(o.label)){case"string":a=o.label;break;case"function":a=o.label(t);break}}if(o.urlField){u=t.getData();s=u[o.urlField]}if(o.url){switch(i(o.url)){case"string":s=o.url;break;case"function":s=o.url(t);break}}l.setAttribute("href",r+s);if(o.target){l.setAttribute("target",o.target)}l.innerHTML=this.emptyToSpace(this.sanitizeHTML(a));return l},image:function e(t,o,n){var s=document.createElement("img");s.setAttribute("src",t.getValue());switch(i(o.height)){case"number":s.style.height=o.height+"px";break;case"string":s.style.height=o.height;break}switch(i(o.width)){case"number":s.style.width=o.width+"px";break;case"string":s.style.width=o.width;break}s.addEventListener("load",function(){t.getRow().normalizeHeight()});return s},tickCross:function e(t,o,i){var n=t.getValue(),s=t.getElement(),r=o.allowEmpty,a=o.allowTruthy,l=typeof o.tickElement!=="undefined"?o.tickElement:'<svg enable-background="new 0 0 24 24" height="14" width="14" viewBox="0 0 24 24" xml:space="preserve" ><path fill="#2DC214" clip-rule="evenodd" d="M21.652,3.211c-0.293-0.295-0.77-0.295-1.061,0L9.41,14.34  c-0.293,0.297-0.771,0.297-1.062,0L3.449,9.351C3.304,9.203,3.114,9.13,2.923,9.129C2.73,9.128,2.534,9.201,2.387,9.351  l-2.165,1.946C0.078,11.445,0,11.63,0,11.823c0,0.194,0.078,0.397,0.223,0.544l4.94,5.184c0.292,0.296,0.771,0.776,1.062,1.07  l2.124,2.141c0.292,0.293,0.769,0.293,1.062,0l14.366-14.34c0.293-0.294,0.293-0.777,0-1.071L21.652,3.211z" fill-rule="evenodd"/></svg>',u=typeof o.crossElement!=="undefined"?o.crossElement:'<svg enable-background="new 0 0 24 24" height="14" width="14"  viewBox="0 0 24 24" xml:space="preserve" ><path fill="#CE1515" d="M22.245,4.015c0.313,0.313,0.313,0.826,0,1.139l-6.276,6.27c-0.313,0.312-0.313,0.826,0,1.14l6.273,6.272  c0.313,0.313,0.313,0.826,0,1.14l-2.285,2.277c-0.314,0.312-0.828,0.312-1.142,0l-6.271-6.271c-0.313-0.313-0.828-0.313-1.141,0  l-6.276,6.267c-0.313,0.313-0.828,0.313-1.141,0l-2.282-2.28c-0.313-0.313-0.313-0.826,0-1.14l6.278-6.269  c0.313-0.312,0.313-0.826,0-1.14L1.709,5.147c-0.314-0.313-0.314-0.827,0-1.14l2.284-2.278C4.308,1.417,4.821,1.417,5.135,1.73  L11.405,8c0.314,0.314,0.828,0.314,1.141,0.001l6.276-6.267c0.312-0.312,0.826-0.312,1.141,0L22.245,4.015z"/></svg>';if(a&&n||n===true||n==="true"||n==="True"||n===1||n==="1"){s.setAttribute("aria-checked",true);return l||""}else{if(r&&(n==="null"||n===""||n===null||typeof n==="undefined")){s.setAttribute("aria-checked","mixed");return""}else{s.setAttribute("aria-checked",false);return u||""}}},datetime:function e(t,o,i){var n=o.inputFormat||"YYYY-MM-DD hh:mm:ss";var s=o.outputFormat||"DD/MM/YYYY hh:mm:ss";var r=typeof o.invalidPlaceholder!=="undefined"?o.invalidPlaceholder:"";var a=t.getValue();var l=moment(a,n);if(l.isValid()){return l.format(s)}else{if(r===true){return a}else if(typeof r==="function"){return r(a)}else{return r}}},datetimediff:function e(t,o,i){var n=o.inputFormat||"YYYY-MM-DD hh:mm:ss";var s=typeof o.invalidPlaceholder!=="undefined"?o.invalidPlaceholder:"";var r=typeof o.suffix!=="undefined"?o.suffix:false;var a=typeof o.unit!=="undefined"?o.unit:undefined;var l=typeof o.humanize!=="undefined"?o.humanize:false;var u=typeof o.date!=="undefined"?o.date:moment();var c=t.getValue();var f=moment(c,n);if(f.isValid()){if(l){return moment.duration(f.diff(u)).humanize(r)}else{return f.diff(u,a)+(r?" "+r:"")}}else{if(s===true){return c}else if(typeof s==="function"){return s(c)}else{return s}}},lookup:function e(t,o,i){var n=t.getValue();if(typeof o[n]==="undefined"){console.warn("Missing display value for "+n);return n}return o[n]},star:function e(t,o,i){var n=t.getValue(),s=t.getElement(),r=o&&o.stars?o.stars:5,a=document.createElement("span"),e=document.createElementNS("http://www.w3.org/2000/svg","svg"),l='<polygon fill="#FFEA00" stroke="#C1AB60" stroke-width="37.6152" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 "/>',u='<polygon fill="#D2D2D2" stroke="#686868" stroke-width="37.6152" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 "/>';a.style.verticalAlign="middle";e.setAttribute("width","14");e.setAttribute("height","14");e.setAttribute("viewBox","0 0 512 512");e.setAttribute("xml:space","preserve");e.style.padding="0 1px";n=parseInt(n)<r?parseInt(n):r;for(var c=1;c<=r;c++){var f=e.cloneNode(true);f.innerHTML=c<=n?l:u;a.appendChild(f)}s.style.whiteSpace="nowrap";s.style.overflow="hidden";s.style.textOverflow="ellipsis";s.setAttribute("aria-label",n);return a},traffic:function e(t,o,n){var s=this.sanitizeHTML(t.getValue())||0,r=document.createElement("span"),a=o&&o.max?o.max:100,l=o&&o.min?o.min:0,u=o&&typeof o.color!=="undefined"?o.color:["red","orange","green"],c="#666666",f,d;if(isNaN(s)||typeof t.getValue()==="undefined"){return}r.classList.add("tabulator-traffic-light");d=parseFloat(s)<=a?parseFloat(s):a;d=parseFloat(d)>=l?parseFloat(d):l;f=(a-l)/100;d=Math.round((d-l)/f);switch(typeof u==="undefined"?"undefined":i(u)){case"string":c=u;break;case"function":c=u(s);break;case"object":if(Array.isArray(u)){var h=100/u.length;var p=Math.floor(d/h);p=Math.min(p,u.length-1);p=Math.max(p,0);c=u[p];break}}r.style.backgroundColor=c;return r},progress:function e(t,o,n){var s=this.sanitizeHTML(t.getValue())||0,r=t.getElement(),a=o&&o.max?o.max:100,l=o&&o.min?o.min:0,u=o&&o.legendAlign?o.legendAlign:"center",c,f,d,h,p;f=parseFloat(s)<=a?parseFloat(s):a;f=parseFloat(f)>=l?parseFloat(f):l;c=(a-l)/100;f=Math.round((f-l)/c);switch(i(o.color)){case"string":d=o.color;break;case"function":d=o.color(s);break;case"object":if(Array.isArray(o.color)){var m=100/o.color.length;var g=Math.floor(f/m);g=Math.min(g,o.color.length-1);g=Math.max(g,0);d=o.color[g];break}default:d="#2DC214"}switch(i(o.legend)){case"string":h=o.legend;break;case"function":h=o.legend(s);break;case"boolean":h=s;break;default:h=false}switch(i(o.legendColor)){case"string":p=o.legendColor;break;case"function":p=o.legendColor(s);break;case"object":if(Array.isArray(o.legendColor)){var m=100/o.legendColor.length;var g=Math.floor(f/m);g=Math.min(g,o.legendColor.length-1);g=Math.max(g,0);p=o.legendColor[g]}break;default:p="#000"}r.style.minWidth="30px";r.style.position="relative";r.setAttribute("aria-label",f);return"<div style='position:realtive; height:100%;'  data-max='"+a+"' data-min='"+l+"'><div style='position:relative; height:100%; width:calc("+f+"%); background-color:"+d+"; display:inline-block;'></div></div>"+(h?"<div style='position:absolute; top:4px; left:0; text-align:"+u+"; width:100%; color:"+p+";'>"+h+"</div>":"")},color:function e(t,o,i){t.getElement().style.backgroundColor=this.sanitizeHTML(t.getValue());return""},buttonTick:function e(t,o,i){return'<svg enable-background="new 0 0 24 24" height="14" width="14" viewBox="0 0 24 24" xml:space="preserve" ><path fill="#2DC214" clip-rule="evenodd" d="M21.652,3.211c-0.293-0.295-0.77-0.295-1.061,0L9.41,14.34  c-0.293,0.297-0.771,0.297-1.062,0L3.449,9.351C3.304,9.203,3.114,9.13,2.923,9.129C2.73,9.128,2.534,9.201,2.387,9.351  l-2.165,1.946C0.078,11.445,0,11.63,0,11.823c0,0.194,0.078,0.397,0.223,0.544l4.94,5.184c0.292,0.296,0.771,0.776,1.062,1.07  l2.124,2.141c0.292,0.293,0.769,0.293,1.062,0l14.366-14.34c0.293-0.294,0.293-0.777,0-1.071L21.652,3.211z" fill-rule="evenodd"/></svg>'},buttonCross:function e(t,o,i){return'<svg enable-background="new 0 0 24 24" height="14" width="14" viewBox="0 0 24 24" xml:space="preserve" ><path fill="#CE1515" d="M22.245,4.015c0.313,0.313,0.313,0.826,0,1.139l-6.276,6.27c-0.313,0.312-0.313,0.826,0,1.14l6.273,6.272  c0.313,0.313,0.313,0.826,0,1.14l-2.285,2.277c-0.314,0.312-0.828,0.312-1.142,0l-6.271-6.271c-0.313-0.313-0.828-0.313-1.141,0  l-6.276,6.267c-0.313,0.313-0.828,0.313-1.141,0l-2.282-2.28c-0.313-0.313-0.313-0.826,0-1.14l6.278-6.269  c0.313-0.312,0.313-0.826,0-1.14L1.709,5.147c-0.314-0.313-0.314-0.827,0-1.14l2.284-2.278C4.308,1.417,4.821,1.417,5.135,1.73  L11.405,8c0.314,0.314,0.828,0.314,1.141,0.001l6.276-6.267c0.312-0.312,0.826-0.312,1.141,0L22.245,4.015z"/></svg>'},rownum:function e(t,o,i){return this.table.rowManager.activeRows.indexOf(t.getRow()._getSelf())+1},handle:function e(t,o,i){t.getElement().classList.add("tabulator-row-handle");return"<div class='tabulator-row-handle-box'><div class='tabulator-row-handle-bar'></div><div class='tabulator-row-handle-bar'></div><div class='tabulator-row-handle-bar'></div></div>"},responsiveCollapse:function e(t,o,i){var n=this,s=false,r=document.createElement("div");function a(e){var o=t.getRow().getElement().getElementsByClassName("tabulator-responsive-collapse")[0];s=e;if(s){r.classList.add("open");if(o){o.style.display=""}}else{r.classList.remove("open");if(o){o.style.display="none"}}}r.classList.add("tabulator-responsive-collapse-toggle");r.innerHTML="<span class='tabulator-responsive-collapse-toggle-open'>+</span><span class='tabulator-responsive-collapse-toggle-close'>-</span>";t.getElement().classList.add("tabulator-row-handle");if(n.table.options.responsiveLayoutCollapseStartOpen){s=true}r.addEventListener("click",function(e){e.stopImmediatePropagation();a(!s)});a(s);return r}};f.prototype.registerModule("format",x);var R=function e(t){this.table=t;this.leftColumns=[];this.rightColumns=[];this.leftMargin=0;this.rightMargin=0;this.rightPadding=0;this.initializationMode="left";this.active=false;this.scrollEndTimer=false};R.prototype.reset=function(){this.initializationMode="left";this.leftColumns=[];this.rightColumns=[];this.leftMargin=0;this.rightMargin=0;this.rightMargin=0;this.active=false;this.table.columnManager.headersElement.style.marginLeft=0;this.table.columnManager.element.style.paddingRight=0};R.prototype.initializeColumn=function(e){var t={margin:0,edge:false};if(e.definition.frozen){if(!e.parent.isGroup){if(!e.isGroup){t.position=this.initializationMode;if(this.initializationMode=="left"){this.leftColumns.push(e)}else{this.rightColumns.unshift(e)}this.active=true;e.modules.frozen=t}else{console.warn("Frozen Column Error - Column Groups cannot be frozen")}}else{console.warn("Frozen Column Error - Grouped columns cannot be frozen")}}else{this.initializationMode="right"}};R.prototype.scrollHorizontal=function(){var e=this;var t;if(this.active){clearTimeout(this.scrollEndTimer);this.scrollEndTimer=setTimeout(function(){e.layout()},100);t=this.table.rowManager.getVisibleRows();this.calcMargins();this.layoutColumnPosition();this.layoutCalcRows();t.forEach(function(t){if(t.type==="row"){e.layoutRow(t)}});this.table.rowManager.tableElement.style.marginRight=this.rightMargin}};R.prototype.calcMargins=function(){this.leftMargin=this._calcSpace(this.leftColumns,this.leftColumns.length)+"px";this.table.columnManager.headersElement.style.marginLeft=this.leftMargin;this.rightMargin=this._calcSpace(this.rightColumns,this.rightColumns.length)+"px";this.table.columnManager.element.style.paddingRight=this.rightMargin;this.rightPadding=this.table.rowManager.element.clientWidth+this.table.columnManager.scrollLeft};R.prototype.layoutCalcRows=function(){if(this.table.modExists("columnCalcs")){if(this.table.modules.columnCalcs.topInitialized&&this.table.modules.columnCalcs.topRow){this.layoutRow(this.table.modules.columnCalcs.topRow)}if(this.table.modules.columnCalcs.botInitialized&&this.table.modules.columnCalcs.botRow){this.layoutRow(this.table.modules.columnCalcs.botRow)}}};R.prototype.layoutColumnPosition=function(e){var t=this;this.leftColumns.forEach(function(o,i){o.modules.frozen.margin=t._calcSpace(t.leftColumns,i)+t.table.columnManager.scrollLeft+"px";if(i==t.leftColumns.length-1){o.modules.frozen.edge=true}else{o.modules.frozen.edge=false}t.layoutElement(o.getElement(),o);if(e){o.cells.forEach(function(e){t.layoutElement(e.getElement(),o)})}});this.rightColumns.forEach(function(o,i){o.modules.frozen.margin=t.rightPadding-t._calcSpace(t.rightColumns,i+1)+"px";if(i==t.rightColumns.length-1){o.modules.frozen.edge=true}else{o.modules.frozen.edge=false}t.layoutElement(o.getElement(),o);if(e){o.cells.forEach(function(e){t.layoutElement(e.getElement(),o)})}})};R.prototype.layout=function(){var e=this;if(e.active){this.calcMargins();e.table.rowManager.getDisplayRows().forEach(function(t){if(t.type==="row"){e.layoutRow(t)}});this.layoutCalcRows();this.layoutColumnPosition(true);this.table.rowManager.tableElement.style.marginRight=this.rightMargin}};R.prototype.layoutRow=function(e){var t=this;var o=e.getElement();o.style.paddingLeft=this.leftMargin;this.leftColumns.forEach(function(o){var i=e.getCell(o);if(i){t.layoutElement(i.getElement(),o)}});this.rightColumns.forEach(function(o){var i=e.getCell(o);if(i){t.layoutElement(i.getElement(),o)}})};R.prototype.layoutElement=function(e,t){if(t.modules.frozen){e.style.position="absolute";e.style.left=t.modules.frozen.margin;e.classList.add("tabulator-frozen");if(t.modules.frozen.edge){e.classList.add("tabulator-frozen-"+t.modules.frozen.position)}}};R.prototype._calcSpace=function(e,t){var o=0;for(var i=0;i<t;i++){if(e[i].visible){o+=e[i].getWidth()}}return o};f.prototype.registerModule("frozenColumns",R);var M=function e(t){this.table=t;this.topElement=document.createElement("div");this.rows=[];this.displayIndex=0};M.prototype.initialize=function(){this.rows=[];this.topElement.classList.add("tabulator-frozen-rows-holder");this.table.columnManager.getElement().insertBefore(this.topElement,this.table.columnManager.headersElement.nextSibling)};M.prototype.setDisplayIndex=function(e){this.displayIndex=e};M.prototype.getDisplayIndex=function(){return this.displayIndex};M.prototype.isFrozen=function(){return!!this.rows.length};M.prototype.getRows=function(e){var t=e.slice(0);this.rows.forEach(function(e){var o=t.indexOf(e);if(o>-1){t.splice(o,1)}});return t};M.prototype.freezeRow=function(e){if(!e.modules.frozen){e.modules.frozen=true;this.topElement.appendChild(e.getElement());e.initialize();e.normalizeHeight();this.table.rowManager.adjustTableSize();this.rows.push(e);this.table.rowManager.refreshActiveData("display");this.styleRows()}else{console.warn("Freeze Error - Row is already frozen")}};M.prototype.unfreezeRow=function(e){var t=this.rows.indexOf(e);if(e.modules.frozen){e.modules.frozen=false;var o=e.getElement();o.parentNode.removeChild(o);this.table.rowManager.adjustTableSize();this.rows.splice(t,1);this.table.rowManager.refreshActiveData("display");if(this.rows.length){this.styleRows()}}else{console.warn("Freeze Error - Row is already unfrozen")}};M.prototype.styleRows=function(e){var t=this;this.rows.forEach(function(e,o){t.table.rowManager.styleRow(e,o)})};f.prototype.registerModule("frozenRows",M);var D=function e(t){this._group=t;this.type="GroupComponent"};D.prototype.getKey=function(){return this._group.key};D.prototype.getElement=function(){return this._group.element};D.prototype.getRows=function(){return this._group.getRows(true)};D.prototype.getSubGroups=function(){return this._group.getSubGroups(true)};D.prototype.getParentGroup=function(){return this._group.parent?this._group.parent.getComponent():false};D.prototype.getVisibility=function(){return this._group.visible};D.prototype.show=function(){this._group.show()};D.prototype.hide=function(){this._group.hide()};D.prototype.toggle=function(){this._group.toggleVisibility()};D.prototype._getSelf=function(){return this._group};D.prototype.getTable=function(){return this._group.groupManager.table};var L=function e(t,o,i,n,s,r,a){this.groupManager=t;this.parent=o;this.key=n;this.level=i;this.field=s;this.hasSubGroups=i<t.groupIDLookups.length-1;this.addRow=this.hasSubGroups?this._addRowToGroup:this._addRow;this.type="group";this.old=a;this.rows=[];this.groups=[];this.groupList=[];this.generator=r;this.elementContents=false;this.height=0;this.outerHeight=0;this.initialized=false;this.calcs={};this.initialized=false;this.modules={};this.arrowElement=false;this.visible=a?a.visible:typeof t.startOpen[i]!=="undefined"?t.startOpen[i]:t.startOpen[0];this.createElements();this.addBindings();this.createValueGroups()};L.prototype.wipe=function(){if(this.groupList.length){this.groupList.forEach(function(e){e.wipe()})}else{this.element=false;this.arrowElement=false;this.elementContents=false}};L.prototype.createElements=function(){this.element=document.createElement("div");this.element.classList.add("tabulator-row");this.element.classList.add("tabulator-group");this.element.classList.add("tabulator-group-level-"+this.level);this.element.setAttribute("role","rowgroup");this.arrowElement=document.createElement("div");this.arrowElement.classList.add("tabulator-arrow");if(this.groupManager.table.options.movableRows!==false&&this.groupManager.table.modExists("moveRow")){this.groupManager.table.modules.moveRow.initializeGroupHeader(this)}};L.prototype.createValueGroups=function(){var e=this;var t=this.level+1;if(this.groupManager.allowedValues&&this.groupManager.allowedValues[t]){this.groupManager.allowedValues[t].forEach(function(o){e._createGroup(o,t)})}};L.prototype.addBindings=function(){var e=this,t,o,i,n;if(e.groupManager.table.options.groupClick){e.element.addEventListener("click",function(t){e.groupManager.table.options.groupClick(t,e.getComponent())})}if(e.groupManager.table.options.groupDblClick){e.element.addEventListener("dblclick",function(t){e.groupManager.table.options.groupDblClick(t,e.getComponent())})}if(e.groupManager.table.options.groupContext){e.element.addEventListener("contextmenu",function(t){e.groupManager.table.options.groupContext(t,e.getComponent())})}if(e.groupManager.table.options.groupTap){i=false;e.element.addEventListener("touchstart",function(e){i=true});e.element.addEventListener("touchend",function(t){if(i){e.groupManager.table.options.groupTap(t,e.getComponent())}i=false})}if(e.groupManager.table.options.groupDblTap){t=null;e.element.addEventListener("touchend",function(o){if(t){clearTimeout(t);t=null;e.groupManager.table.options.groupDblTap(o,e.getComponent())}else{t=setTimeout(function(){clearTimeout(t);t=null},300)}})}if(e.groupManager.table.options.groupTapHold){o=null;e.element.addEventListener("touchstart",function(t){clearTimeout(o);o=setTimeout(function(){clearTimeout(o);o=null;i=false;e.groupManager.table.options.groupTapHold(t,e.getComponent())},1e3)});e.element.addEventListener("touchend",function(e){clearTimeout(o);o=null})}if(e.groupManager.table.options.groupToggleElement){n=e.groupManager.table.options.groupToggleElement=="arrow"?e.arrowElement:e.element;n.addEventListener("click",function(t){t.stopPropagation();t.stopImmediatePropagation();e.toggleVisibility()})}};L.prototype._createGroup=function(e,t){var o=t+"_"+e;var i=new L(this.groupManager,this,t,e,this.groupManager.groupIDLookups[t].field,this.groupManager.headerGenerator[t]||this.groupManager.headerGenerator[0],this.old?this.old.groups[o]:false);this.groups[o]=i;this.groupList.push(i)};L.prototype._addRowToGroup=function(e){var t=this.level+1;if(this.hasSubGroups){var o=this.groupManager.groupIDLookups[t].func(e.getData()),i=t+"_"+o;if(this.groupManager.allowedValues&&this.groupManager.allowedValues[t]){if(this.groups[i]){this.groups[i].addRow(e)}}else{if(!this.groups[i]){this._createGroup(o,t)}this.groups[i].addRow(e)}}};L.prototype._addRow=function(e){this.rows.push(e);e.modules.group=this};L.prototype.insertRow=function(e,t,o){var i=this.conformRowData({});e.updateData(i);var n=this.rows.indexOf(t);if(n>-1){if(o){this.rows.splice(n+1,0,e)}else{this.rows.splice(n,0,e)}}else{if(o){this.rows.push(e)}else{this.rows.unshift(e)}}e.modules.group=this;this.generateGroupHeaderContents();if(this.groupManager.table.modExists("columnCalcs")&&this.groupManager.table.options.columnCalcs!="table"){this.groupManager.table.modules.columnCalcs.recalcGroup(this)}this.groupManager.updateGroupRows(true)};L.prototype.scrollHeader=function(e){this.arrowElement.style.marginLeft=e;this.groupList.forEach(function(t){t.scrollHeader(e)})};L.prototype.getRowIndex=function(e){};L.prototype.conformRowData=function(e){if(this.field){e[this.field]=this.key}else{console.warn("Data Conforming Error - Cannot conform row data to match new group as groupBy is a function")}if(this.parent){e=this.parent.conformRowData(e)}return e};L.prototype.removeRow=function(e){var t=this.rows.indexOf(e);var o=e.getElement();if(t>-1){this.rows.splice(t,1)}if(!this.groupManager.table.options.groupValues&&!this.rows.length){if(this.parent){this.parent.removeGroup(this)}else{this.groupManager.removeGroup(this)}this.groupManager.updateGroupRows(true)}else{if(o.parentNode){o.parentNode.removeChild(o)}this.generateGroupHeaderContents();if(this.groupManager.table.modExists("columnCalcs")&&this.groupManager.table.options.columnCalcs!="table"){this.groupManager.table.modules.columnCalcs.recalcGroup(this)}}};L.prototype.removeGroup=function(e){var t=e.level+"_"+e.key,o;if(this.groups[t]){delete this.groups[t];o=this.groupList.indexOf(e);if(o>-1){this.groupList.splice(o,1)}if(!this.groupList.length){if(this.parent){this.parent.removeGroup(this)}else{this.groupManager.removeGroup(this)}}}};L.prototype.getHeadersAndRows=function(e){var t=[];t.push(this);this._visSet();if(this.visible){if(this.groupList.length){this.groupList.forEach(function(o){t=t.concat(o.getHeadersAndRows(e))})}else{if(!e&&this.groupManager.table.options.columnCalcs!="table"&&this.groupManager.table.modExists("columnCalcs")&&this.groupManager.table.modules.columnCalcs.hasTopCalcs()){if(this.calcs.top){this.calcs.top.detachElement()}this.calcs.top=this.groupManager.table.modules.columnCalcs.generateTopRow(this.rows);t.push(this.calcs.top)}t=t.concat(this.rows);if(!e&&this.groupManager.table.options.columnCalcs!="table"&&this.groupManager.table.modExists("columnCalcs")&&this.groupManager.table.modules.columnCalcs.hasBottomCalcs()){if(this.calcs.bottom){this.calcs.bottom.detachElement()}this.calcs.bottom=this.groupManager.table.modules.columnCalcs.generateBottomRow(this.rows);t.push(this.calcs.bottom)}}}else{if(!this.groupList.length&&this.groupManager.table.options.columnCalcs!="table"&&this.groupManager.table.options.groupClosedShowCalcs){if(this.groupManager.table.modExists("columnCalcs")){if(!e&&this.groupManager.table.modules.columnCalcs.hasTopCalcs()){if(this.calcs.top){this.calcs.top.detachElement()}this.calcs.top=this.groupManager.table.modules.columnCalcs.generateTopRow(this.rows);t.push(this.calcs.top)}if(!e&&this.groupManager.table.modules.columnCalcs.hasBottomCalcs()){if(this.calcs.bottom){this.calcs.bottom.detachElement()}this.calcs.bottom=this.groupManager.table.modules.columnCalcs.generateBottomRow(this.rows);t.push(this.calcs.bottom)}}}}return t};L.prototype.getData=function(e,t){var o=[];this._visSet();if(!e||e&&this.visible){this.rows.forEach(function(e){o.push(e.getData(t||"data"))})}return o};L.prototype.getRowCount=function(){var e=0;if(this.groupList.length){this.groupList.forEach(function(t){e+=t.getRowCount()})}else{e=this.rows.length}return e};L.prototype.toggleVisibility=function(){if(this.visible){this.hide()}else{this.show()}};L.prototype.hide=function(){this.visible=false;if(this.groupManager.table.rowManager.getRenderMode()=="classic"&&!this.groupManager.table.options.pagination){this.element.classList.remove("tabulator-group-visible");if(this.groupList.length){this.groupList.forEach(function(e){var t=e.getHeadersAndRows();t.forEach(function(e){e.detachElement()})})}else{this.rows.forEach(function(e){var t=e.getElement();t.parentNode.removeChild(t)})}this.groupManager.table.rowManager.setDisplayRows(this.groupManager.updateGroupRows(),this.groupManager.getDisplayIndex());this.groupManager.table.rowManager.checkClassicModeGroupHeaderWidth()}else{this.groupManager.updateGroupRows(true)}this.groupManager.table.options.groupVisibilityChanged.call(this.table,this.getComponent(),false)};L.prototype.show=function(){var e=this;e.visible=true;if(this.groupManager.table.rowManager.getRenderMode()=="classic"&&!this.groupManager.table.options.pagination){this.element.classList.add("tabulator-group-visible");var t=e.getElement();if(this.groupList.length){this.groupList.forEach(function(e){var o=e.getHeadersAndRows();o.forEach(function(e){var o=e.getElement();t.parentNode.insertBefore(o,t.nextSibling);e.initialize();t=o})})}else{e.rows.forEach(function(e){var o=e.getElement();t.parentNode.insertBefore(o,t.nextSibling);e.initialize();t=o})}this.groupManager.table.rowManager.setDisplayRows(this.groupManager.updateGroupRows(),this.groupManager.getDisplayIndex());this.groupManager.table.rowManager.checkClassicModeGroupHeaderWidth()}else{this.groupManager.updateGroupRows(true)}this.groupManager.table.options.groupVisibilityChanged.call(this.table,this.getComponent(),true)};L.prototype._visSet=function(){var e=[];if(typeof this.visible=="function"){this.rows.forEach(function(t){e.push(t.getData())});this.visible=this.visible(this.key,this.getRowCount(),e,this.getComponent())}};L.prototype.getRowGroup=function(e){var t=false;if(this.groupList.length){this.groupList.forEach(function(o){var i=o.getRowGroup(e);if(i){t=i}})}else{if(this.rows.find(function(t){return t===e})){t=this}}return t};L.prototype.getSubGroups=function(e){var t=[];this.groupList.forEach(function(o){t.push(e?o.getComponent():o)});return t};L.prototype.getRows=function(e){var t=[];this.rows.forEach(function(o){t.push(e?o.getComponent():o)});return t};L.prototype.generateGroupHeaderContents=function(){var e=[];this.rows.forEach(function(t){e.push(t.getData())});this.elementContents=this.generator(this.key,this.getRowCount(),e,this.getComponent());while(this.element.firstChild){this.element.removeChild(this.element.firstChild)}if(typeof this.elementContents==="string"){this.element.innerHTML=this.elementContents}else{this.element.appendChild(this.elementContents)}this.element.insertBefore(this.arrowElement,this.element.firstChild)};L.prototype.getElement=function(){this.addBindingsd=false;this._visSet();if(this.visible){this.element.classList.add("tabulator-group-visible")}else{this.element.classList.remove("tabulator-group-visible")}for(var e=0;e<this.element.childNodes.length;++e){this.element.childNodes[e].parentNode.removeChild(this.element.childNodes[e])}this.generateGroupHeaderContents();return this.element};L.prototype.detachElement=function(){if(this.element&&this.element.parentNode){this.element.parentNode.removeChild(this.element)}};L.prototype.normalizeHeight=function(){this.setHeight(this.element.clientHeight)};L.prototype.initialize=function(e){if(!this.initialized||e){this.normalizeHeight();this.initialized=true}};L.prototype.reinitialize=function(){this.initialized=false;this.height=0;if(f.prototype.helpers.elVisible(this.element)){this.initialize(true)}};L.prototype.setHeight=function(e){if(this.height!=e){this.height=e;this.outerHeight=this.element.offsetHeight}};L.prototype.getHeight=function(){return this.outerHeight};L.prototype.getGroup=function(){return this};L.prototype.reinitializeHeight=function(){};L.prototype.calcHeight=function(){};L.prototype.setCellHeight=function(){};L.prototype.clearCellHeight=function(){};L.prototype.getComponent=function(){return new D(this)};var T=function e(t){this.table=t;this.groupIDLookups=false;this.startOpen=[function(){return false}];this.headerGenerator=[function(){return""}];this.groupList=[];this.allowedValues=false;this.groups={};this.displayIndex=0};T.prototype.initialize=function(){var e=this,t=e.table.options.groupBy,o=e.table.options.groupStartOpen,i=e.table.options.groupHeader;this.allowedValues=e.table.options.groupValues;e.headerGenerator=[function(){return""}];this.startOpen=[function(){return false}];e.table.modules.localize.bind("groups|item",function(t,o){e.headerGenerator[0]=function(e,i,n){return(typeof e==="undefined"?"":e)+"<span>("+i+" "+(i===1?t:o.groups.items)+")</span>"}});this.groupIDLookups=[];if(Array.isArray(t)||t){if(this.table.modExists("columnCalcs")&&this.table.options.columnCalcs!="table"&&this.table.options.columnCalcs!="both"){this.table.modules.columnCalcs.removeCalcs()}}else{if(this.table.modExists("columnCalcs")&&this.table.options.columnCalcs!="group"){var n=this.table.columnManager.getRealColumns();n.forEach(function(t){if(t.definition.topCalc){e.table.modules.columnCalcs.initializeTopRow()}if(t.definition.bottomCalc){e.table.modules.columnCalcs.initializeBottomRow()}})}}if(!Array.isArray(t)){t=[t]}t.forEach(function(t,o){var i,n;if(typeof t=="function"){i=t}else{n=e.table.columnManager.getColumnByField(t);if(n){i=function e(t){return n.getFieldValue(t)}}else{i=function e(o){return o[t]}}}e.groupIDLookups.push({field:typeof t==="function"?false:t,func:i,values:e.allowedValues?e.allowedValues[o]:false})});if(o){if(!Array.isArray(o)){o=[o]}o.forEach(function(e){});e.startOpen=o}if(i){e.headerGenerator=Array.isArray(i)?i:[i]}this.initialized=true};T.prototype.setDisplayIndex=function(e){this.displayIndex=e};T.prototype.getDisplayIndex=function(){return this.displayIndex};T.prototype.getRows=function(e){if(this.groupIDLookups.length){this.table.options.dataGrouping.call(this.table);this.generateGroups(e);if(this.table.options.dataGrouped){this.table.options.dataGrouped.call(this.table,this.getGroups(true))}return this.updateGroupRows()}else{return e.slice(0)}};T.prototype.getGroups=function(e){var t=[];this.groupList.forEach(function(o){t.push(e?o.getComponent():o)});return t};T.prototype.wipe=function(){this.groupList.forEach(function(e){e.wipe()})};T.prototype.pullGroupListData=function(e){var t=this;var o=[];e.forEach(function(e){var i={};i.level=0;i.rowCount=0;i.headerContent="";var n=[];if(e.hasSubGroups){n=t.pullGroupListData(e.groupList);i.level=e.level;i.rowCount=n.length-e.groupList.length;i.headerContent=e.generator(e.key,i.rowCount,e.rows,e);o.push(i);o=o.concat(n)}else{i.level=e.level;i.headerContent=e.generator(e.key,e.rows.length,e.rows,e);i.rowCount=e.getRows().length;o.push(i);e.getRows().forEach(function(e){o.push(e.getData("data"))})}});return o};T.prototype.getGroupedData=function(){return this.pullGroupListData(this.groupList)};T.prototype.getRowGroup=function(e){var t=false;this.groupList.forEach(function(o){var i=o.getRowGroup(e);if(i){t=i}});return t};T.prototype.countGroups=function(){return this.groupList.length};T.prototype.generateGroups=function(e){var t=this,o=t.groups;t.groups={};t.groupList=[];if(this.allowedValues&&this.allowedValues[0]){this.allowedValues[0].forEach(function(e){t.createGroup(e,0,o)});e.forEach(function(e){t.assignRowToExistingGroup(e,o)})}else{e.forEach(function(e){t.assignRowToGroup(e,o)})}};T.prototype.createGroup=function(e,t,o){var i=t+"_"+e,n;o=o||[];n=new L(this,false,t,e,this.groupIDLookups[0].field,this.headerGenerator[0],o[i]);this.groups[i]=n;this.groupList.push(n)};T.prototype.assignRowToGroup=function(e,t){var o=this.groupIDLookups[0].func(e.getData()),i="0_"+o;if(!this.groups[i]){this.createGroup(o,0,t)}this.groups[i].addRow(e)};T.prototype.assignRowToExistingGroup=function(e,t){var o=this.groupIDLookups[0].func(e.getData()),i="0_"+o;if(this.groups[i]){this.groups[i].addRow(e)}};T.prototype.assignRowToGroup=function(e,t){var o=this.groupIDLookups[0].func(e.getData()),i=!this.groups["0_"+o];if(i){this.createGroup(o,0,t)}this.groups["0_"+o].addRow(e);return!i};T.prototype.updateGroupRows=function(e){var t=this,o=[];t.groupList.forEach(function(e){o=o.concat(e.getHeadersAndRows())});if(e){var i=t.table.rowManager.setDisplayRows(o,this.getDisplayIndex());if(i!==true){this.setDisplayIndex(i)}t.table.rowManager.refreshActiveData("group",true,true)}return o};T.prototype.scrollHeaders=function(e){e=e+"px";this.groupList.forEach(function(t){t.scrollHeader(e)})};T.prototype.removeGroup=function(e){var t=e.level+"_"+e.key,o;if(this.groups[t]){delete this.groups[t];o=this.groupList.indexOf(e);if(o>-1){this.groupList.splice(o,1)}}};f.prototype.registerModule("groupRows",T);var k=function e(t){this.table=t;this.history=[];this.index=-1};k.prototype.clear=function(){this.history=[];this.index=-1};k.prototype.action=function(e,t,o){this.history=this.history.slice(0,this.index+1);this.history.push({type:e,component:t,data:o});this.index++};k.prototype.getHistoryUndoSize=function(){return this.index+1};k.prototype.getHistoryRedoSize=function(){return this.history.length-(this.index+1)};k.prototype.undo=function(){if(this.index>-1){var e=this.history[this.index];this.undoers[e.type].call(this,e);this.index--;this.table.options.historyUndo.call(this.table,e.type,e.component.getComponent(),e.data);return true}else{console.warn("History Undo Error - No more history to undo");return false}};k.prototype.redo=function(){if(this.history.length-1>this.index){this.index++;var e=this.history[this.index];this.redoers[e.type].call(this,e);this.table.options.historyRedo.call(this.table,e.type,e.component.getComponent(),e.data);return true}else{console.warn("History Redo Error - No more history to redo");return false}};k.prototype.undoers={cellEdit:function e(t){t.component.setValueProcessData(t.data.oldValue)},rowAdd:function e(t){t.component.deleteActual()},rowDelete:function e(t){var o=this.table.rowManager.addRowActual(t.data.data,t.data.pos,t.data.index);this._rebindRow(t.component,o)},rowMove:function e(t){this.table.rowManager.moveRowActual(t.component,this.table.rowManager.rows[t.data.pos],false);this.table.rowManager.redraw()}};k.prototype.redoers={cellEdit:function e(t){t.component.setValueProcessData(t.data.newValue)},rowAdd:function e(t){var o=this.table.rowManager.addRowActual(t.data.data,t.data.pos,t.data.index);this._rebindRow(t.component,o)},rowDelete:function e(t){t.component.deleteActual()},rowMove:function e(t){this.table.rowManager.moveRowActual(t.component,this.table.rowManager.rows[t.data.pos],false);this.table.rowManager.redraw()}};k.prototype._rebindRow=function(e,t){this.history.forEach(function(o){if(o.component instanceof a){if(o.component===e){o.component=t}}else if(o.component instanceof u){if(o.component.row===e){var i=o.component.column.getField();if(i){o.component=t.getCell(i)}}}})};f.prototype.registerModule("history",k);var S=function e(t){this.table=t;this.fieldIndex=[];this.hasIndex=false};S.prototype.parseTable=function(){var e=this,t=e.table.element,o=e.table.options,n=o.columns,s=t.getElementsByTagName("th"),r=t.getElementsByTagName("tbody")[0],a=[];e.hasIndex=false;e.table.options.htmlImporting.call(this.table);r=r?r.getElementsByTagName("tr"):[];e._extractOptions(t,o);if(s.length){e._extractHeaders(s,r)}else{e._generateBlankHeaders(s,r)}for(var l=0;l<r.length;l++){var u=r[l],c=u.getElementsByTagName("td"),f={};if(!e.hasIndex){f[o.index]=l}for(var d=0;d<c.length;d++){var h=c[d];if(typeof this.fieldIndex[d]!=="undefined"){f[this.fieldIndex[d]]=h.innerHTML}}a.push(f)}var p=document.createElement("div");var m=t.attributes;for(var d in m){if(i(m[d])=="object"){p.setAttribute(m[d].name,m[d].value)}}t.parentNode.replaceChild(p,t);o.data=a;e.table.options.htmlImported.call(this.table);this.table.element=p};S.prototype._extractOptions=function(e,t,o){var n=e.attributes;var s=o?Object.assign([],o):Object.keys(t);var r={};s.forEach(function(e){r[e.toLowerCase()]=e});for(var a in n){var l=n[a];var u;if(l&&(typeof l==="undefined"?"undefined":i(l))=="object"&&l.name&&l.name.indexOf("tabulator-")===0){u=l.name.replace("tabulator-","");if(typeof r[u]!=="undefined"){t[r[u]]=this._attribValue(l.value)}}}};S.prototype._attribValue=function(e){if(e==="true"){return true}if(e==="false"){return false}return e};S.prototype._findCol=function(e){var t=this.table.options.columns.find(function(t){return t.title===e});return t||false};S.prototype._extractHeaders=function(e,t){for(var o=0;o<e.length;o++){var s=e[o],r=false,a=this._findCol(s.textContent),l,u;if(a){r=true}else{a={title:s.textContent.trim()}}if(!a.field){a.field=s.textContent.trim().toLowerCase().replace(" ","_")}l=s.getAttribute("width");if(l&&!a.width){a.width=l}u=s.attributes;this._extractOptions(s,a,n.prototype.defaultOptionList);for(var c in u){var f=u[c],d;if(f&&(typeof f==="undefined"?"undefined":i(f))=="object"&&f.name&&f.name.indexOf("tabulator-")===0){d=f.name.replace("tabulator-","");a[d]=this._attribValue(f.value)}}this.fieldIndex[o]=a.field;if(a.field==this.table.options.index){this.hasIndex=true}if(!r){this.table.options.columns.push(a)}}};S.prototype._generateBlankHeaders=function(e,t){for(var o=0;o<e.length;o++){var i=e[o],n={title:"",field:"col"+o};this.fieldIndex[o]=n.field;var s=i.getAttribute("width");if(s){n.width=s}this.table.options.columns.push(n)}};f.prototype.registerModule("htmlTableImport",S);var z=function e(t){this.table=t;this.watchKeys=null;this.pressedKeys=null;this.keyupBinding=false;this.keydownBinding=false};z.prototype.initialize=function(){var e=this.table.options.keybindings,t={};this.watchKeys={};this.pressedKeys=[];if(e!==false){for(var o in this.bindings){t[o]=this.bindings[o]}if(Object.keys(e).length){for(var i in e){t[i]=e[i]}}this.mapBindings(t);this.bindEvents()}};z.prototype.mapBindings=function(e){var t=this;var o=this;var n=function n(s){if(t.actions[s]){if(e[s]){if(i(e[s])!=="object"){e[s]=[e[s]]}e[s].forEach(function(e){o.mapBinding(s,e)})}}else{console.warn("Key Binding Error - no such action:",s)}};for(var s in e){n(s)}};z.prototype.mapBinding=function(e,t){var o=this;var i={action:this.actions[e],keys:[],ctrl:false,shift:false};var n=t.toString().toLowerCase().split(" ").join("").split("+");n.forEach(function(e){switch(e){case"ctrl":i.ctrl=true;break;case"shift":i.shift=true;break;default:e=parseInt(e);i.keys.push(e);if(!o.watchKeys[e]){o.watchKeys[e]=[]}o.watchKeys[e].push(i)}})};z.prototype.bindEvents=function(){var e=this;this.keyupBinding=function(t){var o=t.keyCode;var i=e.watchKeys[o];if(i){e.pressedKeys.push(o);i.forEach(function(o){e.checkBinding(t,o)})}};this.keydownBinding=function(t){var o=t.keyCode;var i=e.watchKeys[o];if(i){var n=e.pressedKeys.indexOf(o);if(n>-1){e.pressedKeys.splice(n,1)}}};this.table.element.addEventListener("keydown",this.keyupBinding);this.table.element.addEventListener("keyup",this.keydownBinding)};z.prototype.clearBindings=function(){if(this.keyupBinding){this.table.element.removeEventListener("keydown",this.keyupBinding)}if(this.keydownBinding){this.table.element.removeEventListener("keyup",this.keydownBinding)}};z.prototype.checkBinding=function(e,t){var o=this,i=true;if(e.ctrlKey==t.ctrl&&e.shiftKey==t.shift){t.keys.forEach(function(e){var t=o.pressedKeys.indexOf(e);if(t==-1){i=false}});if(i){t.action.call(o,e)}return true}return false};z.prototype.bindings={navPrev:"shift + 9",navNext:9,navUp:38,navDown:40,scrollPageUp:33,scrollPageDown:34,scrollToStart:36,scrollToEnd:35,undo:"ctrl + 90",redo:"ctrl + 89",copyToClipboard:"ctrl + 67"};z.prototype.actions={keyBlock:function e(t){t.stopPropagation();t.preventDefault()},scrollPageUp:function e(t){var o=this.table.rowManager,i=o.scrollTop-o.height,n=o.element.scrollHeight;t.preventDefault();if(o.displayRowsCount){if(i>=0){o.element.scrollTop=i}else{o.scrollToRow(o.getDisplayRows()[0])}}this.table.element.focus()},scrollPageDown:function e(t){var o=this.table.rowManager,i=o.scrollTop+o.height,n=o.element.scrollHeight;t.preventDefault();if(o.displayRowsCount){if(i<=n){o.element.scrollTop=i}else{o.scrollToRow(o.getDisplayRows()[o.displayRowsCount-1])}}this.table.element.focus()},scrollToStart:function e(t){var o=this.table.rowManager;t.preventDefault();if(o.displayRowsCount){o.scrollToRow(o.getDisplayRows()[0])}this.table.element.focus()},scrollToEnd:function e(t){var o=this.table.rowManager;t.preventDefault();if(o.displayRowsCount){o.scrollToRow(o.getDisplayRows()[o.displayRowsCount-1])}this.table.element.focus()},navPrev:function e(t){var o=false;if(this.table.modExists("edit")){o=this.table.modules.edit.currentCell;if(o){t.preventDefault();o.nav().prev()}}},navNext:function e(t){var o=false;if(this.table.modExists("edit")){o=this.table.modules.edit.currentCell;if(o){t.preventDefault();o.nav().next()}}},navLeft:function e(t){var o=false;if(this.table.modExists("edit")){o=this.table.modules.edit.currentCell;if(o){t.preventDefault();o.nav().left()}}},navRight:function e(t){var o=false;if(this.table.modExists("edit")){o=this.table.modules.edit.currentCell;if(o){t.preventDefault();o.nav().right()}}},navUp:function e(t){var o=false;if(this.table.modExists("edit")){o=this.table.modules.edit.currentCell;if(o){t.preventDefault();o.nav().up()}}},navDown:function e(t){var o=false;if(this.table.modExists("edit")){o=this.table.modules.edit.currentCell;if(o){t.preventDefault();o.nav().down()}}},undo:function e(t){var o=false;if(this.table.options.history&&this.table.modExists("history")&&this.table.modExists("edit")){o=this.table.modules.edit.currentCell;if(!o){t.preventDefault();this.table.modules.history.undo()}}},redo:function e(t){var o=false;if(this.table.options.history&&this.table.modExists("history")&&this.table.modExists("edit")){o=this.table.modules.edit.currentCell;if(!o){t.preventDefault();this.table.modules.history.redo()}}},copyToClipboard:function e(t){if(!this.table.modules.edit.currentCell){if(this.table.modExists("clipboard",true)){this.table.modules.clipboard.copy(!this.table.options.selectable||this.table.options.selectable=="highlight"?"active":"selected",null,null,null,true)}}}};f.prototype.registerModule("keybindings",z);var F=function e(t){this.table=t;this.placeholderElement=this.createPlaceholderElement();this.hoverElement=false;this.checkTimeout=false;this.checkPeriod=250;this.moving=false;this.toCol=false;this.toColAfter=false;this.startX=0;this.autoScrollMargin=40;this.autoScrollStep=5;this.autoScrollTimeout=false;this.touchMove=false;this.moveHover=this.moveHover.bind(this);this.endMove=this.endMove.bind(this)};F.prototype.createPlaceholderElement=function(){var e=document.createElement("div");e.classList.add("tabulator-col");e.classList.add("tabulator-col-placeholder");return e};F.prototype.initializeColumn=function(e){var t=this,o={},i;if(!e.modules.frozen){i=e.getElement();o.mousemove=function(o){if(e.parent===t.moving.parent){if((t.touchMove?o.touches[0].pageX:o.pageX)-f.prototype.helpers.elOffset(i).left+t.table.columnManager.element.scrollLeft>e.getWidth()/2){if(t.toCol!==e||!t.toColAfter){i.parentNode.insertBefore(t.placeholderElement,i.nextSibling);t.moveColumn(e,true)}}else{if(t.toCol!==e||t.toColAfter){i.parentNode.insertBefore(t.placeholderElement,i);t.moveColumn(e,false)}}}}.bind(t);i.addEventListener("mousedown",function(o){t.touchMove=false;if(o.which===1){t.checkTimeout=setTimeout(function(){t.startMove(o,e)},t.checkPeriod)}});i.addEventListener("mouseup",function(e){if(e.which===1){if(t.checkTimeout){clearTimeout(t.checkTimeout)}}});t.bindTouchEvents(e)}e.modules.moveColumn=o};F.prototype.bindTouchEvents=function(e){var t=this,o=e.getElement(),i=false,n,s,r,a,l,u;o.addEventListener("touchstart",function(o){t.checkTimeout=setTimeout(function(){t.touchMove=true;n=e.nextColumn();r=n?n.getWidth()/2:0;s=e.prevColumn();a=s?s.getWidth()/2:0;l=0;u=0;i=false;t.startMove(o,e)},t.checkPeriod)});o.addEventListener("touchmove",function(o){var c,f;if(t.moving){t.moveHover(o);if(!i){i=o.touches[0].pageX}c=o.touches[0].pageX-i;if(c>0){if(n&&c-l>r){f=n;if(f!==e){i=o.touches[0].pageX;f.getElement().parentNode.insertBefore(t.placeholderElement,f.getElement().nextSibling);t.moveColumn(f,true)}}}else{if(s&&-c-u>a){f=s;if(f!==e){i=o.touches[0].pageX;f.getElement().parentNode.insertBefore(t.placeholderElement,f.getElement());t.moveColumn(f,false)}}}if(f){n=f.nextColumn();l=r;r=n?n.getWidth()/2:0;s=f.prevColumn();u=a;a=s?s.getWidth()/2:0}}});o.addEventListener("touchend",function(e){if(t.checkTimeout){clearTimeout(t.checkTimeout)}if(t.moving){t.endMove(e)}})};F.prototype.startMove=function(e,t){var o=t.getElement();this.moving=t;this.startX=(this.touchMove?e.touches[0].pageX:e.pageX)-f.prototype.helpers.elOffset(o).left;this.table.element.classList.add("tabulator-block-select");this.placeholderElement.style.width=t.getWidth()+"px";this.placeholderElement.style.height=t.getHeight()+"px";o.parentNode.insertBefore(this.placeholderElement,o);o.parentNode.removeChild(o);this.hoverElement=o.cloneNode(true);this.hoverElement.classList.add("tabulator-moving");this.table.columnManager.getElement().appendChild(this.hoverElement);this.hoverElement.style.left="0";this.hoverElement.style.bottom="0";if(!this.touchMove){this._bindMouseMove();document.body.addEventListener("mousemove",this.moveHover);document.body.addEventListener("mouseup",this.endMove)}this.moveHover(e)};F.prototype._bindMouseMove=function(){this.table.columnManager.columnsByIndex.forEach(function(e){if(e.modules.moveColumn.mousemove){e.getElement().addEventListener("mousemove",e.modules.moveColumn.mousemove)}})};F.prototype._unbindMouseMove=function(){this.table.columnManager.columnsByIndex.forEach(function(e){if(e.modules.moveColumn.mousemove){e.getElement().removeEventListener("mousemove",e.modules.moveColumn.mousemove)}})};F.prototype.moveColumn=function(e,t){var o=this.moving.getCells();this.toCol=e;this.toColAfter=t;if(t){e.getCells().forEach(function(e,t){var i=e.getElement();i.parentNode.insertBefore(o[t].getElement(),i.nextSibling)})}else{e.getCells().forEach(function(e,t){var i=e.getElement();i.parentNode.insertBefore(o[t].getElement(),i)})}};F.prototype.endMove=function(e){if(e.which===1||this.touchMove){this._unbindMouseMove();this.placeholderElement.parentNode.insertBefore(this.moving.getElement(),this.placeholderElement.nextSibling);this.placeholderElement.parentNode.removeChild(this.placeholderElement);this.hoverElement.parentNode.removeChild(this.hoverElement);this.table.element.classList.remove("tabulator-block-select");if(this.toCol){this.table.columnManager.moveColumn(this.moving,this.toCol,this.toColAfter)}this.moving=false;this.toCol=false;this.toColAfter=false;if(!this.touchMove){document.body.removeEventListener("mousemove",this.moveHover);document.body.removeEventListener("mouseup",this.endMove)}}};F.prototype.moveHover=function(e){var t=this,o=t.table.columnManager.getElement(),i=o.scrollLeft,n=(t.touchMove?e.touches[0].pageX:e.pageX)-f.prototype.helpers.elOffset(o).left+i,s;t.hoverElement.style.left=n-t.startX+"px";if(n-i<t.autoScrollMargin){if(!t.autoScrollTimeout){t.autoScrollTimeout=setTimeout(function(){s=Math.max(0,i-5);t.table.rowManager.getElement().scrollLeft=s;t.autoScrollTimeout=false},1)}}if(i+o.clientWidth-n<t.autoScrollMargin){if(!t.autoScrollTimeout){t.autoScrollTimeout=setTimeout(function(){s=Math.min(o.clientWidth,i+5);t.table.rowManager.getElement().scrollLeft=s;t.autoScrollTimeout=false},1)}}};f.prototype.registerModule("moveColumn",F);var H=function e(t){this.table=t;this.placeholderElement=this.createPlaceholderElement();this.hoverElement=false;this.checkTimeout=false;this.checkPeriod=150;this.moving=false;this.toRow=false;this.toRowAfter=false;this.hasHandle=false;this.startY=0;this.startX=0;this.moveHover=this.moveHover.bind(this);this.endMove=this.endMove.bind(this);this.tableRowDropEvent=false;this.touchMove=false;this.connection=false;this.connections=[];this.connectedTable=false;this.connectedRow=false};H.prototype.createPlaceholderElement=function(){var e=document.createElement("div");e.classList.add("tabulator-row");e.classList.add("tabulator-row-placeholder");return e};H.prototype.initialize=function(e){this.connection=this.table.options.movableRowsConnectedTables};H.prototype.setHandle=function(e){this.hasHandle=e};H.prototype.initializeGroupHeader=function(e){var t=this,o={};o.mouseup=function(e){t.tableRowDrop(e,row)}.bind(t);o.mousemove=function(o){if(o.pageY-f.prototype.helpers.elOffset(e.element).top+t.table.rowManager.element.scrollTop>e.getHeight()/2){if(t.toRow!==e||!t.toRowAfter){var i=e.getElement();i.parentNode.insertBefore(t.placeholderElement,i.nextSibling);t.moveRow(e,true)}}else{if(t.toRow!==e||t.toRowAfter){var i=e.getElement();if(i.previousSibling){i.parentNode.insertBefore(t.placeholderElement,i);t.moveRow(e,false)}}}}.bind(t);e.modules.moveRow=o};H.prototype.initializeRow=function(e){var t=this,o={},i;o.mouseup=function(o){t.tableRowDrop(o,e)}.bind(t);o.mousemove=function(o){if(o.pageY-f.prototype.helpers.elOffset(e.element).top+t.table.rowManager.element.scrollTop>e.getHeight()/2){if(t.toRow!==e||!t.toRowAfter){var i=e.getElement();i.parentNode.insertBefore(t.placeholderElement,i.nextSibling);t.moveRow(e,true)}}else{if(t.toRow!==e||t.toRowAfter){var i=e.getElement();i.parentNode.insertBefore(t.placeholderElement,i);t.moveRow(e,false)}}}.bind(t);if(!this.hasHandle){i=e.getElement();i.addEventListener("mousedown",function(o){if(o.which===1){t.checkTimeout=setTimeout(function(){t.startMove(o,e)},t.checkPeriod)}});i.addEventListener("mouseup",function(e){if(e.which===1){if(t.checkTimeout){clearTimeout(t.checkTimeout)}}});this.bindTouchEvents(e,e.getElement())}e.modules.moveRow=o};H.prototype.initializeCell=function(e){var t=this,o=e.getElement();o.addEventListener("mousedown",function(o){if(o.which===1){t.checkTimeout=setTimeout(function(){t.startMove(o,e.row)},t.checkPeriod)}});o.addEventListener("mouseup",function(e){if(e.which===1){if(t.checkTimeout){clearTimeout(t.checkTimeout)}}});this.bindTouchEvents(e.row,e.getElement())};H.prototype.bindTouchEvents=function(e,t){var o=this,i=false,n,s,r,a,l,u;t.addEventListener("touchstart",function(t){o.checkTimeout=setTimeout(function(){o.touchMove=true;n=e.nextRow();r=n?n.getHeight()/2:0;s=e.prevRow();a=s?s.getHeight()/2:0;l=0;u=0;i=false;o.startMove(t,e)},o.checkPeriod)});this.moving,this.toRow,this.toRowAfter;t.addEventListener("touchmove",function(t){var c,f;if(o.moving){t.preventDefault();o.moveHover(t);if(!i){i=t.touches[0].pageY}c=t.touches[0].pageY-i;if(c>0){if(n&&c-l>r){f=n;if(f!==e){i=t.touches[0].pageY;f.getElement().parentNode.insertBefore(o.placeholderElement,f.getElement().nextSibling);o.moveRow(f,true)}}}else{if(s&&-c-u>a){f=s;if(f!==e){i=t.touches[0].pageY;f.getElement().parentNode.insertBefore(o.placeholderElement,f.getElement());o.moveRow(f,false)}}}if(f){n=f.nextRow();l=r;r=n?n.getHeight()/2:0;s=f.prevRow();u=a;a=s?s.getHeight()/2:0}}});t.addEventListener("touchend",function(e){if(o.checkTimeout){clearTimeout(o.checkTimeout)}if(o.moving){o.endMove(e);o.touchMove=false}})};H.prototype._bindMouseMove=function(){var e=this;e.table.rowManager.getDisplayRows().forEach(function(e){if((e.type==="row"||e.type==="group")&&e.modules.moveRow.mousemove){e.getElement().addEventListener("mousemove",e.modules.moveRow.mousemove)}})};H.prototype._unbindMouseMove=function(){var e=this;e.table.rowManager.getDisplayRows().forEach(function(e){if((e.type==="row"||e.type==="group")&&e.modules.moveRow.mousemove){e.getElement().removeEventListener("mousemove",e.modules.moveRow.mousemove)}})};H.prototype.startMove=function(e,t){var o=t.getElement();this.setStartPosition(e,t);this.moving=t;this.table.element.classList.add("tabulator-block-select");this.placeholderElement.style.width=t.getWidth()+"px";this.placeholderElement.style.height=t.getHeight()+"px";if(!this.connection){o.parentNode.insertBefore(this.placeholderElement,o);o.parentNode.removeChild(o)}else{this.table.element.classList.add("tabulator-movingrow-sending");this.connectToTables(t)}this.hoverElement=o.cloneNode(true);this.hoverElement.classList.add("tabulator-moving");if(this.connection){document.body.appendChild(this.hoverElement);this.hoverElement.style.left="0";this.hoverElement.style.top="0";this.hoverElement.style.width=this.table.element.clientWidth+"px";this.hoverElement.style.whiteSpace="nowrap";this.hoverElement.style.overflow="hidden";this.hoverElement.style.pointerEvents="none"}else{this.table.rowManager.getTableElement().appendChild(this.hoverElement);this.hoverElement.style.left="0";this.hoverElement.style.top="0";this._bindMouseMove()}document.body.addEventListener("mousemove",this.moveHover);document.body.addEventListener("mouseup",this.endMove);this.moveHover(e)};H.prototype.setStartPosition=function(e,t){var o=this.touchMove?e.touches[0].pageX:e.pageX,i=this.touchMove?e.touches[0].pageY:e.pageY,n,s;n=t.getElement();if(this.connection){s=n.getBoundingClientRect();this.startX=s.left-o+window.pageXOffset;this.startY=s.top-i+window.pageYOffset}else{this.startY=i-n.getBoundingClientRect().top}};H.prototype.endMove=function(e){if(!e||e.which===1||this.touchMove){this._unbindMouseMove();if(!this.connection){this.placeholderElement.parentNode.insertBefore(this.moving.getElement(),this.placeholderElement.nextSibling);this.placeholderElement.parentNode.removeChild(this.placeholderElement)}this.hoverElement.parentNode.removeChild(this.hoverElement);this.table.element.classList.remove("tabulator-block-select");if(this.toRow){this.table.rowManager.moveRow(this.moving,this.toRow,this.toRowAfter)}this.moving=false;this.toRow=false;this.toRowAfter=false;document.body.removeEventListener("mousemove",this.moveHover);document.body.removeEventListener("mouseup",this.endMove);if(this.connection){this.table.element.classList.remove("tabulator-movingrow-sending");this.disconnectFromTables()}}};H.prototype.moveRow=function(e,t){this.toRow=e;this.toRowAfter=t};H.prototype.moveHover=function(e){if(this.connection){this.moveHoverConnections.call(this,e)}else{this.moveHoverTable.call(this,e)}};H.prototype.moveHoverTable=function(e){var t=this.table.rowManager.getElement(),o=t.scrollTop,i=(this.touchMove?e.touches[0].pageY:e.pageY)-t.getBoundingClientRect().top+o;this.hoverElement.style.top=i-this.startY+"px"};H.prototype.moveHoverConnections=function(e){this.hoverElement.style.left=this.startX+(this.touchMove?e.touches[0].pageX:e.pageX)+"px";this.hoverElement.style.top=this.startY+(this.touchMove?e.touches[0].pageY:e.pageY)+"px"};H.prototype.connectToTables=function(e){var t=this.table.modules.comms.getConnections(this.connection);this.table.options.movableRowsSendingStart.call(this.table,t);this.table.modules.comms.send(this.connection,"moveRow","connect",{row:e})};H.prototype.disconnectFromTables=function(){var e=this.table.modules.comms.getConnections(this.connection);this.table.options.movableRowsSendingStop.call(this.table,e);this.table.modules.comms.send(this.connection,"moveRow","disconnect")};H.prototype.connect=function(e,t){var o=this;if(!this.connectedTable){this.connectedTable=e;this.connectedRow=t;this.table.element.classList.add("tabulator-movingrow-receiving");o.table.rowManager.getDisplayRows().forEach(function(e){if(e.type==="row"&&e.modules.moveRow&&e.modules.moveRow.mouseup){e.getElement().addEventListener("mouseup",e.modules.moveRow.mouseup)}});o.tableRowDropEvent=o.tableRowDrop.bind(o);o.table.element.addEventListener("mouseup",o.tableRowDropEvent);this.table.options.movableRowsReceivingStart.call(this.table,t,e);return true}else{console.warn("Move Row Error - Table cannot accept connection, already connected to table:",this.connectedTable);return false}};H.prototype.disconnect=function(e){var t=this;if(e===this.connectedTable){this.connectedTable=false;this.connectedRow=false;this.table.element.classList.remove("tabulator-movingrow-receiving");t.table.rowManager.getDisplayRows().forEach(function(e){if(e.type==="row"&&e.modules.moveRow&&e.modules.moveRow.mouseup){e.getElement().removeEventListener("mouseup",e.modules.moveRow.mouseup)}});t.table.element.removeEventListener("mouseup",t.tableRowDropEvent);this.table.options.movableRowsReceivingStop.call(this.table,e)}else{console.warn("Move Row Error - trying to disconnect from non connected table")}};H.prototype.dropComplete=function(e,t,o){var n=false;if(o){switch(i(this.table.options.movableRowsSender)){case"string":n=this.senders[this.table.options.movableRowsSender];break;case"function":n=this.table.options.movableRowsSender;break}if(n){n.call(this,this.moving.getComponent(),t?t.getComponent():undefined,e)}else{if(this.table.options.movableRowsSender){console.warn("Mover Row Error - no matching sender found:",this.table.options.movableRowsSender)}}this.table.options.movableRowsSent.call(this.table,this.moving.getComponent(),t?t.getComponent():undefined,e)}else{this.table.options.movableRowsSentFailed.call(this.table,this.moving.getComponent(),t?t.getComponent():undefined,e)}this.endMove()};H.prototype.tableRowDrop=function(e,t){var o=false,n=false;e.stopImmediatePropagation();switch(i(this.table.options.movableRowsReceiver)){case"string":o=this.receivers[this.table.options.movableRowsReceiver];break;case"function":o=this.table.options.movableRowsReceiver;break}if(o){n=o.call(this,this.connectedRow.getComponent(),t?t.getComponent():undefined,this.connectedTable)}else{console.warn("Mover Row Error - no matching receiver found:",this.table.options.movableRowsReceiver)}if(n){this.table.options.movableRowsReceived.call(this.table,this.connectedRow.getComponent(),t?t.getComponent():undefined,this.connectedTable)}else{this.table.options.movableRowsReceivedFailed.call(this.table,this.connectedRow.getComponent(),t?t.getComponent():undefined,this.connectedTable)}this.table.modules.comms.send(this.connectedTable,"moveRow","dropcomplete",{row:t,success:n})};H.prototype.receivers={insert:function e(t,o,i){this.table.addRow(t.getData(),undefined,o);return true},add:function e(t,o,i){this.table.addRow(t.getData());return true},update:function e(t,o,i){if(o){o.update(t.getData());return true}return false},replace:function e(t,o,i){if(o){this.table.addRow(t.getData(),undefined,o);o.delete();return true}return false}};H.prototype.senders={delete:function e(t,o,i){t.delete()}};H.prototype.commsReceived=function(e,t,o){switch(t){case"connect":return this.connect(e,o.row);break;case"disconnect":return this.disconnect(e);break;case"dropcomplete":return this.dropComplete(e,o.row,o.success);break}};f.prototype.registerModule("moveRow",H);var P=function e(t){this.table=t;this.allowedTypes=["","data","edit","clipboard"];this.enabled=true};P.prototype.initializeColumn=function(e){var t=this,o=false,i={};this.allowedTypes.forEach(function(n){var s="mutator"+(n.charAt(0).toUpperCase()+n.slice(1)),r;if(e.definition[s]){r=t.lookupMutator(e.definition[s]);if(r){o=true;i[s]={mutator:r,params:e.definition[s+"Params"]||{}}}}});if(o){e.modules.mutate=i}};P.prototype.lookupMutator=function(e){var t=false;switch(typeof e==="undefined"?"undefined":i(e)){case"string":if(this.mutators[e]){t=this.mutators[e]}else{console.warn("Mutator Error - No such mutator found, ignoring: ",e)}break;case"function":t=e;break}return t};P.prototype.transformRow=function(e,t,o){var i=this,n="mutator"+(t.charAt(0).toUpperCase()+t.slice(1)),s;if(this.enabled){i.table.columnManager.traverse(function(i){var r,a,l;if(i.modules.mutate){r=i.modules.mutate[n]||i.modules.mutate.mutator||false;if(r){s=i.getFieldValue(e);if(!o||o&&typeof s!=="undefined"){l=i.getComponent();a=typeof r.params==="function"?r.params(s,e,t,l):r.params;i.setFieldValue(e,r.mutator(s,e,t,a,l))}}}})}return e};P.prototype.transformCell=function(e,t){var o=e.column.modules.mutate.mutatorEdit||e.column.modules.mutate.mutator||false;if(o){return o.mutator(t,e.row.getData(),"edit",o.params,e.getComponent())}else{return t}};P.prototype.enable=function(){this.enabled=true};P.prototype.disable=function(){this.enabled=false};P.prototype.mutators={};f.prototype.registerModule("mutator",P);var _=function e(t){this.table=t;this.mode="local";this.progressiveLoad=false;this.size=0;this.page=1;this.count=5;this.max=1;this.displayIndex=0;this.pageSizes=[];this.createElements()};_.prototype.createElements=function(){var e;this.element=document.createElement("span");this.element.classList.add("tabulator-paginator");this.pagesElement=document.createElement("span");this.pagesElement.classList.add("tabulator-pages");e=document.createElement("button");e.classList.add("tabulator-page");e.setAttribute("type","button");e.setAttribute("role","button");e.setAttribute("aria-label","");e.setAttribute("title","");this.firstBut=e.cloneNode(true);this.firstBut.setAttribute("data-page","first");this.prevBut=e.cloneNode(true);this.prevBut.setAttribute("data-page","prev");this.nextBut=e.cloneNode(true);this.nextBut.setAttribute("data-page","next");this.lastBut=e.cloneNode(true);this.lastBut.setAttribute("data-page","last");if(this.table.options.paginationSizeSelector){this.pageSizeSelect=document.createElement("select");this.pageSizeSelect.classList.add("tabulator-page-size")}};_.prototype.generatePageSizeSelectList=function(){var e=this;var t=[];if(this.pageSizeSelect){if(Array.isArray(this.table.options.paginationSizeSelector)){t=this.table.options.paginationSizeSelector;this.pageSizes=t;if(this.pageSizes.indexOf(this.size)==-1){t.unshift(this.size)}}else{if(this.pageSizes.indexOf(this.size)==-1){t=[];for(var o=1;o<5;o++){t.push(this.size*o)}this.pageSizes=t}else{t=this.pageSizes}}while(this.pageSizeSelect.firstChild){this.pageSizeSelect.removeChild(this.pageSizeSelect.firstChild)}t.forEach(function(t){var o=document.createElement("option");o.value=t;o.innerHTML=t;e.pageSizeSelect.appendChild(o)});this.pageSizeSelect.value=this.size}};_.prototype.initialize=function(e){var t=this,o;for(var i in t.table.options.paginationDataSent){t.paginationDataSentNames[i]=t.table.options.paginationDataSent[i]}for(var n in t.table.options.paginationDataReceived){t.paginationDataReceivedNames[n]=t.table.options.paginationDataReceived[n]}t.table.modules.localize.bind("pagination|first",function(e){t.firstBut.innerHTML=e});t.table.modules.localize.bind("pagination|first_title",function(e){t.firstBut.setAttribute("aria-label",e);t.firstBut.setAttribute("title",e)});t.table.modules.localize.bind("pagination|prev",function(e){t.prevBut.innerHTML=e});t.table.modules.localize.bind("pagination|prev_title",function(e){t.prevBut.setAttribute("aria-label",e);t.prevBut.setAttribute("title",e)});t.table.modules.localize.bind("pagination|next",function(e){t.nextBut.innerHTML=e});t.table.modules.localize.bind("pagination|next_title",function(e){t.nextBut.setAttribute("aria-label",e);t.nextBut.setAttribute("title",e)});t.table.modules.localize.bind("pagination|last",function(e){t.lastBut.innerHTML=e});t.table.modules.localize.bind("pagination|last_title",function(e){t.lastBut.setAttribute("aria-label",e);t.lastBut.setAttribute("title",e)});t.firstBut.addEventListener("click",function(){t.setPage(1)});t.prevBut.addEventListener("click",function(){t.previousPage()});t.nextBut.addEventListener("click",function(){t.nextPage().then(function(){}).catch(function(){})});t.lastBut.addEventListener("click",function(){t.setPage(t.max)});if(t.table.options.paginationElement){t.element=t.table.options.paginationElement}if(this.pageSizeSelect){o=document.createElement("label");t.table.modules.localize.bind("pagination|page_size",function(e){t.pageSizeSelect.setAttribute("aria-label",e);t.pageSizeSelect.setAttribute("title",e);o.innerHTML=e});t.element.appendChild(o);t.element.appendChild(t.pageSizeSelect);t.pageSizeSelect.addEventListener("change",function(e){t.setPageSize(t.pageSizeSelect.value);t.setPage(1).then(function(){}).catch(function(){})})}t.element.appendChild(t.firstBut);t.element.appendChild(t.prevBut);t.element.appendChild(t.pagesElement);t.element.appendChild(t.nextBut);t.element.appendChild(t.lastBut);if(!t.table.options.paginationElement&&!e){t.table.footerManager.append(t.element,t)}t.mode=t.table.options.pagination;t.size=t.table.options.paginationSize||Math.floor(t.table.rowManager.getElement().clientHeight/24);t.count=t.table.options.paginationButtonCount;t.generatePageSizeSelectList()};_.prototype.initializeProgressive=function(e){this.initialize(true);this.mode="progressive_"+e;this.progressiveLoad=true};_.prototype.setDisplayIndex=function(e){this.displayIndex=e};_.prototype.getDisplayIndex=function(){return this.displayIndex};_.prototype.setMaxRows=function(e){if(!e){this.max=1}else{this.max=Math.ceil(e/this.size)}if(this.page>this.max){this.page=this.max}};_.prototype.reset=function(e){if(this.mode=="local"||e){this.page=1}return true};_.prototype.setMaxPage=function(e){e=parseInt(e);this.max=e||1;if(this.page>this.max){this.page=this.max;this.trigger()}};_.prototype.setPage=function(e){var t=this;return new Promise(function(o,i){e=parseInt(e);if(e>0&&e<=t.max){t.page=e;t.trigger().then(function(){o()}).catch(function(){i()})}else{console.warn("Pagination Error - Requested page is out of range of 1 - "+t.max+":",e);i()}})};_.prototype.setPageToRow=function(e){var t=this;return new Promise(function(o,i){var n=t.table.rowManager.getDisplayRows(t.displayIndex-1);var s=n.indexOf(e);if(s>-1){var r=Math.ceil((s+1)/t.size);t.setPage(r).then(function(){o()}).catch(function(){i()})}else{console.warn("Pagination Error - Requested row is not visible");i()}})};_.prototype.setPageSize=function(e){e=parseInt(e);if(e>0){this.size=e}if(this.pageSizeSelect){this.generatePageSizeSelectList()}};_.prototype._setPageButtons=function(){var e=this;var t=Math.floor((this.count-1)/2);var o=Math.ceil((this.count-1)/2);var i=this.max-this.page+t+1<this.count?this.max-this.count+1:Math.max(this.page-t,1);var n=this.page<=o?Math.min(this.count,this.max):Math.min(this.page+o,this.max);while(e.pagesElement.firstChild){e.pagesElement.removeChild(e.pagesElement.firstChild)}if(e.page==1){e.firstBut.disabled=true;e.prevBut.disabled=true}else{e.firstBut.disabled=false;e.prevBut.disabled=false}if(e.page==e.max){e.lastBut.disabled=true;e.nextBut.disabled=true}else{e.lastBut.disabled=false;e.nextBut.disabled=false}for(var s=i;s<=n;s++){if(s>0&&s<=e.max){e.pagesElement.appendChild(e._generatePageButton(s))}}this.footerRedraw()};_.prototype._generatePageButton=function(e){var t=this,o=document.createElement("button");o.classList.add("tabulator-page");if(e==t.page){o.classList.add("active")}o.setAttribute("type","button");o.setAttribute("role","button");o.setAttribute("aria-label","Show Page "+e);o.setAttribute("title","Show Page "+e);o.setAttribute("data-page",e);o.textContent=e;o.addEventListener("click",function(o){t.setPage(e)});return o};_.prototype.previousPage=function(){var e=this;return new Promise(function(t,o){if(e.page>1){e.page--;e.trigger().then(function(){t()}).catch(function(){o()})}else{console.warn("Pagination Error - Previous page would be less than page 1:",0);o()}})};_.prototype.nextPage=function(){var e=this;return new Promise(function(t,o){if(e.page<e.max){e.page++;e.trigger().then(function(){t()}).catch(function(){o()})}else{if(!e.progressiveLoad){console.warn("Pagination Error - Next page would be greater than maximum page of "+e.max+":",e.max+1)}o()}})};_.prototype.getPage=function(){return this.page};_.prototype.getPageMax=function(){return this.max};_.prototype.getPageSize=function(e){return this.size};_.prototype.getMode=function(){return this.mode};_.prototype.getRows=function(e){var t,o,i;if(this.mode=="local"){t=[];o=this.size*(this.page-1);i=o+parseInt(this.size);this._setPageButtons();for(var n=o;n<i;n++){if(e[n]){t.push(e[n])}}return t}else{this._setPageButtons();return e.slice(0)}};_.prototype.trigger=function(){var e=this;var t;return new Promise(function(o,i){switch(e.mode){case"local":t=e.table.rowManager.scrollLeft;e.table.rowManager.refreshActiveData("page");e.table.rowManager.scrollHorizontal(t);e.table.options.pageLoaded.call(e.table,e.getPage());o();break;case"remote":case"progressive_load":case"progressive_scroll":e.table.modules.ajax.blockActiveRequest();e._getRemotePage().then(function(){o()}).catch(function(){i()});break;default:console.warn("Pagination Error - no such pagination mode:",e.mode);i()}})};_.prototype._getRemotePage=function(){var e=this;var t=this,o,i;return new Promise(function(n,s){if(!t.table.modExists("ajax",true)){s()}o=f.prototype.helpers.deepClone(t.table.modules.ajax.getParams()||{});i=t.table.modules.ajax.getParams();i[e.paginationDataSentNames.page]=t.page;if(e.size){i[e.paginationDataSentNames.size]=e.size}if(e.table.options.ajaxSorting&&e.table.modExists("sort")){var r=t.table.modules.sort.getSort();r.forEach(function(e){delete e.column});i[e.paginationDataSentNames.sorters]=r}if(e.table.options.ajaxFiltering&&e.table.modExists("filter")){var a=t.table.modules.filter.getFilters(true,true);i[e.paginationDataSentNames.filters]=a}t.table.modules.ajax.setParams(i);t.table.modules.ajax.sendRequest(e.progressiveLoad).then(function(e){t._parseRemoteData(e);n()}).catch(function(e){s()});t.table.modules.ajax.setParams(o)})};_.prototype._parseRemoteData=function(e){var t=this,o,e,i;if(typeof e[this.paginationDataReceivedNames.last_page]==="undefined"){console.warn("Remote Pagination Error - Server response missing '"+this.paginationDataReceivedNames.last_page+"' property")}if(e[this.paginationDataReceivedNames.data]){this.max=parseInt(e[this.paginationDataReceivedNames.last_page])||1;if(this.progressiveLoad){switch(this.mode){case"progressive_load":this.table.rowManager.addRows(e[this.paginationDataReceivedNames.data]);if(this.page<this.max){setTimeout(function(){t.nextPage().then(function(){}).catch(function(){})},t.table.options.ajaxProgressiveLoadDelay)}break;case"progressive_scroll":e=this.table.rowManager.getData().concat(e[this.paginationDataReceivedNames.data]);this.table.rowManager.setData(e,true);i=this.table.options.ajaxProgressiveLoadScrollMargin||this.table.rowManager.element.clientHeight*2;if(t.table.rowManager.element.scrollHeight<=t.table.rowManager.element.clientHeight+i){t.nextPage().then(function(){}).catch(function(){})}break}}else{o=this.table.rowManager.scrollLeft;this.table.rowManager.setData(e[this.paginationDataReceivedNames.data]);this.table.rowManager.scrollHorizontal(o);this.table.columnManager.scrollHorizontal(o);this.table.options.pageLoaded.call(this.table,this.getPage())}}else{console.warn("Remote Pagination Error - Server response missing '"+this.paginationDataReceivedNames.data+"' property")}};_.prototype.footerRedraw=function(){var e=this.table.footerManager.element;if(Math.ceil(e.clientWidth)-e.scrollWidth<0){this.pagesElement.style.display="none"}else{this.pagesElement.style.display="";if(Math.ceil(e.clientWidth)-e.scrollWidth<0){this.pagesElement.style.display="none"}}};_.prototype.paginationDataSentNames={page:"page",size:"size",sorters:"sorters",filters:"filters"};_.prototype.paginationDataReceivedNames={current_page:"current_page",last_page:"last_page",data:"data"};f.prototype.registerModule("page",_);var A=function e(t){this.table=t;this.mode="";this.id="";this.persistProps=["field","width","visible"]};A.prototype.initialize=function(e,t){this.mode=e!==true?e:typeof window.localStorage!=="undefined"?"local":"cookie";this.id="tabulator-"+(t||this.table.element.getAttribute("id")||"")};A.prototype.load=function(e,t){var o=this.retreiveData(e);if(t){o=o?this.mergeDefinition(t,o):t}return o};A.prototype.retreiveData=function(e){var t="",o=this.id+(e==="columns"?"":"-"+e);switch(this.mode){case"local":t=localStorage.getItem(o);break;case"cookie":var i=document.cookie,n=i.indexOf(o+"="),s=void 0;if(n>-1){i=i.substr(n);s=i.indexOf(";");if(s>-1){i=i.substr(0,s)}t=i.replace(o+"=","")}break;default:console.warn("Persistance Load Error - invalid mode selected",this.mode)}return t?JSON.parse(t):false};A.prototype.mergeDefinition=function(e,t){var o=this,i=[];t=t||[];t.forEach(function(t,n){var s=o._findColumn(e,t);if(s){s.width=t.width;s.visible=t.visible;if(s.columns){s.columns=o.mergeDefinition(s.columns,t.columns)}i.push(s)}});e.forEach(function(e,n){var s=o._findColumn(t,e);if(!s){if(i.length>n){i.splice(n,0,e)}else{i.push(e)}}});return i};A.prototype._findColumn=function(e,t){var o=t.columns?"group":t.field?"field":"object";return e.find(function(e){switch(o){case"group":return e.title===t.title&&e.columns.length===t.columns.length;break;case"field":return e.field===t.field;break;case"object":return e===t;break}})};A.prototype.save=function(e){var t={};switch(e){case"columns":t=this.parseColumns(this.table.columnManager.getColumns());break;case"filter":t=this.table.modules.filter.getFilters();break;case"sort":t=this.validateSorters(this.table.modules.sort.getSort());break}var o=this.id+(e==="columns"?"":"-"+e);this.saveData(o,t)};A.prototype.validateSorters=function(e){e.forEach(function(e){e.column=e.field;delete e.field});return e};A.prototype.saveData=function(e,t){t=JSON.stringify(t);switch(this.mode){case"local":localStorage.setItem(e,t);break;case"cookie":var o=new Date;o.setDate(o.getDate()+1e4);document.cookie=e+"="+t+"; expires="+o.toUTCString();break;default:console.warn("Persistance Save Error - invalid mode selected",this.mode)}};A.prototype.parseColumns=function(e){var t=this,o=[];e.forEach(function(e){var i={};if(e.isGroup){i.title=e.getDefinition().title;i.columns=t.parseColumns(e.getColumns())}else{i.title=e.getDefinition().title;i.field=e.getField();i.width=e.getWidth();i.visible=e.visible}o.push(i)});return o};f.prototype.registerModule("persistence",A);var N=function e(t){this.table=t;this.data=false;this.blocked=false;this.origFuncs={};this.currentVersion=0};N.prototype.watchData=function(e){var t=this,o;this.currentVersion++;o=this.currentVersion;t.unwatchData();t.data=e;t.origFuncs.push=e.push;Object.defineProperty(t.data,"push",{enumerable:false,configurable:true,value:function i(){var n=Array.from(arguments);if(!t.blocked&&o===t.currentVersion){n.forEach(function(e){t.table.rowManager.addRowActual(e,false)})}return t.origFuncs.push.apply(e,arguments)}});t.origFuncs.unshift=e.unshift;Object.defineProperty(t.data,"unshift",{enumerable:false,configurable:true,value:function i(){var n=Array.from(arguments);if(!t.blocked&&o===t.currentVersion){n.forEach(function(e){t.table.rowManager.addRowActual(e,true)})}return t.origFuncs.unshift.apply(e,arguments)}});t.origFuncs.shift=e.shift;Object.defineProperty(t.data,"shift",{enumerable:false,configurable:true,value:function i(){var n;if(!t.blocked&&o===t.currentVersion){if(t.data.length){n=t.table.rowManager.getRowFromDataObject(t.data[0]);if(n){n.deleteActual()}}}return t.origFuncs.shift.call(e)}});t.origFuncs.pop=e.pop;Object.defineProperty(t.data,"pop",{enumerable:false,configurable:true,value:function i(){var n;if(!t.blocked&&o===t.currentVersion){if(t.data.length){n=t.table.rowManager.getRowFromDataObject(t.data[t.data.length-1]);if(n){n.deleteActual()}}}return t.origFuncs.pop.call(e)}});t.origFuncs.splice=e.splice;Object.defineProperty(t.data,"splice",{enumerable:false,configurable:true,value:function i(){var n=Array.from(arguments),s=n[0]<0?e.length+n[0]:n[0],r=n[1],a=n[2]?n.slice(2):false,l;if(!t.blocked&&o===t.currentVersion){if(a){l=e[s]?t.table.rowManager.getRowFromDataObject(e[s]):false;if(l){a.forEach(function(e){t.table.rowManager.addRowActual(e,true,l,true)})}else{a=a.slice().reverse();a.forEach(function(e){t.table.rowManager.addRowActual(e,true,false,true)})}}if(r!==0){var u=e.slice(s,typeof n[1]==="undefined"?n[1]:s+r);u.forEach(function(e,o){var i=t.table.rowManager.getRowFromDataObject(e);if(i){i.deleteActual(o!==u.length-1)}})}if(a||r!==0){t.table.rowManager.reRenderInPosition()}}return t.origFuncs.splice.apply(e,arguments)}})};N.prototype.unwatchData=function(){if(this.data!==false){for(var e in this.origFuncs){Object.defineProperty(this.data,e,{enumerable:true,configurable:true,writable:true,value:this.origFuncs.key})}}};N.prototype.watchRow=function(e){var t=e.getData();this.blocked=true;for(var o in t){this.watchKey(e,t,o)}this.blocked=false};N.prototype.watchKey=function(e,t,o){var i=this,n=Object.getOwnPropertyDescriptor(t,o),s=t[o],r=this.currentVersion;Object.defineProperty(t,o,{set:function t(a){s=a;if(!i.blocked&&r===i.currentVersion){var l={};l[o]=a;e.updateData(l)}if(n.set){n.set(a)}},get:function e(){if(n.get){n.get()}return s}})};N.prototype.unwatchRow=function(e){var t=e.getData();for(var o in t){Object.defineProperty(t,o,{value:t[o]})}};N.prototype.block=function(){this.blocked=true};N.prototype.unblock=function(){this.blocked=false};f.prototype.registerModule("reactiveData",N);var B=function e(t){this.table=t;this.startColumn=false;this.startX=false;this.startWidth=false;this.handle=null;this.prevHandle=null};B.prototype.initializeColumn=function(e,t,o){var i=this,n=false,s=this.table.options.resizableColumns;if(e==="header"){n=t.definition.formatter=="textarea"||t.definition.variableHeight;t.modules.resize={variableHeight:n}}if(s===true||s==e){var r=document.createElement("div");r.className="tabulator-col-resize-handle";var a=document.createElement("div");a.className="tabulator-col-resize-handle prev";r.addEventListener("click",function(e){e.stopPropagation()});var l=function e(o){var n=t.getLastColumn();if(n&&i._checkResizability(n)){i.startColumn=t;i._mouseDown(o,n,r)}};r.addEventListener("mousedown",l);r.addEventListener("touchstart",l);r.addEventListener("dblclick",function(e){var o=t.getLastColumn();if(o&&i._checkResizability(o)){o.reinitializeWidth(true)}});a.addEventListener("click",function(e){e.stopPropagation()});var u=function e(o){var n,s,r;n=t.getFirstColumn();if(n){s=i.table.columnManager.findColumnIndex(n);r=s>0?i.table.columnManager.getColumnByIndex(s-1):false;if(r&&i._checkResizability(r)){i.startColumn=t;i._mouseDown(o,r,a)}}};a.addEventListener("mousedown",u);a.addEventListener("touchstart",u);a.addEventListener("dblclick",function(e){var o,n,s;o=t.getFirstColumn();if(o){n=i.table.columnManager.findColumnIndex(o);s=n>0?i.table.columnManager.getColumnByIndex(n-1):false;if(s&&i._checkResizability(s)){s.reinitializeWidth(true)}}});o.appendChild(r);o.appendChild(a)}};B.prototype._checkResizability=function(e){return typeof e.definition.resizable!="undefined"?e.definition.resizable:this.table.options.resizableColumns};B.prototype._mouseDown=function(e,t,o){var i=this;i.table.element.classList.add("tabulator-block-select");function n(e){t.setWidth(i.startWidth+((typeof e.screenX==="undefined"?e.touches[0].screenX:e.screenX)-i.startX));if(!i.table.browserSlow&&t.modules.resize&&t.modules.resize.variableHeight){t.checkCellHeights()}}function s(e){if(i.startColumn.modules.edit){i.startColumn.modules.edit.blocked=false}if(i.table.browserSlow&&t.modules.resize&&t.modules.resize.variableHeight){t.checkCellHeights()}document.body.removeEventListener("mouseup",s);document.body.removeEventListener("mousemove",n);o.removeEventListener("touchmove",n);o.removeEventListener("touchend",s);i.table.element.classList.remove("tabulator-block-select");if(i.table.options.persistentLayout&&i.table.modExists("persistence",true)){i.table.modules.persistence.save("columns")}i.table.options.columnResized.call(i.table,t.getComponent())}e.stopPropagation();if(i.startColumn.modules.edit){i.startColumn.modules.edit.blocked=true}i.startX=typeof e.screenX==="undefined"?e.touches[0].screenX:e.screenX;i.startWidth=t.getWidth();document.body.addEventListener("mousemove",n);document.body.addEventListener("mouseup",s);o.addEventListener("touchmove",n);o.addEventListener("touchend",s)};f.prototype.registerModule("resizeColumns",B);var I=function e(t){this.table=t;this.startColumn=false;this.startY=false;this.startHeight=false;this.handle=null;this.prevHandle=null};I.prototype.initializeRow=function(e){var t=this,o=e.getElement();var i=document.createElement("div");i.className="tabulator-row-resize-handle";var n=document.createElement("div");n.className="tabulator-row-resize-handle prev";i.addEventListener("click",function(e){e.stopPropagation()});var s=function o(n){t.startRow=e;t._mouseDown(n,e,i)};i.addEventListener("mousedown",s);i.addEventListener("touchstart",s);n.addEventListener("click",function(e){e.stopPropagation()});var r=function o(i){var s=t.table.rowManager.prevDisplayRow(e);if(s){t.startRow=s;t._mouseDown(i,s,n)}};n.addEventListener("mousedown",r);n.addEventListener("touchstart",r);o.appendChild(i);o.appendChild(n)};I.prototype._mouseDown=function(e,t,o){var i=this;i.table.element.classList.add("tabulator-block-select");function n(e){t.setHeight(i.startHeight+((typeof e.screenY==="undefined"?e.touches[0].screenY:e.screenY)-i.startY))}function s(e){document.body.removeEventListener("mouseup",n);document.body.removeEventListener("mousemove",n);o.removeEventListener("touchmove",n);o.removeEventListener("touchend",s);i.table.element.classList.remove("tabulator-block-select");i.table.options.rowResized.call(this.table,t.getComponent())}e.stopPropagation();i.startY=typeof e.screenY==="undefined"?e.touches[0].screenY:e.screenY;i.startHeight=t.getHeight();document.body.addEventListener("mousemove",n);document.body.addEventListener("mouseup",s);o.addEventListener("touchmove",n);o.addEventListener("touchend",s)};f.prototype.registerModule("resizeRows",I);var j=function e(t){this.table=t;this.binding=false;this.observer=false};j.prototype.initialize=function(e){var t=this.table;if(typeof ResizeObserver!=="undefined"&&t.rowManager.getRenderMode()==="virtual"){this.observer=new ResizeObserver(function(e){t.redraw()});this.observer.observe(t.element)}else{this.binding=function(){t.redraw()};window.addEventListener("resize",this.binding)}};j.prototype.clearBindings=function(e){if(this.binding){window.removeEventListener("resize",this.binding)}if(this.observer){this.observer.unobserve(this.table.element)}};f.prototype.registerModule("resizeTable",j);var O=function e(t){this.table=t;this.columns=[];this.hiddenColumns=[];this.mode="";this.index=0;this.collapseFormatter=[];this.collapseStartOpen=true};O.prototype.initialize=function(){var e=this,t=[];this.mode=this.table.options.responsiveLayout;this.collapseFormatter=this.table.options.responsiveLayoutCollapseFormatter||this.formatCollapsedData;this.collapseStartOpen=this.table.options.responsiveLayoutCollapseStartOpen;this.hiddenColumns=[];this.table.columnManager.columnsByIndex.forEach(function(o,i){if(o.modules.responsive){if(o.modules.responsive.order&&o.modules.responsive.visible){o.modules.responsive.index=i;t.push(o);if(!o.visible&&e.mode==="collapse"){e.hiddenColumns.push(o)}}}});t=t.reverse();t=t.sort(function(e,t){var o=t.modules.responsive.order-e.modules.responsive.order;return o||t.modules.responsive.index-e.modules.responsive.index});this.columns=t;if(this.mode==="collapse"){this.generateCollapsedContent()}};O.prototype.initializeColumn=function(e){var t=e.getDefinition();e.modules.responsive={order:typeof t.responsive==="undefined"?1:t.responsive,visible:t.visible===false?false:true}};O.prototype.layoutRow=function(e){var t=e.getElement(),o=document.createElement("div");o.classList.add("tabulator-responsive-collapse");if(!t.classList.contains("tabulator-calcs")){e.modules.responsiveLayout={element:o};if(!this.collapseStartOpen){o.style.display="none"}t.appendChild(o);this.generateCollapsedRowContent(e)}};O.prototype.updateColumnVisibility=function(e,t){if(e.modules.responsive){e.modules.responsive.visible=t;this.initialize()}};O.prototype.hideColumn=function(e){e.hide(false,true);if(this.mode==="collapse"){this.hiddenColumns.unshift(e);this.generateCollapsedContent()}};O.prototype.showColumn=function(e){var t;e.show(false,true);e.setWidth(e.getWidth());if(this.mode==="collapse"){t=this.hiddenColumns.indexOf(e);if(t>-1){this.hiddenColumns.splice(t,1)}this.generateCollapsedContent()}};O.prototype.update=function(){var e=this,t=true;while(t){var o=e.table.modules.layout.getMode()=="fitColumns"?e.table.columnManager.getFlexBaseWidth():e.table.columnManager.getWidth();var i=e.table.columnManager.element.clientWidth-o;if(i<0){var n=e.columns[e.index];if(n){e.hideColumn(n);e.index++}else{t=false}}else{var s=e.columns[e.index-1];if(s){if(i>0){if(i>=s.getWidth()){e.showColumn(s);e.index--}else{t=false}}else{t=false}}else{t=false}}if(!e.table.rowManager.activeRowsCount){e.table.rowManager.renderEmptyScroll()}}};O.prototype.generateCollapsedContent=function(){var e=this,t=this.table.rowManager.getDisplayRows();t.forEach(function(t){e.generateCollapsedRowContent(t)})};O.prototype.generateCollapsedRowContent=function(e){var t,o;if(e.modules.responsiveLayout){t=e.modules.responsiveLayout.element;while(t.firstChild){t.removeChild(t.firstChild)}o=this.collapseFormatter(this.generateCollapsedRowData(e));if(o){t.appendChild(o)}}};O.prototype.generateCollapsedRowData=function(e){var t=this,o=e.getData(),i=[],n;this.hiddenColumns.forEach(function(s){var r=s.getFieldValue(o);if(s.definition.title&&s.field){if(s.modules.format&&t.table.options.responsiveLayoutCollapseUseFormatters){n={value:false,data:{},getValue:function e(){return r},getData:function e(){return o},getElement:function e(){return document.createElement("div")},getRow:function t(){return e.getComponent()},getColumn:function e(){return s.getComponent()}};i.push({title:s.definition.title,value:s.modules.format.formatter.call(t.table.modules.format,n,s.modules.format.params)})}else{i.push({title:s.definition.title,value:r})}}});return i};O.prototype.formatCollapsedData=function(e){var t=document.createElement("table"),o="";e.forEach(function(e){var t=document.createElement("div");if(e.value instanceof Node){t.appendChild(e.value);e.value=t.innerHTML}o+="<tr><td><strong>"+e.title+"</strong></td><td>"+e.value+"</td></tr>"});t.innerHTML=o;return Object.keys(e).length?t:""};f.prototype.registerModule("responsiveLayout",O);var G=function e(t){this.table=t;this.selecting=false;this.lastClickedRow=false;this.selectPrev=[];this.selectedRows=[]};G.prototype.clearSelectionData=function(e){this.selecting=false;this.lastClickedRow=false;this.selectPrev=[];this.selectedRows=[];if(!e){this._rowSelectionChanged()}};G.prototype.initializeRow=function(e){var t=this,o=e.getElement();var i=function e(){setTimeout(function(){t.selecting=false},50);document.body.removeEventListener("mouseup",e)};e.modules.select={selected:false};if(t.table.options.selectableCheck.call(this.table,e.getComponent())){o.classList.add("tabulator-selectable");o.classList.remove("tabulator-unselectable");if(t.table.options.selectable&&t.table.options.selectable!="highlight"){if(t.table.options.selectableRangeMode&&t.table.options.selectableRangeMode==="click"){o.addEventListener("click",function(o){if(o.shiftKey){t.lastClickedRow=t.lastClickedRow||e;var i=t.table.rowManager.getDisplayRowIndex(t.lastClickedRow);var n=t.table.rowManager.getDisplayRowIndex(e);var s=i<=n?i:n;var r=i>=n?i:n;var a=t.table.rowManager.getDisplayRows().slice(0);var l=a.splice(s,r-s+1);if(o.ctrlKey){l.forEach(function(e){if(e!==t.lastClickedRow){t.toggleRow(e)}});t.lastClickedRow=e}else{t.deselectRows();t.selectRows(l)}}else if(o.ctrlKey){t.toggleRow(e);t.lastClickedRow=e}else{t.deselectRows();t.selectRows(e);t.lastClickedRow=e}})}else{o.addEventListener("click",function(o){if(!t.selecting){t.toggleRow(e)}});o.addEventListener("mousedown",function(o){if(o.shiftKey){t.selecting=true;t.selectPrev=[];document.body.addEventListener("mouseup",i);document.body.addEventListener("keyup",i);t.toggleRow(e);return false}});o.addEventListener("mouseenter",function(o){if(t.selecting){t.toggleRow(e);if(t.selectPrev[1]==e){t.toggleRow(t.selectPrev[0])}}});o.addEventListener("mouseout",function(o){if(t.selecting){t.selectPrev.unshift(e)}})}}}else{o.classList.add("tabulator-unselectable");o.classList.remove("tabulator-selectable")}};G.prototype.toggleRow=function(e){if(this.table.options.selectableCheck.call(this.table,e.getComponent())){if(e.modules.select&&e.modules.select.selected){this._deselectRow(e)}else{this._selectRow(e)}}};G.prototype.selectRows=function(e){var t=this;switch(typeof e==="undefined"?"undefined":i(e)){case"undefined":t.table.rowManager.rows.forEach(function(e){t._selectRow(e,true,true)});t._rowSelectionChanged();break;case"boolean":if(e===true){t.table.rowManager.activeRows.forEach(function(e){t._selectRow(e,true,true)});t._rowSelectionChanged()}break;default:if(Array.isArray(e)){e.forEach(function(e){t._selectRow(e,true,true)});t._rowSelectionChanged()}else{t._selectRow(e,false,true)}break}};G.prototype._selectRow=function(e,t,o){if(!isNaN(this.table.options.selectable)&&this.table.options.selectable!==true&&!o){if(this.selectedRows.length>=this.table.options.selectable){if(this.table.options.selectableRollingSelection){this._deselectRow(this.selectedRows[0])}else{return false}}}var i=this.table.rowManager.findRow(e);if(i){if(this.selectedRows.indexOf(i)==-1){if(!i.modules.select){i.modules.select={}}i.modules.select.selected=true;i.getElement().classList.add("tabulator-selected");this.selectedRows.push(i);if(!t){this.table.options.rowSelected.call(this.table,i.getComponent());this._rowSelectionChanged()}}}else{if(!t){console.warn("Selection Error - No such row found, ignoring selection:"+e)}}};G.prototype.isRowSelected=function(e){return this.selectedRows.indexOf(e)!==-1};G.prototype.deselectRows=function(e){var t=this,o;if(typeof e=="undefined"){o=t.selectedRows.length;for(var i=0;i<o;i++){t._deselectRow(t.selectedRows[0],true)}t._rowSelectionChanged()}else{if(Array.isArray(e)){e.forEach(function(e){t._deselectRow(e,true)});t._rowSelectionChanged()}else{t._deselectRow(e)}}};G.prototype._deselectRow=function(e,t){var o=this,i=o.table.rowManager.findRow(e),n;if(i){n=o.selectedRows.findIndex(function(e){return e==i});if(n>-1){if(!i.modules.select){i.modules.select={}}i.modules.select.selected=false;i.getElement().classList.remove("tabulator-selected");o.selectedRows.splice(n,1);if(!t){o.table.options.rowDeselected.call(this.table,i.getComponent());o._rowSelectionChanged()}}}else{if(!t){console.warn("Deselection Error - No such row found, ignoring selection:"+e)}}};G.prototype.getSelectedData=function(){var e=[];this.selectedRows.forEach(function(t){e.push(t.getData())});return e};G.prototype.getSelectedRows=function(){var e=[];this.selectedRows.forEach(function(t){e.push(t.getComponent())});return e};G.prototype._rowSelectionChanged=function(){this.table.options.rowSelectionChanged.call(this.table,this.getSelectedData(),this.getSelectedRows())};f.prototype.registerModule("selectRow",G);var V=function e(t){this.table=t;this.sortList=[];this.changed=false};V.prototype.initializeColumn=function(e,t){var o=this,n=false,s,r;switch(i(e.definition.sorter)){case"string":if(o.sorters[e.definition.sorter]){n=o.sorters[e.definition.sorter]}else{console.warn("Sort Error - No such sorter found: ",e.definition.sorter)}break;case"function":n=e.definition.sorter;break}e.modules.sort={sorter:n,dir:"none",params:e.definition.sorterParams||{},startingDir:e.definition.headerSortStartingDir||"asc",tristate:e.definition.headerSortTristate};if(e.definition.headerSort!==false){s=e.getElement();s.classList.add("tabulator-sortable");r=document.createElement("div");r.classList.add("tabulator-arrow");t.appendChild(r);s.addEventListener("click",function(t){var i="",n=[],s=false;if(e.modules.sort){if(e.modules.sort.tristate){if(e.modules.sort.dir=="none"){i=e.modules.sort.startingDir}else{if(e.modules.sort.dir==e.modules.sort.startingDir){i=e.modules.sort.dir=="asc"?"desc":"asc"}else{i="none"}}}else{switch(e.modules.sort.dir){case"asc":i="desc";break;case"desc":i="asc";break;default:i=e.modules.sort.startingDir}}if(o.table.options.columnHeaderSortMulti&&(t.shiftKey||t.ctrlKey)){n=o.getSort();s=n.findIndex(function(t){return t.field===e.getField()});if(s>-1){n[s].dir=i;if(s!=n.length-1){s=n.splice(s,1)[0];if(i!="none"){n.push(s)}}}else{if(i!="none"){n.push({column:e,dir:i})}}o.setSort(n)}else{if(i=="none"){o.clear()}else{o.setSort(e,i)}}o.table.rowManager.sorterRefresh(!o.sortList.length)}})}};V.prototype.hasChanged=function(){var e=this.changed;this.changed=false;return e};V.prototype.getSort=function(){var e=this,t=[];e.sortList.forEach(function(e){if(e.column){t.push({column:e.column.getComponent(),field:e.column.getField(),dir:e.dir})}});return t};V.prototype.setSort=function(e,t){var o=this,i=[];if(!Array.isArray(e)){e=[{column:e,dir:t}]}e.forEach(function(e){var t;t=o.table.columnManager.findColumn(e.column);if(t){e.column=t;i.push(e);o.changed=true}else{console.warn("Sort Warning - Sort field does not exist and is being ignored: ",e.column)}});o.sortList=i;if(this.table.options.persistentSort&&this.table.modExists("persistence",true)){this.table.modules.persistence.save("sort")}};V.prototype.clear=function(){this.setSort([])};V.prototype.findSorter=function(e){var t=this.table.rowManager.activeRows[0],o="string",n,s;if(t){t=t.getData();n=e.getField();if(n){s=e.getFieldValue(t);switch(typeof s==="undefined"?"undefined":i(s)){case"undefined":o="string";break;case"boolean":o="boolean";break;default:if(!isNaN(s)&&s!==""){o="number"}else{if(s.match(/((^[0-9]+[a-z]+)|(^[a-z]+[0-9]+))+$/i)){o="alphanum"}}break}}}return this.sorters[o]};V.prototype.sort=function(e){var t=this,o;o=this.table.options.sortOrderReverse?t.sortList.slice().reverse():t.sortList;if(t.table.options.dataSorting){t.table.options.dataSorting.call(t.table,t.getSort())}t.clearColumnHeaders();if(!t.table.options.ajaxSorting){o.forEach(function(i,n){if(i.column&&i.column.modules.sort){if(!i.column.modules.sort.sorter){i.column.modules.sort.sorter=t.findSorter(i.column)}t._sortItem(e,i.column,i.dir,o,n)}t.setColumnHeader(i.column,i.dir)})}else{o.forEach(function(e,o){t.setColumnHeader(e.column,e.dir)})}if(t.table.options.dataSorted){t.table.options.dataSorted.call(t.table,t.getSort(),t.table.rowManager.getComponents(true))}};V.prototype.clearColumnHeaders=function(){this.table.columnManager.getRealColumns().forEach(function(e){if(e.modules.sort){e.modules.sort.dir="none";e.getElement().setAttribute("aria-sort","none")}})};V.prototype.setColumnHeader=function(e,t){e.modules.sort.dir=t;e.getElement().setAttribute("aria-sort",t)};V.prototype._sortItem=function(e,t,o,i,n){var s=this;var r=typeof t.modules.sort.params==="function"?t.modules.sort.params(t.getComponent(),o):t.modules.sort.params;e.sort(function(e,a){var l=s._sortRow(e,a,t,o,r);if(l===0&&n){for(var u=n-1;u>=0;u--){l=s._sortRow(e,a,i[u].column,i[u].dir,r);if(l!==0){break}}}return l})};V.prototype._sortRow=function(e,t,o,i,n){var s,r;var a=i=="asc"?e:t;var l=i=="asc"?t:e;e=o.getFieldValue(a.getData());t=o.getFieldValue(l.getData());e=typeof e!=="undefined"?e:"";t=typeof t!=="undefined"?t:"";s=a.getComponent();r=l.getComponent();return o.modules.sort.sorter.call(this,e,t,s,r,o.getComponent(),i,n)};V.prototype.sorters={number:function e(t,o,i,n,s,r,a){var l=a.alignEmptyValues;var u=a.decimalSeparator||".";var c=a.thousandSeparator||",";var f=0;t=parseFloat(String(t).split(c).join("").split(u).join("."));o=parseFloat(String(o).split(c).join("").split(u).join("."));if(isNaN(t)){f=isNaN(o)?0:-1}else if(isNaN(o)){f=1}else{return t-o}if(l==="top"&&r==="desc"||l==="bottom"&&r==="asc"){f*=-1}return f},string:function e(t,o,n,s,r,a,l){var u=l.alignEmptyValues;var c=0;var f;if(!t){c=!o?0:-1}else if(!o){c=1}else{switch(i(l.locale)){case"boolean":if(l.locale){f=this.table.modules.localize.getLocale()}break;case"string":f=l.locale;break}return String(t).toLowerCase().localeCompare(String(o).toLowerCase(),f)}if(u==="top"&&a==="desc"||u==="bottom"&&a==="asc"){c*=-1}return c},date:function e(t,o,i,n,s,r,a){if(!a.format){a.format="DD/MM/YYYY"}return this.sorters.datetime.call(this,t,o,i,n,s,r,a)},time:function e(t,o,i,n,s,r,a){if(!a.format){a.format="hh:mm"}return this.sorters.datetime.call(this,t,o,i,n,s,r,a)},datetime:function e(t,o,i,n,s,r,a){var l=a.format||"DD/MM/YYYY hh:mm:ss",u=a.alignEmptyValues,c=0;if(typeof moment!="undefined"){t=moment(t,l);o=moment(o,l);if(!t.isValid()){c=!o.isValid()?0:-1}else if(!o.isValid()){c=1}else{return t-o}if(u==="top"&&r==="desc"||u==="bottom"&&r==="asc"){c*=-1}return c}else{console.error("Sort Error - 'datetime' sorter is dependant on moment.js")}},boolean:function e(t,o,i,n,s,r,a){var l=t===true||t==="true"||t==="True"||t===1?1:0;var u=o===true||o==="true"||o==="True"||o===1?1:0;return l-u},array:function e(t,o,i,n,s,r,a){var l=0;var u=0;var c=a.type||"length";var f=a.alignEmptyValues;var d=0;function h(e){switch(c){case"length":return e.length;break;case"sum":return e.reduce(function(e,t){return e+t});break;case"max":return Math.max.apply(null,e);break;case"min":return Math.min.apply(null,e);break;case"avg":return e.reduce(function(e,t){return e+t})/e.length;break}}if(!Array.isArray(t)){f=!Array.isArray(o)?0:-1}else if(!Array.isArray(o)){f=1}else{l=t?h(t):0;u=o?h(o):0;return l-u}if(f==="top"&&r==="desc"||f==="bottom"&&r==="asc"){d*=-1}return d},exists:function e(t,o,i,n,s,r,a){var l=typeof t=="undefined"?0:1;var u=typeof o=="undefined"?0:1;return l-u},alphanum:function e(t,o,i,n,s,r,a){var l,u,c,f,d=0,h,p=/(\d+)|(\D+)/g,m=/\d/;var g=a.alignEmptyValues;var b=0;if(!t&&t!==0){b=!o&&o!==0?0:-1}else if(!o&&o!==0){b=1}else{if(isFinite(t)&&isFinite(o))return t-o;l=String(t).toLowerCase();u=String(o).toLowerCase();if(l===u)return 0;if(!(m.test(l)&&m.test(u)))return l>u?1:-1;l=l.match(p);u=u.match(p);h=l.length>u.length?u.length:l.length;while(d<h){c=l[d];f=u[d++];if(c!==f){if(isFinite(c)&&isFinite(f)){if(c.charAt(0)==="0")c="."+c;if(f.charAt(0)==="0")f="."+f;return c-f}else return c>f?1:-1}}return l.length>u.length}if(g==="top"&&r==="desc"||g==="bottom"&&r==="asc"){b*=-1}return b}};f.prototype.registerModule("sort",V);var W=function e(t){this.table=t};W.prototype.initializeColumn=function(e){var t=this,o=[],i;if(e.definition.validator){if(Array.isArray(e.definition.validator)){e.definition.validator.forEach(function(e){i=t._extractValidator(e);if(i){o.push(i)}})}else{i=this._extractValidator(e.definition.validator);if(i){o.push(i)}}e.modules.validate=o.length?o:false}};W.prototype._extractValidator=function(e){var t,o,n;switch(typeof e==="undefined"?"undefined":i(e)){case"string":t=e.split(":",2);o=t.shift();n=t[0];return this._buildValidator(o,n);break;case"function":return this._buildValidator(e);break;case"object":return this._buildValidator(e.type,e.parameters);break}};W.prototype._buildValidator=function(e,t){var o=typeof e=="function"?e:this.validators[e];if(!o){console.warn("Validator Setup Error - No matching validator found:",e);return false}else{return{type:typeof e=="function"?"function":e,func:o,params:t}}};W.prototype.validate=function(e,t,o){var i=this,n=[];if(e){e.forEach(function(e){if(!e.func.call(i,t,o,e.params)){n.push({type:e.type,parameters:e.params})}})}return n.length?n:true};W.prototype.validators={integer:function e(t,o,i){if(o===""||o===null||typeof o==="undefined"){return true}o=Number(o);return typeof o==="number"&&isFinite(o)&&Math.floor(o)===o},float:function e(t,o,i){if(o===""||o===null||typeof o==="undefined"){return true}o=Number(o);return typeof o==="number"&&isFinite(o)&&o%1!==0},numeric:function e(t,o,i){if(o===""||o===null||typeof o==="undefined"){return true}return!isNaN(o)},string:function e(t,o,i){if(o===""||o===null||typeof o==="undefined"){return true}return isNaN(o)},max:function e(t,o,i){if(o===""||o===null||typeof o==="undefined"){return true}return parseFloat(o)<=i},min:function e(t,o,i){if(o===""||o===null||typeof o==="undefined"){return true}return parseFloat(o)>=i},minLength:function e(t,o,i){if(o===""||o===null||typeof o==="undefined"){return true}return String(o).length>=i},maxLength:function e(t,o,i){if(o===""||o===null||typeof o==="undefined"){return true}return String(o).length<=i},in:function e(t,o,i){if(o===""||o===null||typeof o==="undefined"){return true}if(typeof i=="string"){i=i.split("|")}return o===""||i.indexOf(o)>-1},regex:function e(t,o,i){if(o===""||o===null||typeof o==="undefined"){return true}var n=new RegExp(i);return n.test(o)},unique:function e(t,o,i){if(o===""||o===null||typeof o==="undefined"){return true}var e=true;var n=t.getData();var s=t.getColumn()._getSelf();this.table.rowManager.rows.forEach(function(t){var i=t.getData();if(i!==n){if(o==s.getFieldValue(i)){e=false}}});return e},required:function e(t,o,i){return o!==""&o!==null&&typeof o!=="undefined"}};f.prototype.registerModule("validate",W);return f})});function l(){return{layout:"fitColumns",autoResize:true,resizableColumns:false,responsiveLayout:"collapse",virtualDom:true,height:"100%",ajaxURL:"/"}}function u(e,t){t.index=e.idProperty||"id";t.placeholder=e.noDataMessage||t.placeholder;t.selectable=e.selectable}function c(e){return e.map(function(e){var t={title:e.title,field:e.property,width:e.width,widthGrow:e.grow,formatter:e.formatter};if(e.sorter){var o=e.sorter;t.sorter=function(e,t){return o(e,t)}}return t})}function f(e,t){var o;if(!e){console.error("config.dataService must be set");return o}if(e.type==="scrolled"){var i=e;t.paginationSize=i.options&&i.options.requestLimit||100;if(i.provider.type==="default"){o=i.provider}else if(i.provider.type==="lazy"){t.ajaxSorting=true;t.ajaxProgressiveLoad="scroll";o=i.provider}}else if(e.type==="paginated"){var i=e;t.paginationSize=i.options&&i.options.pageSize||50;if(i.provider.type==="default"){t.pagination="local";o=i.provider}else if(i.provider.type==="lazy"){t.ajaxSorting=true;t.pagination="remote";o=i.provider}}else{console.error("unknown dataservice",e.type)}return o}var d=function(){function e(e){o(this,e);this.itemSelected=i(this,"itemSelected",7)}e.prototype.configChanged=function(){this.initTable()};e.prototype.setSelection=function(e){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){this.selected=e;this.updateRowSelection();return[2]})})};e.prototype.reloadData=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){if(this.table){this.table.replaceData()}return[2]})})};e.prototype.initTable=function(){var e=this;if(this.table||!this.tableContainer||!this.config){return}var t=l();if(this.config){u(this.config,t);t.columns=c(this.config.columns);this.dataProvider=f(this.config.dataService,t)}t.rowClick=function(t,o){var i=o.getData();e.selected=i[e.table.options.index];e.itemSelected.emit(i)},t.dataLoaded=function(){return e.updateRowSelection()};t.ajaxRequestFunc=function(t,o,i){return e.requestFunc(t,o,i)},this.table=new a(this.tableContainer,t)};e.prototype.updateRowSelection=function(){var e=this;if(!this.table){return}if(this.table.getData().findIndex(function(t){return t[e.table.options.index]==e.selected})<=0){return}this.table.selectRow(this.selected)};e.prototype.requestFunc=function(e,t,o){return __awaiter(this,void 0,void 0,function(){var e;return __generator(this,function(t){switch(t.label){case 0:if(!!o.page)return[3,2];return[4,this.dataProvider.getData()];case 1:return[2,t.sent()];case 2:return[4,this.dataProvider.getData(o.page,o.size,o.sorters)];case 3:e=t.sent();return[2,{last_page:e.data.length===0?0:e.totalRows/e.data.length,data:e.data}]}})})};e.prototype.render=function(){var e=this;return n("div",{ref:function(t){e.tableContainer=t;e.initTable()},class:this.config&&this.config.dataService&&this.config.dataService.type==="scrolled"?"scrolled-table--limited-height":""})};Object.defineProperty(e,"watchers",{get:function(){return{config:["configChanged"]}},enumerable:true,configurable:true});Object.defineProperty(e,"style",{get:function(){return":host{--og-datatable__tabulator-FontSize:inherit;--og-datatable__tabulator-Background:transparent;--og-datatable__tabulator-BorderWidth:1px 0;--og-datatable__tabulator-BorderStyle:solid;--og-datatable__tabulator-BorderColor:var(--OG-COLOR-SHADE--100--20,rgba(57,83,96,0.2));--og-datatable__tabulator-table-Color:var(--OG-COLOR-SHADE--100,#395360);--og-datatable__tabulator-header-Background:var(--OG-COLOR-PRIMARY--0--30,hsla(0,0%,100%,0.3));--og-datatable__tabulator-header-BorderWidth:0 0 1px 0;--og-datatable__tabulator-header-BorderStyle:solid;--og-datatable__tabulator-header-BorderColor:var(--OG-COLOR-SHADE--100--20,rgba(57,83,96,0.2));--og-datatable__tabulator-header-FontWeight:var(--OG-FONT-WEIGHT--MEDIUM,500);--og-datatable__tabulator-header__tabulator-col-Background:transparent;--og-datatable__tabulator-header__tabulator-col-Background--hover:var(--og-datatable__tabulator-header__tabulator-col-Background);--og-datatable__tabulator-header__tabulator-col-BorderWidth:0;--og-datatable__tabulator-header__tabulator-col-BorderStyle:solid;--og-datatable__tabulator-header__tabulator-col-BorderColor:transparent;--og-datatable__scrollbar-track-Background:var(--OG-COLOR-SECONDARY--100--10,rgba(51,51,51,0.1));--og-datatable__scrollbar-thumb-Background:var(--OG-COLOR-SHADE--100,#395360);--og-datatable__tabulator-header__tabulator-arrow-Background:var(--og-datatable__tabulator-table-Color);--og-datatable__tabulator-header__tabulator-arrow-Mask:url(\"data:image/svg+xml,%3Csvg class=\'tabulator-chevron\' version=\'1.1\' xmlns=\'http://www.w3.org/2000/svg\' xmlnsXlink=\'http://www.w3.org/1999/xlink\' viewBox=\'0 0 24 12\' preserveAspectRatio=\'none\' %0A%3E%3Cpolyline class=\'tabulator-chevron__line\' points=\'2,2 12,10 22,2\' fill=\'none\' stroke=\'white\' stroke-width=\'2\' stroke-linecap=\'round\' stroke-linejoin=\'round\' /%3E%3C/svg%3E\");--og-datatable__tabulator-row-Background:transparent;--og-datatable__tabulator-row-Background--even:var(--og-datatable__tabulator-row-Background);--og-datatable__tabulator-row-Background--hover:var(--OG-COLOR-PRIMARY--100--15,rgba(29,162,211,0.15));--og-datatable__tabulator-row-Background--selected:var(--OG-COLOR-PRIMARY--100--30,rgba(29,162,211,0.3));--og-datatable__tabulator-row-Background--selected-hover:var(--OG-COLOR-PRIMARY--100--30,rgba(29,162,211,0.3));--og-datatable__tabulator-row-BorderWidth:0 0 1px 0;--og-datatable__tabulator-row-BorderStyle:solid;--og-datatable__tabulator-row-BorderColor:var(--OG-COLOR-SHADE--100--20,rgba(57,83,96,0.2));--og-datatable__tabulator-footer-Background:var(--OG-COLOR-PRIMARY--0--30,hsla(0,0%,100%,0.3));--og-datatable__tabulator-footer-BorderWidth:1px 0 0 0;--og-datatable__tabulator-footer-BorderStyle:solid;--og-datatable__tabulator-footer-BorderColor:var(--OG-COLOR-SHADE--100--20,rgba(57,83,96,0.2));--og-datatable__tabulator-page-Background:transparent;--og-datatable__tabulator-page-Background--hover:var(--OG-COLOR-SHADE--100--10,rgba(57,83,96,0.1));--og-datatable__tabulator-page-Background--active:var(--OG-COLOR-SHADE--100--20,rgba(57,83,96,0.2));--og-datatable__tabulator-page-Background--disabled:transparent;--og-datatable__tabulator-page-Color:var(--OG-COLOR-SHADE--100,#395360);--og-datatable__tabulator-page-Color--hover:var(--OG-COLOR-SHADE--100,#395360);--og-datatable__tabulator-page-Color--active:var(--OG-COLOR-SHADE--100,#395360);--og-datatable__tabulator-page-Color--disabled:var(--OG-COLOR-SHADE--100--30,rgba(57,83,96,0.3))}.tabulator{position:relative;border:1px solid #999;background-color:#888;font-size:14px;text-align:left;overflow:hidden;-webkit-transform:translatez(0);-moz-transform:translatez(0);-ms-transform:translatez(0);-o-transform:translatez(0);transform:translatez(0)}.tabulator[tabulator-layout=fitDataFill] .tabulator-tableHolder .tabulator-table{min-width:100%}.tabulator.tabulator-block-select{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.tabulator .tabulator-header{width:100%;border-bottom:1px solid #999;background-color:#e6e6e6;color:#555;font-weight:700;white-space:nowrap;-moz-user-select:none;-khtml-user-select:none;-webkit-user-select:none;-o-user-select:none}.tabulator .tabulator-header,.tabulator .tabulator-header .tabulator-col{position:relative;-webkit-box-sizing:border-box;box-sizing:border-box;overflow:hidden}.tabulator .tabulator-header .tabulator-col{display:inline-block;border-right:1px solid #aaa;background:#e6e6e6;text-align:left;vertical-align:bottom}.tabulator .tabulator-header .tabulator-col.tabulator-moving{position:absolute;border:1px solid #999;background:#cdcdcd;pointer-events:none}.tabulator .tabulator-header .tabulator-col .tabulator-col-content{-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;padding:4px}.tabulator .tabulator-header .tabulator-col .tabulator-col-content .tabulator-col-title{-webkit-box-sizing:border-box;box-sizing:border-box;width:100%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;vertical-align:bottom}.tabulator .tabulator-header .tabulator-col .tabulator-col-content .tabulator-col-title .tabulator-title-editor{-webkit-box-sizing:border-box;box-sizing:border-box;width:100%;border:1px solid #999;padding:1px;background:#fff}.tabulator .tabulator-header .tabulator-col .tabulator-col-content .tabulator-arrow{display:inline-block;position:absolute;top:9px;right:8px;width:0;height:0;border-left:6px solid transparent;border-right:6px solid transparent;border-bottom:6px solid #bbb}.tabulator .tabulator-header .tabulator-col.tabulator-col-group .tabulator-col-group-cols{position:relative;display:-ms-flexbox;display:flex;border-top:1px solid #aaa;overflow:hidden}.tabulator .tabulator-header .tabulator-col.tabulator-col-group .tabulator-col-group-cols .tabulator-col:last-child{margin-right:-1px}.tabulator .tabulator-header .tabulator-col:first-child .tabulator-col-resize-handle.prev{display:none}.tabulator .tabulator-header .tabulator-col.ui-sortable-helper{position:absolute;background-color:#e6e6e6!important;border:1px solid #aaa}.tabulator .tabulator-header .tabulator-col .tabulator-header-filter{position:relative;-webkit-box-sizing:border-box;box-sizing:border-box;margin-top:2px;width:100%;text-align:center}.tabulator .tabulator-header .tabulator-col .tabulator-header-filter textarea{height:auto!important}.tabulator .tabulator-header .tabulator-col .tabulator-header-filter svg{margin-top:3px}.tabulator .tabulator-header .tabulator-col .tabulator-header-filter input::-ms-clear{width:0;height:0}.tabulator .tabulator-header .tabulator-col.tabulator-sortable .tabulator-col-title{padding-right:25px}.tabulator .tabulator-header .tabulator-col.tabulator-sortable:hover{cursor:pointer;background-color:#cdcdcd}.tabulator .tabulator-header .tabulator-col.tabulator-sortable[aria-sort=none] .tabulator-col-content .tabulator-arrow{border-top:none;border-bottom:6px solid #bbb}.tabulator .tabulator-header .tabulator-col.tabulator-sortable[aria-sort=asc] .tabulator-col-content .tabulator-arrow{border-top:none;border-bottom:6px solid #666}.tabulator .tabulator-header .tabulator-col.tabulator-sortable[aria-sort=desc] .tabulator-col-content .tabulator-arrow{border-top:6px solid #666;border-bottom:none}.tabulator .tabulator-header .tabulator-col.tabulator-col-vertical .tabulator-col-content .tabulator-col-title{-webkit-writing-mode:vertical-rl;-ms-writing-mode:tb-rl;writing-mode:vertical-rl;-webkit-text-orientation:mixed;text-orientation:mixed;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center}.tabulator .tabulator-header .tabulator-col.tabulator-col-vertical.tabulator-col-vertical-flip .tabulator-col-title{-webkit-transform:rotate(180deg);transform:rotate(180deg)}.tabulator .tabulator-header .tabulator-col.tabulator-col-vertical.tabulator-sortable .tabulator-col-title{padding-right:0;padding-top:20px}.tabulator .tabulator-header .tabulator-col.tabulator-col-vertical.tabulator-sortable.tabulator-col-vertical-flip .tabulator-col-title{padding-right:0;padding-bottom:20px}.tabulator .tabulator-header .tabulator-col.tabulator-col-vertical.tabulator-sortable .tabulator-arrow{right:calc(50% - 6px)}.tabulator .tabulator-header .tabulator-frozen{display:inline-block;position:absolute;z-index:10}.tabulator .tabulator-header .tabulator-frozen.tabulator-frozen-left{border-right:2px solid #aaa}.tabulator .tabulator-header .tabulator-frozen.tabulator-frozen-right{border-left:2px solid #aaa}.tabulator .tabulator-header .tabulator-calcs-holder{-webkit-box-sizing:border-box;box-sizing:border-box;min-width:400%;background:#f3f3f3!important;border-top:1px solid #aaa;border-bottom:1px solid #aaa;overflow:hidden}.tabulator .tabulator-header .tabulator-calcs-holder .tabulator-row{background:#f3f3f3!important}.tabulator .tabulator-header .tabulator-calcs-holder .tabulator-row .tabulator-col-resize-handle{display:none}.tabulator .tabulator-header .tabulator-frozen-rows-holder{min-width:400%}.tabulator .tabulator-header .tabulator-frozen-rows-holder:empty{display:none}.tabulator .tabulator-tableHolder{position:relative;width:100%;white-space:nowrap;overflow:auto;-webkit-overflow-scrolling:touch}.tabulator .tabulator-tableHolder:focus{outline:none}.tabulator .tabulator-tableHolder .tabulator-placeholder{-webkit-box-sizing:border-box;box-sizing:border-box;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;width:100%}.tabulator .tabulator-tableHolder .tabulator-placeholder[tabulator-render-mode=virtual]{position:absolute;top:0;left:0;height:100%}.tabulator .tabulator-tableHolder .tabulator-placeholder span{display:inline-block;margin:0 auto;padding:10px;color:#ccc;font-weight:700;font-size:20px}.tabulator .tabulator-tableHolder .tabulator-table{position:relative;display:inline-block;background-color:#fff;white-space:nowrap;overflow:visible;color:#333}.tabulator .tabulator-tableHolder .tabulator-table .tabulator-row.tabulator-calcs{font-weight:700;background:#e2e2e2!important}.tabulator .tabulator-tableHolder .tabulator-table .tabulator-row.tabulator-calcs.tabulator-calcs-top{border-bottom:2px solid #aaa}.tabulator .tabulator-tableHolder .tabulator-table .tabulator-row.tabulator-calcs.tabulator-calcs-bottom{border-top:2px solid #aaa}.tabulator .tabulator-footer{padding:5px 10px;border-top:1px solid #999;background-color:#e6e6e6;text-align:right;color:#555;font-weight:700;white-space:nowrap;-ms-user-select:none;user-select:none;-moz-user-select:none;-khtml-user-select:none;-webkit-user-select:none;-o-user-select:none}.tabulator .tabulator-footer .tabulator-calcs-holder{-webkit-box-sizing:border-box;box-sizing:border-box;width:calc(100% + 20px);margin:-5px -10px 5px -10px;text-align:left;background:#f3f3f3!important;border-bottom:1px solid #aaa;border-top:1px solid #aaa;overflow:hidden}.tabulator .tabulator-footer .tabulator-calcs-holder .tabulator-row{background:#f3f3f3!important}.tabulator .tabulator-footer .tabulator-calcs-holder .tabulator-row .tabulator-col-resize-handle{display:none}.tabulator .tabulator-footer .tabulator-calcs-holder:only-child{margin-bottom:-5px;border-bottom:none}.tabulator .tabulator-footer .tabulator-paginator{color:#555;font-family:inherit;font-weight:inherit;font-size:inherit}.tabulator .tabulator-footer .tabulator-page-size{display:inline-block;margin:0 5px;padding:2px 5px;border:1px solid #aaa;border-radius:3px}.tabulator .tabulator-footer .tabulator-pages{margin:0 7px}.tabulator .tabulator-footer .tabulator-page{display:inline-block;margin:0 2px;padding:2px 5px;border:1px solid #aaa;border-radius:3px;background:hsla(0,0%,100%,.2)}.tabulator .tabulator-footer .tabulator-page.active{color:#d00}.tabulator .tabulator-footer .tabulator-page:disabled{opacity:.5}.tabulator .tabulator-footer .tabulator-page:not(.disabled):hover{cursor:pointer;background:rgba(0,0,0,.2);color:#fff}.tabulator .tabulator-col-resize-handle{position:absolute;right:0;top:0;bottom:0;width:5px}.tabulator .tabulator-col-resize-handle.prev{left:0;right:auto}.tabulator .tabulator-col-resize-handle:hover{cursor:ew-resize}.tabulator .tabulator-loader{position:absolute;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;top:0;left:0;z-index:100;height:100%;width:100%;background:rgba(0,0,0,.4);text-align:center}.tabulator .tabulator-loader .tabulator-loader-msg{display:inline-block;margin:0 auto;padding:10px 20px;border-radius:10px;background:#fff;font-weight:700;font-size:16px}.tabulator .tabulator-loader .tabulator-loader-msg.tabulator-loading{border:4px solid #333;color:#000}.tabulator .tabulator-loader .tabulator-loader-msg.tabulator-error{border:4px solid #d00;color:#590000}.tabulator-row{position:relative;-webkit-box-sizing:border-box;box-sizing:border-box;min-height:22px;background-color:#fff}.tabulator-row.tabulator-row-even{background-color:#efefef}.tabulator-row.tabulator-selectable:hover{background-color:#bbb;cursor:pointer}.tabulator-row.tabulator-selected{background-color:#9abcea}.tabulator-row.tabulator-selected:hover{background-color:#769bcc;cursor:pointer}.tabulator-row.tabulator-row-moving{border:1px solid #000;background:#fff}.tabulator-row.tabulator-moving{position:absolute;border-top:1px solid #aaa;border-bottom:1px solid #aaa;pointer-events:none;z-index:15}.tabulator-row .tabulator-row-resize-handle{position:absolute;right:0;bottom:0;left:0;height:5px}.tabulator-row .tabulator-row-resize-handle.prev{top:0;bottom:auto}.tabulator-row .tabulator-row-resize-handle:hover{cursor:ns-resize}.tabulator-row .tabulator-frozen{display:inline-block;position:absolute;background-color:inherit;z-index:10}.tabulator-row .tabulator-frozen.tabulator-frozen-left{border-right:2px solid #aaa}.tabulator-row .tabulator-frozen.tabulator-frozen-right{border-left:2px solid #aaa}.tabulator-row .tabulator-responsive-collapse{-webkit-box-sizing:border-box;box-sizing:border-box;padding:5px;border-top:1px solid #aaa;border-bottom:1px solid #aaa}.tabulator-row .tabulator-responsive-collapse:empty{display:none}.tabulator-row .tabulator-responsive-collapse table{font-size:14px}.tabulator-row .tabulator-responsive-collapse table tr td{position:relative}.tabulator-row .tabulator-responsive-collapse table tr td:first-of-type{padding-right:10px}.tabulator-row .tabulator-cell{display:inline-block;position:relative;-webkit-box-sizing:border-box;box-sizing:border-box;padding:4px;border-right:1px solid #aaa;vertical-align:middle;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.tabulator-row .tabulator-cell.tabulator-editing{border:1px solid #1d68cd;padding:0}.tabulator-row .tabulator-cell.tabulator-editing input,.tabulator-row .tabulator-cell.tabulator-editing select{border:1px;background:transparent}.tabulator-row .tabulator-cell.tabulator-validation-fail{border:1px solid #d00}.tabulator-row .tabulator-cell.tabulator-validation-fail input,.tabulator-row .tabulator-cell.tabulator-validation-fail select{border:1px;background:transparent;color:#d00}.tabulator-row .tabulator-cell:first-child .tabulator-col-resize-handle.prev{display:none}.tabulator-row .tabulator-cell.tabulator-row-handle{display:-ms-inline-flexbox;display:inline-flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;-moz-user-select:none;-khtml-user-select:none;-webkit-user-select:none;-o-user-select:none}.tabulator-row .tabulator-cell.tabulator-row-handle .tabulator-row-handle-box{width:80%}.tabulator-row .tabulator-cell.tabulator-row-handle .tabulator-row-handle-box .tabulator-row-handle-bar{width:100%;height:3px;margin-top:2px;background:#666}.tabulator-row .tabulator-cell .tabulator-data-tree-branch{display:inline-block;vertical-align:middle;height:9px;width:7px;margin-top:-9px;margin-right:5px;border-bottom-left-radius:1px;border-left:2px solid #aaa;border-bottom:2px solid #aaa}.tabulator-row .tabulator-cell .tabulator-data-tree-control{display:-ms-inline-flexbox;display:inline-flex;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center;vertical-align:middle;height:11px;width:11px;margin-right:5px;border:1px solid #333;border-radius:2px;background:rgba(0,0,0,.1);overflow:hidden}.tabulator-row .tabulator-cell .tabulator-data-tree-control:hover{cursor:pointer;background:rgba(0,0,0,.2)}.tabulator-row .tabulator-cell .tabulator-data-tree-control .tabulator-data-tree-control-collapse{display:inline-block;position:relative;height:7px;width:1px;background:transparent}.tabulator-row .tabulator-cell .tabulator-data-tree-control .tabulator-data-tree-control-collapse:after{position:absolute;content:\"\";left:-3px;top:3px;height:1px;width:7px;background:#333}.tabulator-row .tabulator-cell .tabulator-data-tree-control .tabulator-data-tree-control-expand{display:inline-block;position:relative;height:7px;width:1px;background:#333}.tabulator-row .tabulator-cell .tabulator-data-tree-control .tabulator-data-tree-control-expand:after{position:absolute;content:\"\";left:-3px;top:3px;height:1px;width:7px;background:#333}.tabulator-row .tabulator-cell .tabulator-responsive-collapse-toggle{display:-ms-inline-flexbox;display:inline-flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;-moz-user-select:none;-khtml-user-select:none;-webkit-user-select:none;-o-user-select:none;height:15px;width:15px;border-radius:20px;background:#666;color:#fff;font-weight:700;font-size:1.1em}.tabulator-row .tabulator-cell .tabulator-responsive-collapse-toggle:hover{opacity:.7}.tabulator-row .tabulator-cell .tabulator-responsive-collapse-toggle.open .tabulator-responsive-collapse-toggle-close{display:initial}.tabulator-row .tabulator-cell .tabulator-responsive-collapse-toggle.open .tabulator-responsive-collapse-toggle-open,.tabulator-row .tabulator-cell .tabulator-responsive-collapse-toggle .tabulator-responsive-collapse-toggle-close{display:none}.tabulator-row .tabulator-cell .tabulator-traffic-light{display:inline-block;height:14px;width:14px;border-radius:14px}.tabulator-row.tabulator-group{-webkit-box-sizing:border-box;box-sizing:border-box;border-bottom:1px solid #999;border-right:1px solid #aaa;border-top:1px solid #999;padding:5px;padding-left:10px;background:#ccc;font-weight:700;min-width:100%}.tabulator-row.tabulator-group:hover{cursor:pointer;background-color:rgba(0,0,0,.1)}.tabulator-row.tabulator-group.tabulator-group-visible .tabulator-arrow{margin-right:10px;border-left:6px solid transparent;border-right:6px solid transparent;border-top:6px solid #666;border-bottom:0}.tabulator-row.tabulator-group.tabulator-group-level-1{padding-left:30px}.tabulator-row.tabulator-group.tabulator-group-level-2{padding-left:50px}.tabulator-row.tabulator-group.tabulator-group-level-3{padding-left:70px}.tabulator-row.tabulator-group.tabulator-group-level-4{padding-left:90px}.tabulator-row.tabulator-group.tabulator-group-level-5{padding-left:110px}.tabulator-row.tabulator-group .tabulator-arrow{display:inline-block;width:0;height:0;margin-right:16px;border-top:6px solid transparent;border-bottom:6px solid transparent;border-right:0;border-left:6px solid #666;vertical-align:middle}.tabulator-row.tabulator-group span{margin-left:10px;color:#d00}.tabulator-edit-select-list{position:absolute;display:inline-block;-webkit-box-sizing:border-box;box-sizing:border-box;max-height:200px;background:#fff;border:1px solid #aaa;font-size:14px;overflow-y:auto;-webkit-overflow-scrolling:touch;z-index:10000}.tabulator-edit-select-list .tabulator-edit-select-list-item{padding:4px;color:#333}.tabulator-edit-select-list .tabulator-edit-select-list-item.active{color:#fff;background:#1d68cd}.tabulator-edit-select-list .tabulator-edit-select-list-item:hover{cursor:pointer;color:#fff;background:#1d68cd}.tabulator-edit-select-list .tabulator-edit-select-list-group{border-bottom:1px solid #aaa;padding:4px;padding-top:6px;color:#333;font-weight:700}.tabulator{font-size:var(--og-datatable__tabulator-FontSize);background:var(--og-datatable__tabulator-Background);border-width:var(--og-datatable__tabulator-BorderWidth);border-style:var(--og-datatable__tabulator-BorderStyle);border-color:var(--og-datatable__tabulator-BorderColor)}.tabulator .tabulator-header{background:var(--og-datatable__tabulator-header-Background);border-width:var(--og-datatable__tabulator-header-BorderWidth);border-style:var(--og-datatable__tabulator-header-BorderStyle);border-color:var(--og-datatable__tabulator-header-BorderColor);color:inherit;font-weight:var(--og-datatable__tabulator-header-FontWeight)}.tabulator .tabulator-header .tabulator-col{background:var(--og-datatable__tabulator-header__tabulator-col-Background);border-width:var(--og-datatable__tabulator-header__tabulator-col-BorderWidth);border-style:var(--og-datatable__tabulator-header__tabulator-col-BorderStyle);border-color:var(--og-datatable__tabulator-header__tabulator-col-BorderColor)}.tabulator .tabulator-header .tabulator-col.tabulator-sortable:hover{background:var(--og-datatable__tabulator-header__tabulator-col-Background--hover)}.tabulator .tabulator-header .tabulator-col.tabulator-sortable[aria-sort=asc] .tabulator-col-content .tabulator-arrow,.tabulator .tabulator-header .tabulator-col.tabulator-sortable[aria-sort=desc] .tabulator-col-content .tabulator-arrow,.tabulator .tabulator-header .tabulator-col.tabulator-sortable[aria-sort=none] .tabulator-col-content .tabulator-arrow{border:none}.tabulator .tabulator-header .tabulator-col.tabulator-sortable[aria-sort=desc] .tabulator-col-content .tabulator-arrow{-webkit-transform:rotate(180deg);transform:rotate(180deg)}.tabulator .tabulator-header .tabulator-col .tabulator-col-content{padding:16px 8px}.tabulator .tabulator-header .tabulator-col .tabulator-col-content .tabulator-col-title{text-transform:uppercase;font-size:14px}.tabulator .tabulator-header .tabulator-col .tabulator-col-content .tabulator-arrow{-webkit-transition:all .2s ease;transition:all .2s ease;width:14px;height:8px;background:var(--og-datatable__tabulator-header__tabulator-arrow-Background);-webkit-mask:var(--og-datatable__tabulator-header__tabulator-arrow-Mask);mask:var(--og-datatable__tabulator-header__tabulator-arrow-Mask);-webkit-mask-size:cover;mask-size:cover;border:none;top:20px}.tabulator .tabulator-tableHolder::-webkit-scrollbar-track{border-radius:4px;background:var(--og-datatable__scrollbar-track-Background)}.tabulator .tabulator-tableHolder::-webkit-scrollbar{width:8px;background:transparent}.tabulator .tabulator-tableHolder::-webkit-scrollbar-thumb{border-radius:4px;-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3);box-shadow:inset 0 0 6px rgba(0,0,0,.3);background:var(--og-datatable__scrollbar-thumb-Background)}.tabulator .tabulator-tableHolder .tabulator-table{background:transparent;color:var(--og-datatable__tabulator-table-Color)}.tabulator .tabulator-footer{border-top:none;background:var(--og-datatable__tabulator-footer-Background);border-width:var(--og-datatable__tabulator-footer-BorderWidth);border-style:var(--og-datatable__tabulator-footer-BorderStyle);border-color:var(--og-datatable__tabulator-footer-BorderColor);padding:10px}.tabulator .tabulator-footer .tabulator-page{font-size:.8rem;line-height:1.5;text-transform:uppercase;border:none;padding:8px 12px;background:var(--og-datatable__tabulator-page-Background);color:var(--og-datatable__tabulator-page-Color)}.tabulator .tabulator-footer .tabulator-page[disabled]{opacity:1}.tabulator .tabulator-footer .tabulator-page[disabled],.tabulator .tabulator-footer .tabulator-page[disabled]:not(.disabled):hover{background:var(--og-datatable__tabulator-page-Background--disabled);color:var(--og-datatable__tabulator-page-Color--disabled)}.tabulator .tabulator-footer .tabulator-page:not([disabled]):hover{background:var(--og-datatable__tabulator-page-Background--hover);color:var(--og-datatable__tabulator-page-Color--hover)}.tabulator .tabulator-footer .tabulator-page.active,.tabulator .tabulator-footer .tabulator-page.active:hover{background:var(--og-datatable__tabulator-page-Background--active);color:var(--og-datatable__tabulator-page-Color--active)}.tabulator-row{background:var(--og-datatable__tabulator-row-Background);border-bottom:none;color:inherit;-webkit-transition:all .3s ease;transition:all .3s ease}.tabulator-row.tabulator-row-even{background-color:var(--og-datatable__tabulator-row-Background--even)}.tabulator-row.tabulator-selectable.tabulator-selected{background:var(--og-datatable__tabulator-row-Background--selected)}.tabulator-row.tabulator-selectable.tabulator-selected:hover{background:var(--og-datatable__tabulator-row-Background--selected-hover)}.tabulator-row.tabulator-selectable:hover{background:var(--og-datatable__tabulator-row-Background--hover)}.tabulator-row .tabulator-cell{padding:16px 8px;border-width:var(--og-datatable__tabulator-row-BorderWidth);border-style:var(--og-datatable__tabulator-row-BorderStyle);border-color:var(--og-datatable__tabulator-row-BorderColor)}.scrolled-table--limited-height .tabulator-tableHolder{max-height:2500px!important}"},enumerable:true,configurable:true});return e}();t("og_datatable",d)}}});